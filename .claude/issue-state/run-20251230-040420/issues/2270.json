{
  "number": 2270,
  "title": "refactor(socket-async): simplify socket_async_continue_request mutex logic",
  "body": "## Summary\n`socket_async_continue_request` (lines 1240-1304) has complex mutex lock/unlock sequences with request manipulation spanning 64 lines.\n\n## Location\n- File: `/home/tetsuo/git/tetsuo-socket/src/socket/SocketAsync.c`\n- Lines: 1240-1304\n\n## Issue\nThe function:\n1. Locks mutex\n2. Finds original request\n3. Validates type and completion status\n4. Extracts request fields\n5. Removes request from hash table\n6. Unlocks mutex\n7. Frees original request\n8. Creates new request\n9. Submits new request (which locks mutex again internally)\n\nThis creates multiple critical sections with non-obvious invariants.\n\n## Recommendation\nBreak into smaller, focused functions:\n```c\nstatic struct AsyncRequest *\nextract_continue_request(T async, unsigned request_id, \n                         enum AsyncRequestType expected_type,\n                         size_t *remaining_len);\n\nstatic unsigned\nresubmit_continuation(T async, struct AsyncRequest *orig_req,\n                      size_t remaining_len);\n```\n\nThis separates concerns:\n- Request extraction and validation\n- New request creation and submission\n\n## Category\nRefactoring\n\n## Severity\nMEDIUM\n\n## Pattern ID\nCOMPLEX_MUTEX_LOGIC",
  "labels": [],
  "state": "OPEN",
  "dependencies": []
}