{
  "number": 2248,
  "title": "refactor(quic): extract common array length calculation macro",
  "body": "## Summary\n\nThe file `src/quic/SocketQUICStream-state.c` uses the same `sizeof` pattern to calculate array lengths in two locations. This pattern should be extracted to a common macro for consistency and maintainability.\n\n## Current Code\n\n**Line 183-184:**\n```c\n#define SEND_TRANSITIONS_COUNT                                                \\\n  (sizeof (send_transitions) / sizeof (send_transitions[0]))\n```\n\n**Line 286-287:**\n```c\n#define RECV_TRANSITIONS_COUNT                                                \\\n  (sizeof (recv_transitions) / sizeof (recv_transitions[0]))\n```\n\n## Recommendation\n\nCreate a generic `ARRAY_LENGTH(arr)` macro in a common header (e.g., `core/SocketUtil.h`) and use it consistently:\n\n```c\n#define SEND_TRANSITIONS_COUNT ARRAY_LENGTH(send_transitions)\n#define RECV_TRANSITIONS_COUNT ARRAY_LENGTH(recv_transitions)\n```\n\n## Impact\n\n- **Category**: Redundancy\n- **Severity**: LOW\n- **File**: `src/quic/SocketQUICStream-state.c`\n- **Lines**: 183-184, 286-287\n- **Pattern**: `REPEATED_ARRAY_LENGTH_CALC`\n\n## Benefits\n\n- Reduces code duplication\n- Makes the pattern more obvious\n- Easier to maintain\n- Consistent with C best practices",
  "labels": [
    "enhancement",
    "quic"
  ],
  "state": "OPEN",
  "dependencies": []
}