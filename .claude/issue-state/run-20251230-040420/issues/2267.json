{
  "number": 2267,
  "title": "refactor(socket-async): optimize exception handling in batch submission",
  "body": "## Summary\n`SocketAsync_submit_batch` uses TRY/EXCEPT blocks inside a loop (lines 1086-1105), causing exception handling overhead on every iteration.\n\n## Location\n- File: `/home/tetsuo/git/tetsuo-socket/src/socket/SocketAsync.c`\n- Lines: 1062-1113\n\n## Issue\nCurrent implementation:\n```c\nfor (i = 0; i < count; i++) {\n    TRY {\n        if (op->is_send)\n            req_id = SocketAsync_send(...);\n        else\n            req_id = SocketAsync_recv(...);\n        submitted++;\n    }\n    EXCEPT (SocketAsync_Failed) {\n        break;\n    }\n    END_TRY;\n}\n```\n\nThis creates exception context setup/teardown overhead for each operation in the batch.\n\n## Recommendation\nMove TRY/EXCEPT outside the loop and handle failures differently:\n```c\nTRY {\n    for (i = 0; i < count; i++) {\n        if (op->is_send)\n            req_id = SocketAsync_send(...);\n        else\n            req_id = SocketAsync_recv(...);\n        op->request_id = req_id;\n        submitted++;\n    }\n}\nEXCEPT (SocketAsync_Failed) {\n    /* Handle partial submission */\n}\nEND_TRY;\n```\n\nAlternatively, use error return codes instead of exceptions for batch operations.\n\n## Category\nRefactoring\n\n## Severity\nMEDIUM\n\n## Pattern ID\nNESTED_EXCEPTION_IN_LOOP",
  "labels": [],
  "state": "OPEN",
  "dependencies": []
}