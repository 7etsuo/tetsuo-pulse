{
  "number": 2212,
  "title": "refactor(dns): replace magic numbers with named constants in SocketDNSResolver",
  "body": "## Summary\n\nMultiple magic numbers in `src/dns/SocketDNSResolver.c` should be replaced with named constants for improved maintainability and consistency with codebase style.\n\n## Findings\n\n### 1. Line 333: Hardcoded `max_attempts = 1000`\n**Issue**: Retry limit for cryptographic ID generation uses magic number.\n\n**Current code**:\n```c\nconst int max_attempts = 1000;\n```\n\n**Recommendation**:\n```c\n#define DNS_MAX_ID_GENERATION_ATTEMPTS 1000\n\n/* Usage */\nconst int max_attempts = DNS_MAX_ID_GENERATION_ATTEMPTS;\n```\n\n### 2. Lines 544, 1278: Hardcoded millisecond conversions\n**Issue**: Seconds-to-milliseconds conversion uses hardcoded `* 1000`.\n\n**Current code**:\n```c\n// Line 544\nreturn age_ms >= (int64_t)ttl * 1000;\n\n// Line 1278\nresolver->timeout_ms = config.timeout_secs * 1000;\n```\n\n**Recommendation**: Use existing or create constant:\n```c\n#define MS_PER_SECOND 1000\n\n/* Usage */\nreturn age_ms >= (int64_t)ttl * MS_PER_SECOND;\nresolver->timeout_ms = config.timeout_secs * MS_PER_SECOND;\n```\n\n**Note**: Check if `MS_PER_SECOND` or similar already exists in `SocketUtil.h` or `SocketConfig.h` before creating new constant.\n\n## Benefits\n\n- Consistent with codebase anti-patterns guide (no magic numbers)\n- Self-documenting code (names explain intent)\n- Easier to modify globally if needed\n- Reduces chance of typos (using 100 instead of 1000)\n\n## Impact\n\n- **Severity**: MEDIUM\n- **Category**: Redundancy\n- **Module**: DNS Resolver\n- **Files**: `src/dns/SocketDNSResolver.c`\n- **Lines**: 333, 544, 1278\n- **Estimated effort**: 30 minutes",
  "labels": [
    "enhancement"
  ],
  "state": "OPEN",
  "dependencies": []
}