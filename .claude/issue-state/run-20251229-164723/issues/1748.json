{
  "number": 1748,
  "title": "refactor(http-server-static): inline or document single-use parse_http_date function",
  "body": "## Summary\n\nThe `parse_http_date` function is called only once (at line 458) and is small enough (28 lines) to be inlined into `server_serve_static_file`. Single-use helper functions add indirection without clear benefit unless there's a documented reason for separation.\n\n## Location\n\n**File**: `src/http/SocketHTTPServer-static.c`  \n**Function**: `parse_http_date`  \n**Lines**: 226-253 (28 lines)  \n**Called**: Once at line 458  \n**Pattern**: `SINGLE_USE_INLINE`  \n**Severity**: HIGH\n\n## Current Code\n\n```c\nstatic time_t\nparse_http_date (const char *date_str)\n{\n  struct tm tm;\n  memset (&tm, 0, sizeof (tm));\n\n  if (date_str == NULL)\n    return -1;\n\n  /* Try RFC 7231 format: \"Sun, 06 Nov 1994 08:49:37 GMT\" */\n  if (strptime (date_str, \"%a, %d %b %Y %H:%M:%S GMT\", &tm) != NULL)\n    {\n      return timegm (&tm);\n    }\n\n  /* Try RFC 850 format: \"Sunday, 06-Nov-94 08:49:37 GMT\" */\n  if (strptime (date_str, \"%A, %d-%b-%y %H:%M:%S GMT\", &tm) != NULL)\n    {\n      return timegm (&tm);\n    }\n\n  /* Try ANSI C format: \"Sun Nov  6 08:49:37 1994\" */\n  if (strptime (date_str, \"%a %b %d %H:%M:%S %Y\", &tm) != NULL)\n    {\n      return timegm (&tm);\n    }\n\n  return -1;\n}\n```\n\n**Single call site (line 458):**\n```c\nif_modified_time = parse_http_date (if_modified_since);\n```\n\n## Recommendation\n\nEither:\n1. **Inline the function** into `server_serve_static_file` to reduce indirection\n2. **Document why it's separate** if there's a future plan to reuse it (e.g., for parsing other HTTP date headers)\n3. **Consider moving to a shared HTTP utility module** if date parsing is needed elsewhere (check `SocketHTTP.h` or `SocketHTTP1.h`)\n\nNote: If this is the only place in the codebase that parses HTTP dates, inlining is cleaner. If date parsing is used elsewhere, it should be promoted to a shared utility function in the HTTP module.",
  "labels": [
    "enhancement"
  ],
  "state": "OPEN",
  "dependencies": []
}