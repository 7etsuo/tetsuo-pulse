{
  "issue": 2307,
  "status": "success",
  "pr_url": "https://github.com/7etsuo/tetsuo-socket/pull/2506",
  "pr_number": 2506,
  "branch": "issue-2307-deduplicate-server-role-check",
  "files_changed": [
    "src/quic/SocketQUICTransportParams.c"
  ],
  "tests_passed": true,
  "commit_sha": "47395c4c329c6427b10c939cc771f3fca49d2625",
  "summary": "Extracted duplicated server-only role validation into CHECK_SERVER_ONLY macro, eliminating 12 lines of duplicated code across 4 transport parameter decoder functions. All 36 QUIC transport params tests and 26 QUIC module tests passed with sanitizers.",
  "implementation_details": {
    "macro_added": "CHECK_SERVER_ONLY(peer_role)",
    "pattern": "do { } while(0) multi-statement macro",
    "functions_refactored": [
      "decode_param_original_dcid()",
      "decode_param_stateless_reset_token()",
      "decode_param_preferred_address()",
      "decode_param_retry_scid()"
    ],
    "lines_reduced": 12,
    "rfc_compliance": "RFC 9000 Section 18.2 server-only parameters"
  }
}
