{
  "number": 2321,
  "title": "refactor: Remove unnecessary volatile qualifiers in Socket_sendvall",
  "body": "## Summary\nIn `Socket_sendvall()` (Socket-iov.c:622-623), variables `total_len` and `sent` are marked `volatile` but are never modified within the `TRY` block. Per CLAUDE.md exception safety rules, only variables modified in TRY need volatile.\n\n## Location\n- **File**: src/socket/Socket-iov.c\n- **Lines**: 622-623\n- **Function**: Socket_sendvall\n- **Category**: Refactoring (Code Quality)\n- **Severity**: LOW\n\n## Issue\n```c\nvolatile size_t total_sent = 0;   // \u2713 Modified in TRY - needs volatile\nvolatile size_t total_len;        // \u2717 Only assigned once before TRY\nvolatile ssize_t sent;            // \u2717 Only used as output param in TRY\n```\n\nThe `volatile` qualifier is unnecessary for `total_len` and `sent` because:\n- `total_len` is assigned once (line 634) before the TRY block\n- `sent` is used as an output parameter but not directly modified in the TRY scope\n- Only `total_sent` is incremented inside TRY (line 641)\n\n## Recommendation\nRemove `volatile` from variables not modified in TRY:\n```c\nvolatile size_t total_sent = 0;\nsize_t total_len;          // Simplified\nssize_t sent;              // Simplified\n```\n\n## Rationale\nPer CLAUDE.md \u00a7 Exception Safety:\n> \"Use volatile for variables modified inside TRY that are read after exception\"\n\nSince `total_len` and `sent` are not modified in the TRY block, volatile adds unnecessary overhead and reduces code clarity.\n\n## Test Plan\n- [ ] Verify existing tests pass after change\n- [ ] Run with ASan/UBSan to ensure no undefined behavior\n- [ ] Confirm exception handling still works correctly\n\n## References\n- CLAUDE.md \u00a7 Exception Safety\n- Similar pattern in Socket_recvvall (lines 654-687)",
  "labels": [
    "enhancement"
  ],
  "state": "OPEN",
  "dependencies": []
}