{
  "number": 1698,
  "title": "refactor(http1-compress): inline single-use get_effective_max_encoded_size function",
  "body": "## Issue Description\n\nThe function `get_effective_max_encoded_size` is called exactly once but adds unnecessary indirection that harms code readability.\n\n## Location\n\n**File**: `src/http/SocketHTTP1-compress.c`  \n**Lines**: 207-212  \n**Called at**: Line 879\n\n## Current Code\n\n```c\nstatic size_t\nget_effective_max_encoded_size (const SocketHTTP1_Config *cfg)\n{\n  (void)cfg; /* Currently unused, reserved for future configuration */\n  return SIZE_MAX;\n}\n\n// Called once:\nencoder->max_encoded_size = get_effective_max_encoded_size (cfg);\n```\n\n## Problem\n\n1. **Premature abstraction**: Function exists for \"future configuration\" that hasn't materialized\n2. **Unused parameter**: The `cfg` parameter is cast to `(void)`, indicating it's completely ignored\n3. **Trivial implementation**: Function simply returns a constant (`SIZE_MAX`)\n4. **Single call site**: Only called once in `SocketHTTP1_Encoder_new` (line 879)\n5. **Readability impact**: Adds indirection requiring developers to jump to function definition to understand it returns a constant\n\n## Recommendation\n\nInline the function at its single call site:\n\n```c\n// In SocketHTTP1_Encoder_new:\nencoder->max_encoded_size = SIZE_MAX;  /* No current limit on encoded size */\n```\n\nIf future configuration support is needed, the abstraction can be reintroduced at that time with actual implementation.\n\n## Analysis Details\n\n- **Pattern**: `SINGLE_USE_INLINE`\n- **Severity**: `HIGH` (< 30 lines, clear inline candidate)\n- **Category**: Readability / Code Simplification\n- **Detected by**: Automated readability analysis pipeline\n\n## Related\n\nThis finding was verified through manual review. A similar function `get_effective_max_decompressed_size` was examined but **not flagged** because it contains meaningful configuration logic (NULL checks, zero checks, fallback to security constant), making the abstraction valuable despite single use.",
  "labels": [
    "enhancement"
  ],
  "state": "OPEN",
  "dependencies": []
}