{
  "number": 1713,
  "title": "refactor(http-client-cookie): inline single-use apply_cookie_defaults function",
  "body": "## Issue\nThe static function `apply_cookie_defaults` is called exactly once, adding unnecessary indirection.\n\n**File**: `src/http/SocketHTTPClient-cookie.c`\n**Lines**: 1173-1197 (definition), 1221 (single call site)\n**Severity**: HIGH\n**Pattern**: SINGLE_USE_INLINE\n**Category**: Readability/Refactoring\n**Function Size**: 26 lines\n\n## Current Code\n```c\nstatic void\napply_cookie_defaults (SocketHTTPClient_Cookie *cookie,\n                       const SocketHTTP_URI *request_uri, Arena_T arena)\n{\n  char default_path[HTTPCLIENT_COOKIE_MAX_PATH_LEN];\n\n  if (cookie->domain == NULL && request_uri != NULL\n      && request_uri->host != NULL)\n    {\n      cookie->domain = socket_util_arena_strdup (arena, request_uri->host);\n    }\n\n  if (cookie->path == NULL)\n    {\n      if (request_uri != NULL && request_uri->path != NULL)\n        {\n          get_default_path (request_uri->path, default_path,\n                            sizeof (default_path));\n          cookie->path = socket_util_arena_strdup (arena, default_path);\n        }\n      else\n        {\n          cookie->path = socket_util_arena_strdup (arena, \"/\");\n        }\n    }\n}\n```\n\nCalled once at line 1221:\n```c\napply_cookie_defaults (cookie, request_uri, arena);\n```\n\n## Recommendation\nInline the function body directly at the call site in `httpclient_parse_set_cookie` (line 1221). The 26-line function consists of simple conditional default assignments that would be clearer inline.\n\n## Benefits\n- Eliminates unnecessary function call overhead\n- Reduces code indirection for simple default value logic\n- Makes the cookie parsing flow more linear and easier to follow\n- Improves code locality for a single-use operation",
  "labels": [
    "enhancement"
  ],
  "state": "OPEN",
  "dependencies": []
}