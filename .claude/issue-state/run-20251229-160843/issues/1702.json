{
  "number": 1702,
  "title": "refactor(http-client-cookie): inline single-use cookie_entry_update_value_flags function",
  "body": "## Issue\nThe static function `cookie_entry_update_value_flags` is called exactly once, adding unnecessary indirection.\n\n**File**: `src/http/SocketHTTPClient-cookie.c`\n**Lines**: 287-298 (definition), 560 (single call site)\n**Severity**: HIGH\n**Pattern**: SINGLE_USE_INLINE\n**Category**: Readability/Refactoring\n**Function Size**: 13 lines\n\n## Current Code\n```c\nstatic void\ncookie_entry_update_value_flags (CookieEntry *entry,\n                                 const SocketHTTPClient_Cookie *cookie,\n                                 Arena_T arena)\n{\n  entry->cookie.value = socket_util_arena_strdup (arena, cookie->value);\n  if (entry->cookie.value == NULL)\n    RAISE_HTTPCLIENT_ERROR (SocketHTTPClient_Failed);\n  entry->cookie.expires = cookie->expires;\n  entry->cookie.secure = cookie->secure;\n  entry->cookie.http_only = cookie->http_only;\n  entry->cookie.same_site = cookie->same_site;\n}\n```\n\nCalled once at line 560:\n```c\ncookie_entry_update_value_flags (entry, cookie, jar->arena);\n```\n\n## Recommendation\nInline the function body directly at the call site in `SocketHTTPClient_CookieJar_set` (line 560):\n\n```c\nentry->cookie.value = socket_util_arena_strdup (jar->arena, cookie->value);\nif (entry->cookie.value == NULL)\n  RAISE_HTTPCLIENT_ERROR (SocketHTTPClient_Failed);\nentry->cookie.expires = cookie->expires;\nentry->cookie.secure = cookie->secure;\nentry->cookie.http_only = cookie->http_only;\nentry->cookie.same_site = cookie->same_site;\n```\n\n## Benefits\n- Eliminates unnecessary function call overhead\n- Reduces code indirection for small, simple logic\n- Improves code locality and readability\n- Follows the pattern used elsewhere in the codebase for single-use operations",
  "labels": [
    "enhancement"
  ],
  "state": "OPEN",
  "dependencies": []
}