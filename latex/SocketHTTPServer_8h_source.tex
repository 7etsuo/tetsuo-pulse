\doxysection{Socket\+HTTPServer.\+h}
\hypertarget{SocketHTTPServer_8h_source}{}\label{SocketHTTPServer_8h_source}\index{include/http/SocketHTTPServer.h@{include/http/SocketHTTPServer.h}}
\mbox{\hyperlink{SocketHTTPServer_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00043\ \textcolor{preprocessor}{\#ifndef\ SOCKETHTTPSERVER\_INCLUDED}}
\DoxyCodeLine{00044\ \textcolor{preprocessor}{\#define\ SOCKETHTTPSERVER\_INCLUDED}}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \textcolor{preprocessor}{\#include\ <stddef.h>}}
\DoxyCodeLine{00047\ \textcolor{preprocessor}{\#include\ <stdint.h>}}
\DoxyCodeLine{00048\ \textcolor{preprocessor}{\#include\ <sys/types.h>}}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \textcolor{preprocessor}{\#include\ "{}core/Arena.h"{}}}
\DoxyCodeLine{00051\ \textcolor{preprocessor}{\#include\ "{}core/Except.h"{}}}
\DoxyCodeLine{00052\ \textcolor{preprocessor}{\#include\ "{}core/SocketRateLimit.h"{}}}
\DoxyCodeLine{00053\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{SocketHTTP_8h}{http/SocketHTTP.h}}"{}}}
\DoxyCodeLine{00054\ \textcolor{preprocessor}{\#include\ "{}poll/SocketPoll.h"{}}}
\DoxyCodeLine{00055\ \textcolor{preprocessor}{\#include\ "{}socket/Socket.h"{}}}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00057\ \textcolor{comment}{/*\ Forward\ declarations\ for\ optional\ TLS\ */}}
\DoxyCodeLine{00058\ \textcolor{preprocessor}{\#if\ SOCKET\_HAS\_TLS}}
\DoxyCodeLine{00059\ \textcolor{preprocessor}{\#include\ "{}tls/SocketTLSContext.h"{}}}
\DoxyCodeLine{00060\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00061\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }SocketTLSContext\_T\ *SocketTLSContext\_T;}
\DoxyCodeLine{00062\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ \textcolor{comment}{/*\ Forward\ declaration\ for\ WebSocket\ */}}
\DoxyCodeLine{00065\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }SocketWS\ *SocketWS\_T;}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ \textcolor{comment}{/*\ ============================================================================}}
\DoxyCodeLine{00068\ \textcolor{comment}{\ *\ Configuration\ Constants}}
\DoxyCodeLine{00069\ \textcolor{comment}{\ *\ ============================================================================}}
\DoxyCodeLine{00070\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00071\ \textcolor{comment}{\ *\ CONFIGURABLE\ LIMITS\ SUMMARY}}
\DoxyCodeLine{00072\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00073\ \textcolor{comment}{\ *\ All\ limits\ can\ be\ overridden\ at\ compile\ time\ with\ -\/D\ flags\ or\ at\ runtime}}
\DoxyCodeLine{00074\ \textcolor{comment}{\ *\ via\ SocketHTTPServer\_Config\ fields.}}
\DoxyCodeLine{00075\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00076\ \textcolor{comment}{\ *\ RESOURCE\ LIMITS:}}
\DoxyCodeLine{00077\ \textcolor{comment}{\ *\ \ \ HTTPSERVER\_DEFAULT\_MAX\_HEADER\_SIZE\ \ -\/\ 64KB\ \ \ -\/\ Max\ total\ header\ size}}
\DoxyCodeLine{00078\ \textcolor{comment}{\ *\ \ \ HTTPSERVER\_DEFAULT\_MAX\_BODY\_SIZE\ \ \ \ -\/\ 10MB\ \ \ -\/\ Max\ request\ body\ size}}
\DoxyCodeLine{00079\ \textcolor{comment}{\ *\ \ \ HTTPSERVER\_DEFAULT\_MAX\_CONNECTIONS\ \ -\/\ 1000\ \ \ -\/\ Max\ concurrent\ connections}}
\DoxyCodeLine{00080\ \textcolor{comment}{\ *\ \ \ HTTPSERVER\_DEFAULT\_MAX\_CONNECTIONS\_PER\_CLIENT\ -\/\ 100\ -\/\ Per-\/IP\ limit}}
\DoxyCodeLine{00081\ \textcolor{comment}{\ *\ \ \ HTTPSERVER\_DEFAULT\_MAX\_REQUESTS\_PER\_CONN\ -\/\ 1000\ -\/\ Max\ requests\ per}}
\DoxyCodeLine{00082\ \textcolor{comment}{\ *\ connection\ HTTPSERVER\_DEFAULT\_MAX\_CONCURRENT\_REQUESTS\ -\/\ 100\ -\/\ HTTP/2\ streams}}
\DoxyCodeLine{00083\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00084\ \textcolor{comment}{\ *\ TIMEOUT\ LIMITS:}}
\DoxyCodeLine{00085\ \textcolor{comment}{\ *\ \ \ HTTPSERVER\_DEFAULT\_REQUEST\_TIMEOUT\_MS\ -\/\ 30s\ -\/\ Idle\ timeout}}
\DoxyCodeLine{00086\ \textcolor{comment}{\ *\ \ \ HTTPSERVER\_DEFAULT\_KEEPALIVE\_TIMEOUT\_MS\ -\/\ 60s\ -\/\ Keep-\/alive\ timeout}}
\DoxyCodeLine{00087\ \textcolor{comment}{\ *\ \ \ HTTPSERVER\_DEFAULT\_REQUEST\_READ\_TIMEOUT\_MS\ -\/\ 30s\ -\/\ Full\ request\ read}}
\DoxyCodeLine{00088\ \textcolor{comment}{\ *\ \ \ HTTPSERVER\_DEFAULT\_RESPONSE\_WRITE\_TIMEOUT\_MS\ -\/\ 60s\ -\/\ Full\ response\ write}}
\DoxyCodeLine{00089\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00090\ \textcolor{comment}{\ *\ ENFORCEMENT:}}
\DoxyCodeLine{00091\ \textcolor{comment}{\ *\ \ \ -\/\ max\_header\_size:\ Enforced\ by\ HTTP/1.1\ parser\ (returns\ error)}}
\DoxyCodeLine{00092\ \textcolor{comment}{\ *\ \ \ -\/\ max\_body\_size:\ Enforced\ before\ body\ allocation\ (returns\ 413)}}
\DoxyCodeLine{00093\ \textcolor{comment}{\ *\ \ \ -\/\ max\_connections:\ Enforced\ in\ accept\ loop\ (rejects\ new\ clients)}}
\DoxyCodeLine{00094\ \textcolor{comment}{\ *\ \ \ -\/\ max\_connections\_per\_client:\ Enforced\ via\ SocketIPTracker}}
\DoxyCodeLine{00095\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00096\ \textcolor{comment}{\ *\ METRICS:}}
\DoxyCodeLine{00097\ \textcolor{comment}{\ *\ \ \ -\/\ SOCKET\_CTR\_LIMIT\_BODY\_SIZE\_EXCEEDED\ incremented\ on\ body\ limit\ violation}}
\DoxyCodeLine{00098\ \textcolor{comment}{\ *\ \ \ -\/\ SOCKET\_CTR\_LIMIT\_HEADER\_SIZE\_EXCEEDED\ incremented\ on\ header\ limit}}
\DoxyCodeLine{00099\ \textcolor{comment}{\ *\ violation}}
\DoxyCodeLine{00100\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00103\ \textcolor{preprocessor}{\#ifndef\ HTTPSERVER\_DEFAULT\_BACKLOG}}
\DoxyCodeLine{00104\ \textcolor{preprocessor}{\#define\ HTTPSERVER\_DEFAULT\_BACKLOG\ 128}}
\DoxyCodeLine{00105\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00108\ \textcolor{preprocessor}{\#ifndef\ HTTPSERVER\_DEFAULT\_PORT}}
\DoxyCodeLine{00109\ \textcolor{preprocessor}{\#define\ HTTPSERVER\_DEFAULT\_PORT\ 8080}}
\DoxyCodeLine{00110\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00113\ \textcolor{preprocessor}{\#ifndef\ HTTPSERVER\_DEFAULT\_BIND\_ADDR}}
\DoxyCodeLine{00114\ \textcolor{preprocessor}{\#define\ HTTPSERVER\_DEFAULT\_BIND\_ADDR\ "{}0.0.0.0"{}}}
\DoxyCodeLine{00115\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00118\ \textcolor{preprocessor}{\#ifndef\ HTTPSERVER\_DEFAULT\_ENABLE\_H2C\_UPGRADE}}
\DoxyCodeLine{00119\ \textcolor{preprocessor}{\#define\ HTTPSERVER\_DEFAULT\_ENABLE\_H2C\_UPGRADE\ 0}}
\DoxyCodeLine{00120\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00121\ }
\DoxyCodeLine{00123\ \textcolor{preprocessor}{\#ifndef\ HTTPSERVER\_CONTENT\_LENGTH\_BUF\_SIZE}}
\DoxyCodeLine{00124\ \textcolor{preprocessor}{\#define\ HTTPSERVER\_CONTENT\_LENGTH\_BUF\_SIZE\ 32}}
\DoxyCodeLine{00125\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00126\ }
\DoxyCodeLine{00127\ \textcolor{preprocessor}{\#ifndef\ HTTPSERVER\_CHUNK\_FINAL\_BUF\_SIZE}}
\DoxyCodeLine{00128\ \textcolor{preprocessor}{\#define\ HTTPSERVER\_CHUNK\_FINAL\_BUF\_SIZE\ 64}}
\DoxyCodeLine{00129\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00130\ }
\DoxyCodeLine{00131\ \textcolor{preprocessor}{\#ifndef\ HTTPSERVER\_CLIENT\_ADDR\_MAX}}
\DoxyCodeLine{00132\ \textcolor{preprocessor}{\#define\ HTTPSERVER\_CLIENT\_ADDR\_MAX\ 64}}
\DoxyCodeLine{00133\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00134\ }
\DoxyCodeLine{00135\ \textcolor{preprocessor}{\#ifndef\ HTTPSERVER\_DRAIN\_POLL\_MS}}
\DoxyCodeLine{00136\ \textcolor{preprocessor}{\#define\ HTTPSERVER\_DRAIN\_POLL\_MS\ 100}}
\DoxyCodeLine{00137\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ temporarily\ without\ \#endif\ ?\ No,\ keep\ but\ to\ balance,\ wait\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00138\ }
\DoxyCodeLine{00140\ \textcolor{preprocessor}{\#ifndef\ HTTPSERVER\_DEFAULT\_MAX\_CONNECTIONS}}
\DoxyCodeLine{00141\ \textcolor{preprocessor}{\#define\ HTTPSERVER\_DEFAULT\_MAX\_CONNECTIONS\ 1000}}
\DoxyCodeLine{00142\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00143\ }
\DoxyCodeLine{00145\ \textcolor{preprocessor}{\#ifndef\ HTTPSERVER\_DEFAULT\_REQUEST\_TIMEOUT\_MS}}
\DoxyCodeLine{00146\ \textcolor{preprocessor}{\#define\ HTTPSERVER\_DEFAULT\_REQUEST\_TIMEOUT\_MS\ 30000}}
\DoxyCodeLine{00147\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00148\ }
\DoxyCodeLine{00150\ \textcolor{preprocessor}{\#ifndef\ HTTPSERVER\_DEFAULT\_KEEPALIVE\_TIMEOUT\_MS}}
\DoxyCodeLine{00151\ \textcolor{preprocessor}{\#define\ HTTPSERVER\_DEFAULT\_KEEPALIVE\_TIMEOUT\_MS\ 60000}}
\DoxyCodeLine{00152\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00153\ }
\DoxyCodeLine{00158\ \textcolor{preprocessor}{\#ifndef\ HTTPSERVER\_DEFAULT\_MAX\_HEADER\_SIZE}}
\DoxyCodeLine{00159\ \textcolor{preprocessor}{\#define\ HTTPSERVER\_DEFAULT\_MAX\_HEADER\_SIZE\ (64\ *\ 1024)}}
\DoxyCodeLine{00160\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00161\ }
\DoxyCodeLine{00166\ \textcolor{preprocessor}{\#ifndef\ HTTPSERVER\_DEFAULT\_MAX\_BODY\_SIZE}}
\DoxyCodeLine{00167\ \textcolor{preprocessor}{\#define\ HTTPSERVER\_DEFAULT\_MAX\_BODY\_SIZE\ (10\ *\ 1024\ *\ 1024)}}
\DoxyCodeLine{00168\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00169\ }
\DoxyCodeLine{00171\ \textcolor{preprocessor}{\#ifndef\ HTTPSERVER\_DEFAULT\_MAX\_REQUESTS\_PER\_CONN}}
\DoxyCodeLine{00172\ \textcolor{preprocessor}{\#define\ HTTPSERVER\_DEFAULT\_MAX\_REQUESTS\_PER\_CONN\ 1000}}
\DoxyCodeLine{00173\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00174\ }
\DoxyCodeLine{00176\ \textcolor{preprocessor}{\#ifndef\ HTTPSERVER\_DEFAULT\_REQUEST\_READ\_TIMEOUT\_MS}}
\DoxyCodeLine{00177\ \textcolor{preprocessor}{\#define\ HTTPSERVER\_DEFAULT\_REQUEST\_READ\_TIMEOUT\_MS\ 30000}}
\DoxyCodeLine{00178\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00179\ }
\DoxyCodeLine{00181\ \textcolor{preprocessor}{\#ifndef\ HTTPSERVER\_DEFAULT\_RESPONSE\_WRITE\_TIMEOUT\_MS}}
\DoxyCodeLine{00182\ \textcolor{preprocessor}{\#define\ HTTPSERVER\_DEFAULT\_RESPONSE\_WRITE\_TIMEOUT\_MS\ 60000}}
\DoxyCodeLine{00183\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00184\ }
\DoxyCodeLine{00186\ \textcolor{preprocessor}{\#ifndef\ HTTPSERVER\_DEFAULT\_MAX\_CONNECTIONS\_PER\_CLIENT}}
\DoxyCodeLine{00187\ \textcolor{preprocessor}{\#define\ HTTPSERVER\_DEFAULT\_MAX\_CONNECTIONS\_PER\_CLIENT\ 100}}
\DoxyCodeLine{00188\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00189\ }
\DoxyCodeLine{00191\ \textcolor{preprocessor}{\#ifndef\ HTTPSERVER\_DEFAULT\_MAX\_CONCURRENT\_REQUESTS}}
\DoxyCodeLine{00192\ \textcolor{preprocessor}{\#define\ HTTPSERVER\_DEFAULT\_MAX\_CONCURRENT\_REQUESTS\ 100}}
\DoxyCodeLine{00193\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00194\ }
\DoxyCodeLine{00196\ \textcolor{preprocessor}{\#ifndef\ HTTPSERVER\_DEFAULT\_STREAM\_CHUNK\_SIZE}}
\DoxyCodeLine{00197\ \textcolor{preprocessor}{\#define\ HTTPSERVER\_DEFAULT\_STREAM\_CHUNK\_SIZE\ 8192}}
\DoxyCodeLine{00198\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00199\ }
\DoxyCodeLine{00201\ \textcolor{preprocessor}{\#ifndef\ HTTPSERVER\_RPS\_WINDOW\_SECONDS}}
\DoxyCodeLine{00202\ \textcolor{preprocessor}{\#define\ HTTPSERVER\_RPS\_WINDOW\_SECONDS\ 10}}
\DoxyCodeLine{00203\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00204\ }
\DoxyCodeLine{00206\ \textcolor{preprocessor}{\#ifndef\ HTTPSERVER\_IO\_BUFFER\_SIZE}}
\DoxyCodeLine{00207\ \textcolor{preprocessor}{\#define\ HTTPSERVER\_IO\_BUFFER\_SIZE\ 8192}}
\DoxyCodeLine{00208\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00209\ }
\DoxyCodeLine{00211\ \textcolor{preprocessor}{\#ifndef\ HTTPSERVER\_RECV\_BUFFER\_SIZE}}
\DoxyCodeLine{00212\ \textcolor{preprocessor}{\#define\ HTTPSERVER\_RECV\_BUFFER\_SIZE\ 4096}}
\DoxyCodeLine{00213\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00214\ }
\DoxyCodeLine{00216\ \textcolor{preprocessor}{\#ifndef\ HTTPSERVER\_RESPONSE\_HEADER\_BUFFER\_SIZE}}
\DoxyCodeLine{00217\ \textcolor{preprocessor}{\#define\ HTTPSERVER\_RESPONSE\_HEADER\_BUFFER\_SIZE\ 8192}}
\DoxyCodeLine{00218\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00219\ }
\DoxyCodeLine{00221\ \textcolor{preprocessor}{\#ifndef\ HTTPSERVER\_MAX\_CLIENTS\_PER\_ACCEPT}}
\DoxyCodeLine{00222\ \textcolor{preprocessor}{\#define\ HTTPSERVER\_MAX\_CLIENTS\_PER\_ACCEPT\ 10}}
\DoxyCodeLine{00223\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00224\ }
\DoxyCodeLine{00226\ \textcolor{preprocessor}{\#ifndef\ HTTPSERVER\_CHUNK\_BUFFER\_SIZE}}
\DoxyCodeLine{00227\ \textcolor{preprocessor}{\#define\ HTTPSERVER\_CHUNK\_BUFFER\_SIZE\ 16384}}
\DoxyCodeLine{00228\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00229\ }
\DoxyCodeLine{00231\ \textcolor{preprocessor}{\#ifndef\ HTTPSERVER\_MAX\_RATE\_LIMIT\_ENDPOINTS}}
\DoxyCodeLine{00232\ \textcolor{preprocessor}{\#define\ HTTPSERVER\_MAX\_RATE\_LIMIT\_ENDPOINTS\ 64}}
\DoxyCodeLine{00233\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00234\ }
\DoxyCodeLine{00236\ \textcolor{preprocessor}{\#ifndef\ HTTPSERVER\_LATENCY\_SAMPLES}}
\DoxyCodeLine{00237\ \textcolor{preprocessor}{\#define\ HTTPSERVER\_LATENCY\_SAMPLES\ 1000}}
\DoxyCodeLine{00238\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00239\ }
\DoxyCodeLine{00240\ \textcolor{comment}{/*\ ============================================================================}}
\DoxyCodeLine{00241\ \textcolor{comment}{\ *\ Exception\ Types}}
\DoxyCodeLine{00242\ \textcolor{comment}{\ *\ ============================================================================}}
\DoxyCodeLine{00243\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00244\ }
\DoxyCodeLine{00246\ \textcolor{keyword}{extern}\ \textcolor{keyword}{const}\ Except\_T\ \mbox{\hyperlink{SocketHTTPServer_8h_ab0e17c60a6e02fe69434302760371464}{SocketHTTPServer\_Failed}};}
\DoxyCodeLine{00247\ }
\DoxyCodeLine{00249\ \textcolor{keyword}{extern}\ \textcolor{keyword}{const}\ Except\_T\ \mbox{\hyperlink{SocketHTTPServer_8h_ab0cf03445c053391004f6234e29812f5}{SocketHTTPServer\_BindFailed}};}
\DoxyCodeLine{00250\ }
\DoxyCodeLine{00252\ \textcolor{keyword}{extern}\ \textcolor{keyword}{const}\ Except\_T\ \mbox{\hyperlink{SocketHTTPServer_8h_a46e1179e3239aac920a2afa2fc6711b3}{SocketHTTPServer\_ProtocolError}};}
\DoxyCodeLine{00253\ }
\DoxyCodeLine{00254\ \textcolor{comment}{/*\ ============================================================================}}
\DoxyCodeLine{00255\ \textcolor{comment}{\ *\ Server\ State}}
\DoxyCodeLine{00256\ \textcolor{comment}{\ *\ ============================================================================}}
\DoxyCodeLine{00257\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00258\ }
\DoxyCodeLine{00262\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{enum}}
\DoxyCodeLine{00263\ \{}
\DoxyCodeLine{00264\ \ \ \mbox{\hyperlink{SocketHTTPServer_8h_a0ac9162aaf92d18d40cf0443909e3e97a71eb63ea64bc63130077055f5def4470}{HTTPSERVER\_STATE\_RUNNING}},\ \ }
\DoxyCodeLine{00265\ \ \ \mbox{\hyperlink{SocketHTTPServer_8h_a0ac9162aaf92d18d40cf0443909e3e97ab9ea109b294256f80f9c605af4ee33da}{HTTPSERVER\_STATE\_DRAINING}},\ }
\DoxyCodeLine{00266\ \ \ \mbox{\hyperlink{SocketHTTPServer_8h_a0ac9162aaf92d18d40cf0443909e3e97a40470a42c264e62630500ec3e55f5570}{HTTPSERVER\_STATE\_STOPPED}}\ \ \ }
\DoxyCodeLine{00267\ \}\ \mbox{\hyperlink{SocketHTTPServer_8h_a0ac9162aaf92d18d40cf0443909e3e97}{SocketHTTPServer\_State}};}
\DoxyCodeLine{00268\ }
\DoxyCodeLine{00269\ \textcolor{comment}{/*\ ============================================================================}}
\DoxyCodeLine{00270\ \textcolor{comment}{\ *\ Server\ Configuration}}
\DoxyCodeLine{00271\ \textcolor{comment}{\ *\ ============================================================================}}
\DoxyCodeLine{00272\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00273\ }
\DoxyCodeLine{00277\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct}}
\DoxyCodeLine{00278\ \{}
\DoxyCodeLine{00279\ \ \ \textcolor{comment}{/*\ Listener\ */}}
\DoxyCodeLine{00280\ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structSocketHTTPServer__Config_aaa846da9282ae7cc08293d9e3ae100c5}{port}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00281\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\mbox{\hyperlink{structSocketHTTPServer__Config_ab0bf8c280cce766a64efd9064f93bef2}{bind\_address}};\ }
\DoxyCodeLine{00282\ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structSocketHTTPServer__Config_a92d76f73dd8d83287a36bdd3643022ea}{backlog}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00284\ \ \ \textcolor{comment}{/*\ TLS\ */}}
\DoxyCodeLine{00285\ \ \ SocketTLSContext\_T\ \mbox{\hyperlink{structSocketHTTPServer__Config_a2bbd51b98734877f1e4dd9e0176b82b7}{tls\_context}};\ }
\DoxyCodeLine{00287\ \ \ \textcolor{comment}{/*\ Protocol\ */}}
\DoxyCodeLine{00288\ \ \ \mbox{\hyperlink{group__http_gac46610efb2f138f9f5c58f9134f11a78}{SocketHTTP\_Version}}\ \mbox{\hyperlink{structSocketHTTPServer__Config_ae89b5a0849cde455e84fb2eb41309cb0}{max\_version}};\ }
\DoxyCodeLine{00289\ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structSocketHTTPServer__Config_aba94ad7a26eb19a5fa9eb671ac38e39b}{enable\_h2c\_upgrade}};\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00291\ \ \ \textcolor{comment}{/*\ Size\ Limits\ */}}
\DoxyCodeLine{00292\ \ \ \textcolor{keywordtype}{size\_t}\ max\_header\_size;}
\DoxyCodeLine{00293\ \ \ \textcolor{keywordtype}{size\_t}\ max\_body\_size;}
\DoxyCodeLine{00294\ }
\DoxyCodeLine{00295\ \ \ \textcolor{comment}{/*\ Timeout\ Configuration\ */}}
\DoxyCodeLine{00296\ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structSocketHTTPServer__Config_acee81724c46b258607d762187f5b25ac}{request\_timeout\_ms}};\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00297\ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structSocketHTTPServer__Config_a1e78410c99812889132c0977539d170b}{keepalive\_timeout\_ms}};\ \ \ \ \ \ }
\DoxyCodeLine{00298\ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structSocketHTTPServer__Config_aae5feb01178bcf0f41095d30ec718240}{request\_read\_timeout\_ms}};\ \ \ }
\DoxyCodeLine{00299\ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structSocketHTTPServer__Config_a7c6c518a1861c3ee10b133297d47444c}{response\_write\_timeout\_ms}};\ }
\DoxyCodeLine{00301\ \ \ \textcolor{comment}{/*\ Connection\ Limits\ */}}
\DoxyCodeLine{00302\ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structSocketHTTPServer__Config_aba7a435867737c5dda694445481fbc7c}{max\_connections}};\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00303\ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structSocketHTTPServer__Config_a411213143aa7aa44c27de10d645da50c}{max\_requests\_per\_connection}};\ }
\DoxyCodeLine{00304\ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structSocketHTTPServer__Config_a5ed0dc426933e2d4fc092685c2f37d3b}{max\_connections\_per\_client}};\ \ \ \ \ }
\DoxyCodeLine{00305\ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structSocketHTTPServer__Config_aff8dceb976118d9ad3726cac957f6e97}{max\_concurrent\_requests}};\ \ \ \ \ }
\DoxyCodeLine{00306\ \}\ \mbox{\hyperlink{structSocketHTTPServer__Config}{SocketHTTPServer\_Config}};}
\DoxyCodeLine{00307\ }
\DoxyCodeLine{00308\ \textcolor{comment}{/*\ ============================================================================}}
\DoxyCodeLine{00309\ \textcolor{comment}{\ *\ Opaque\ Types}}
\DoxyCodeLine{00310\ \textcolor{comment}{\ *\ ============================================================================}}
\DoxyCodeLine{00311\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00312\ }
\DoxyCodeLine{00317\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structSocketHTTPServer}{SocketHTTPServer}}\ *\mbox{\hyperlink{group__http_gad59859e8ae07bfb95f5807590dd034f4}{SocketHTTPServer\_T}};}
\DoxyCodeLine{00318\ }
\DoxyCodeLine{00323\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structSocketHTTPServer__Request}{SocketHTTPServer\_Request}}\ *\mbox{\hyperlink{group__http_ga071a3760545fbd5fca4c2df224af0fad}{SocketHTTPServer\_Request\_T}};}
\DoxyCodeLine{00324\ }
\DoxyCodeLine{00325\ \textcolor{comment}{/*\ ============================================================================}}
\DoxyCodeLine{00326\ \textcolor{comment}{\ *\ Callback\ Types}}
\DoxyCodeLine{00327\ \textcolor{comment}{\ *\ ============================================================================}}
\DoxyCodeLine{00328\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00329\ }
\DoxyCodeLine{00341\ \textcolor{keyword}{typedef}\ void\ (*\mbox{\hyperlink{SocketHTTPServer_8h_a8805b706921b37e2e91e68a861ddc97c}{SocketHTTPServer\_Handler}})\ (\mbox{\hyperlink{structSocketHTTPServer__Request}{SocketHTTPServer\_Request\_T}}\ req,}
\DoxyCodeLine{00342\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ *userdata);}
\DoxyCodeLine{00343\ }
\DoxyCodeLine{00358\ \textcolor{keyword}{typedef}\ int\ (*\mbox{\hyperlink{SocketHTTPServer_8h_ab347055b7285aedad5fa0f504c3a655e}{SocketHTTPServer\_BodyCallback}})\ (\mbox{\hyperlink{structSocketHTTPServer__Request}{SocketHTTPServer\_Request\_T}}\ req,}
\DoxyCodeLine{00359\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{void}\ *chunk,\ \textcolor{keywordtype}{size\_t}\ len,}
\DoxyCodeLine{00360\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ is\_final,\ \textcolor{keywordtype}{void}\ *userdata);}
\DoxyCodeLine{00361\ }
\DoxyCodeLine{00374\ \textcolor{keyword}{typedef}\ int\ (*\mbox{\hyperlink{SocketHTTPServer_8h_ab095eb6d03d06f9c1d8041dc3aa56094}{SocketHTTPServer\_Validator}})\ (\mbox{\hyperlink{structSocketHTTPServer__Request}{SocketHTTPServer\_Request\_T}}\ req,}
\DoxyCodeLine{00375\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ *reject\_status,\ \textcolor{keywordtype}{void}\ *userdata);}
\DoxyCodeLine{00376\ }
\DoxyCodeLine{00386\ \textcolor{keyword}{typedef}\ void\ (*\mbox{\hyperlink{SocketHTTPServer_8h_a6eeba038caf0b48d3ae3527155ab8162}{SocketHTTPServer\_DrainCallback}})\ (\mbox{\hyperlink{structSocketHTTPServer}{SocketHTTPServer\_T}}\ server,}
\DoxyCodeLine{00387\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ timed\_out,\ \textcolor{keywordtype}{void}\ *userdata);}
\DoxyCodeLine{00388\ }
\DoxyCodeLine{00389\ \textcolor{comment}{/*\ ============================================================================}}
\DoxyCodeLine{00390\ \textcolor{comment}{\ *\ Server\ Lifecycle}}
\DoxyCodeLine{00391\ \textcolor{comment}{\ *\ ============================================================================}}
\DoxyCodeLine{00392\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00393\ }
\DoxyCodeLine{00401\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group__http_ga08bbe8e6a3560817cd898a51622bc6ce}{SocketHTTPServer\_config\_defaults}}\ (\mbox{\hyperlink{structSocketHTTPServer__Config}{SocketHTTPServer\_Config}}\ *config);}
\DoxyCodeLine{00402\ }
\DoxyCodeLine{00412\ \textcolor{keyword}{extern}\ \mbox{\hyperlink{structSocketHTTPServer}{SocketHTTPServer\_T}}}
\DoxyCodeLine{00413\ \mbox{\hyperlink{group__http_gaea4fe38f3115faefc4bbc7f28e6b7362}{SocketHTTPServer\_new}}\ (\textcolor{keyword}{const}\ \mbox{\hyperlink{structSocketHTTPServer__Config}{SocketHTTPServer\_Config}}\ *config);}
\DoxyCodeLine{00414\ }
\DoxyCodeLine{00422\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group__http_gacf5856e5b1728e44bbb68ef2e4637318}{SocketHTTPServer\_free}}\ (\mbox{\hyperlink{structSocketHTTPServer}{SocketHTTPServer\_T}}\ *server);}
\DoxyCodeLine{00423\ }
\DoxyCodeLine{00432\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group__http_gafa06caca93c0fac3e52f7749abe03be9}{SocketHTTPServer\_start}}\ (\mbox{\hyperlink{structSocketHTTPServer}{SocketHTTPServer\_T}}\ server);}
\DoxyCodeLine{00433\ }
\DoxyCodeLine{00442\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group__http_gaf332d06f999890e277dc83777d669f00}{SocketHTTPServer\_stop}}\ (\mbox{\hyperlink{structSocketHTTPServer}{SocketHTTPServer\_T}}\ server);}
\DoxyCodeLine{00443\ }
\DoxyCodeLine{00453\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group__http_gaaf56db2565e6fdebcebf0bb7df24b959}{SocketHTTPServer\_set\_handler}}\ (\mbox{\hyperlink{structSocketHTTPServer}{SocketHTTPServer\_T}}\ server,}
\DoxyCodeLine{00454\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{SocketHTTPServer_8h_a8805b706921b37e2e91e68a861ddc97c}{SocketHTTPServer\_Handler}}\ handler,}
\DoxyCodeLine{00455\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ *userdata);}
\DoxyCodeLine{00456\ }
\DoxyCodeLine{00457\ \textcolor{comment}{/*\ ============================================================================}}
\DoxyCodeLine{00458\ \textcolor{comment}{\ *\ Event\ Loop\ Integration}}
\DoxyCodeLine{00459\ \textcolor{comment}{\ *\ ============================================================================}}
\DoxyCodeLine{00460\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00461\ }
\DoxyCodeLine{00470\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group__http_ga23f97a896233d7ca6259ab43684e784d}{SocketHTTPServer\_fd}}\ (\mbox{\hyperlink{structSocketHTTPServer}{SocketHTTPServer\_T}}\ server);}
\DoxyCodeLine{00471\ }
\DoxyCodeLine{00483\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group__http_gab2ad4e6a795964f1edabf14a71b83985}{SocketHTTPServer\_process}}\ (\mbox{\hyperlink{structSocketHTTPServer}{SocketHTTPServer\_T}}\ server,}
\DoxyCodeLine{00484\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ timeout\_ms);}
\DoxyCodeLine{00485\ }
\DoxyCodeLine{00494\ \textcolor{keyword}{extern}\ SocketPoll\_T\ \mbox{\hyperlink{group__http_gaf4e5392eaefa9ee259824571a1c5487d}{SocketHTTPServer\_poll}}\ (\mbox{\hyperlink{structSocketHTTPServer}{SocketHTTPServer\_T}}\ server);}
\DoxyCodeLine{00495\ }
\DoxyCodeLine{00496\ \textcolor{comment}{/*\ ============================================================================}}
\DoxyCodeLine{00497\ \textcolor{comment}{\ *\ Request\ Accessors}}
\DoxyCodeLine{00498\ \textcolor{comment}{\ *\ ============================================================================}}
\DoxyCodeLine{00499\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00500\ }
\DoxyCodeLine{00505\ \textcolor{keyword}{extern}\ \mbox{\hyperlink{group__http_gaf6f90bb536a5cd085f4327bda4d3ee8f}{SocketHTTP\_Method}}}
\DoxyCodeLine{00506\ \mbox{\hyperlink{group__http_ga62a61206448cffe1710070a6c64b554d}{SocketHTTPServer\_Request\_method}}\ (\mbox{\hyperlink{structSocketHTTPServer__Request}{SocketHTTPServer\_Request\_T}}\ req);}
\DoxyCodeLine{00507\ }
\DoxyCodeLine{00512\ \textcolor{keyword}{extern}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *}
\DoxyCodeLine{00513\ \mbox{\hyperlink{group__http_ga62b0e10b9c135a08852e56eb1eae8ac4}{SocketHTTPServer\_Request\_path}}\ (\mbox{\hyperlink{structSocketHTTPServer__Request}{SocketHTTPServer\_Request\_T}}\ req);}
\DoxyCodeLine{00514\ }
\DoxyCodeLine{00519\ \textcolor{keyword}{extern}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *}
\DoxyCodeLine{00520\ \mbox{\hyperlink{group__http_ga7bb246b4e39b4d74d3821201b6f72456}{SocketHTTPServer\_Request\_query}}\ (\mbox{\hyperlink{structSocketHTTPServer__Request}{SocketHTTPServer\_Request\_T}}\ req);}
\DoxyCodeLine{00521\ }
\DoxyCodeLine{00526\ \textcolor{keyword}{extern}\ \mbox{\hyperlink{structSocketHTTP__Headers}{SocketHTTP\_Headers\_T}}}
\DoxyCodeLine{00527\ \mbox{\hyperlink{group__http_ga51f26503d221c39a5e867b5d4c683ae7}{SocketHTTPServer\_Request\_headers}}\ (\mbox{\hyperlink{structSocketHTTPServer__Request}{SocketHTTPServer\_Request\_T}}\ req);}
\DoxyCodeLine{00528\ }
\DoxyCodeLine{00533\ \textcolor{keyword}{extern}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{void}\ *}
\DoxyCodeLine{00534\ \mbox{\hyperlink{group__http_ga7e95ae3464cb9cf8c0d0b172db13456e}{SocketHTTPServer\_Request\_body}}\ (\mbox{\hyperlink{structSocketHTTPServer__Request}{SocketHTTPServer\_Request\_T}}\ req);}
\DoxyCodeLine{00535\ }
\DoxyCodeLine{00540\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{size\_t}}
\DoxyCodeLine{00541\ \mbox{\hyperlink{group__http_ga5ac308a85217f94c0fc5ced8525b55e5}{SocketHTTPServer\_Request\_body\_len}}\ (\mbox{\hyperlink{structSocketHTTPServer__Request}{SocketHTTPServer\_Request\_T}}\ req);}
\DoxyCodeLine{00542\ }
\DoxyCodeLine{00547\ \textcolor{keyword}{extern}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *}
\DoxyCodeLine{00548\ \mbox{\hyperlink{group__http_ga2f5234c0311c21a800e1145ff06c88a4}{SocketHTTPServer\_Request\_client\_addr}}\ (\mbox{\hyperlink{structSocketHTTPServer__Request}{SocketHTTPServer\_Request\_T}}\ req);}
\DoxyCodeLine{00549\ }
\DoxyCodeLine{00554\ \textcolor{keyword}{extern}\ \mbox{\hyperlink{group__http_gac46610efb2f138f9f5c58f9134f11a78}{SocketHTTP\_Version}}}
\DoxyCodeLine{00555\ \mbox{\hyperlink{group__http_ga28be52d1b6393421dd306dc400d443ee}{SocketHTTPServer\_Request\_version}}\ (\mbox{\hyperlink{structSocketHTTPServer__Request}{SocketHTTPServer\_Request\_T}}\ req);}
\DoxyCodeLine{00556\ }
\DoxyCodeLine{00561\ \textcolor{keyword}{extern}\ Arena\_T\ \mbox{\hyperlink{group__http_gab962af94432e50a19c4a4d09b307cd68}{SocketHTTPServer\_Request\_arena}}\ (\mbox{\hyperlink{structSocketHTTPServer__Request}{SocketHTTPServer\_Request\_T}}\ req);}
\DoxyCodeLine{00562\ }
\DoxyCodeLine{00571\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{size\_t}}
\DoxyCodeLine{00572\ \mbox{\hyperlink{group__http_ga9b44e54c60728c855c3cfad99196dc64}{SocketHTTPServer\_Request\_memory\_used}}\ (\mbox{\hyperlink{structSocketHTTPServer__Request}{SocketHTTPServer\_Request\_T}}\ req);}
\DoxyCodeLine{00573\ }
\DoxyCodeLine{00574\ \textcolor{comment}{/*\ ============================================================================}}
\DoxyCodeLine{00575\ \textcolor{comment}{\ *\ Response\ Building}}
\DoxyCodeLine{00576\ \textcolor{comment}{\ *\ ============================================================================}}
\DoxyCodeLine{00577\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00578\ }
\DoxyCodeLine{00585\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group__http_ga4d1d923d82851f33216006a798844e99}{SocketHTTPServer\_Request\_status}}\ (\mbox{\hyperlink{structSocketHTTPServer__Request}{SocketHTTPServer\_Request\_T}}\ req,}
\DoxyCodeLine{00586\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ code);}
\DoxyCodeLine{00587\ }
\DoxyCodeLine{00595\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group__http_ga776474c545e883c3ee264a53bd31bfc7}{SocketHTTPServer\_Request\_header}}\ (\mbox{\hyperlink{structSocketHTTPServer__Request}{SocketHTTPServer\_Request\_T}}\ req,}
\DoxyCodeLine{00596\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *name,}
\DoxyCodeLine{00597\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *value);}
\DoxyCodeLine{00598\ }
\DoxyCodeLine{00606\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group__http_ga5ac214850c3334c5413bcad0c0ae9b5e}{SocketHTTPServer\_Request\_body\_data}}\ (\mbox{\hyperlink{structSocketHTTPServer__Request}{SocketHTTPServer\_Request\_T}}\ req,}
\DoxyCodeLine{00607\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{void}\ *data,\ \textcolor{keywordtype}{size\_t}\ len);}
\DoxyCodeLine{00608\ }
\DoxyCodeLine{00615\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00616\ \mbox{\hyperlink{group__http_ga26d33e6cf21f83cbd542b1d5a41e7bca}{SocketHTTPServer\_Request\_body\_string}}\ (\mbox{\hyperlink{structSocketHTTPServer__Request}{SocketHTTPServer\_Request\_T}}\ req,}
\DoxyCodeLine{00617\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *str);}
\DoxyCodeLine{00618\ }
\DoxyCodeLine{00626\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group__http_ga908829abf68bcfe935568fe4f45c0330}{SocketHTTPServer\_Request\_finish}}\ (\mbox{\hyperlink{structSocketHTTPServer__Request}{SocketHTTPServer\_Request\_T}}\ req);}
\DoxyCodeLine{00627\ }
\DoxyCodeLine{00628\ \textcolor{comment}{/*\ ============================================================================}}
\DoxyCodeLine{00629\ \textcolor{comment}{\ *\ Request\ Body\ Streaming}}
\DoxyCodeLine{00630\ \textcolor{comment}{\ *\ ============================================================================}}
\DoxyCodeLine{00631\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00632\ }
\DoxyCodeLine{00648\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00649\ \mbox{\hyperlink{group__http_ga5fe7e9577e2d58033ef13c972e815975}{SocketHTTPServer\_Request\_body\_stream}}\ (\mbox{\hyperlink{structSocketHTTPServer__Request}{SocketHTTPServer\_Request\_T}}\ req,}
\DoxyCodeLine{00650\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{SocketHTTPServer_8h_ab347055b7285aedad5fa0f504c3a655e}{SocketHTTPServer\_BodyCallback}}\ callback,}
\DoxyCodeLine{00651\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ *userdata);}
\DoxyCodeLine{00652\ }
\DoxyCodeLine{00661\ \textcolor{keyword}{extern}\ int64\_t}
\DoxyCodeLine{00662\ \mbox{\hyperlink{group__http_ga27b60a6145a8b425f588bc428946450e}{SocketHTTPServer\_Request\_body\_expected}}\ (\mbox{\hyperlink{structSocketHTTPServer__Request}{SocketHTTPServer\_Request\_T}}\ req);}
\DoxyCodeLine{00663\ }
\DoxyCodeLine{00672\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}}
\DoxyCodeLine{00673\ \mbox{\hyperlink{group__http_ga9b2fbeda02abcd8385d35f3164e82b8f}{SocketHTTPServer\_Request\_is\_chunked}}\ (\mbox{\hyperlink{structSocketHTTPServer__Request}{SocketHTTPServer\_Request\_T}}\ req);}
\DoxyCodeLine{00674\ }
\DoxyCodeLine{00675\ \textcolor{comment}{/*\ ============================================================================}}
\DoxyCodeLine{00676\ \textcolor{comment}{\ *\ Response\ Body\ Streaming}}
\DoxyCodeLine{00677\ \textcolor{comment}{\ *\ ============================================================================}}
\DoxyCodeLine{00678\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00679\ }
\DoxyCodeLine{00694\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}}
\DoxyCodeLine{00695\ \mbox{\hyperlink{group__http_ga6eadbc6777bdd7c47ec3f3282d66feac}{SocketHTTPServer\_Request\_begin\_stream}}\ (\mbox{\hyperlink{structSocketHTTPServer__Request}{SocketHTTPServer\_Request\_T}}\ req);}
\DoxyCodeLine{00696\ }
\DoxyCodeLine{00710\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group__http_gab9d8424580c9f47a870bea001f95176b}{SocketHTTPServer\_Request\_send\_chunk}}\ (\mbox{\hyperlink{structSocketHTTPServer__Request}{SocketHTTPServer\_Request\_T}}\ req,}
\DoxyCodeLine{00711\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{void}\ *data,\ \textcolor{keywordtype}{size\_t}\ len);}
\DoxyCodeLine{00712\ }
\DoxyCodeLine{00724\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}}
\DoxyCodeLine{00725\ \mbox{\hyperlink{group__http_ga36c1dce0b797e1d069b11b5608b06558}{SocketHTTPServer\_Request\_end\_stream}}\ (\mbox{\hyperlink{structSocketHTTPServer__Request}{SocketHTTPServer\_Request\_T}}\ req);}
\DoxyCodeLine{00726\ }
\DoxyCodeLine{00727\ \textcolor{comment}{/*\ ============================================================================}}
\DoxyCodeLine{00728\ \textcolor{comment}{\ *\ HTTP/2\ Server\ Push}}
\DoxyCodeLine{00729\ \textcolor{comment}{\ *\ ============================================================================}}
\DoxyCodeLine{00730\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00731\ }
\DoxyCodeLine{00745\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group__http_gadc66dc775243c9466070358778fe7afd}{SocketHTTPServer\_Request\_push}}\ (\mbox{\hyperlink{structSocketHTTPServer__Request}{SocketHTTPServer\_Request\_T}}\ req,}
\DoxyCodeLine{00746\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *path,}
\DoxyCodeLine{00747\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structSocketHTTP__Headers}{SocketHTTP\_Headers\_T}}\ headers);}
\DoxyCodeLine{00748\ }
\DoxyCodeLine{00757\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group__http_ga8eb75c9722d2cc203770295bb2e781b2}{SocketHTTPServer\_Request\_is\_http2}}\ (\mbox{\hyperlink{structSocketHTTPServer__Request}{SocketHTTPServer\_Request\_T}}\ req);}
\DoxyCodeLine{00758\ }
\DoxyCodeLine{00759\ \textcolor{comment}{/*\ ============================================================================}}
\DoxyCodeLine{00760\ \textcolor{comment}{\ *\ WebSocket\ Upgrade}}
\DoxyCodeLine{00761\ \textcolor{comment}{\ *\ ============================================================================}}
\DoxyCodeLine{00762\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00763\ }
\DoxyCodeLine{00771\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}}
\DoxyCodeLine{00772\ \mbox{\hyperlink{group__http_gadea7c22d784dde56835abffcd57ee516}{SocketHTTPServer\_Request\_is\_websocket}}\ (\mbox{\hyperlink{structSocketHTTPServer__Request}{SocketHTTPServer\_Request\_T}}\ req);}
\DoxyCodeLine{00773\ }
\DoxyCodeLine{00785\ \textcolor{keyword}{extern}\ SocketWS\_T}
\DoxyCodeLine{00786\ \mbox{\hyperlink{group__http_ga27bf639b401330e8d40ebbaf0c93e12b}{SocketHTTPServer\_Request\_upgrade\_websocket}}\ (\mbox{\hyperlink{structSocketHTTPServer__Request}{SocketHTTPServer\_Request\_T}}\ req);}
\DoxyCodeLine{00787\ }
\DoxyCodeLine{00788\ \textcolor{comment}{/*\ ============================================================================}}
\DoxyCodeLine{00789\ \textcolor{comment}{\ *\ Rate\ Limiting}}
\DoxyCodeLine{00790\ \textcolor{comment}{\ *\ ============================================================================}}
\DoxyCodeLine{00791\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00792\ }
\DoxyCodeLine{00806\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group__http_ga0d43e263bbd16177f78d4eef9b84ec1d}{SocketHTTPServer\_set\_rate\_limit}}\ (\mbox{\hyperlink{structSocketHTTPServer}{SocketHTTPServer\_T}}\ server,}
\DoxyCodeLine{00807\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *path\_prefix,}
\DoxyCodeLine{00808\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ SocketRateLimit\_T\ limiter);}
\DoxyCodeLine{00809\ }
\DoxyCodeLine{00810\ \textcolor{comment}{/*\ ============================================================================}}
\DoxyCodeLine{00811\ \textcolor{comment}{\ *\ Request\ Validation\ Middleware}}
\DoxyCodeLine{00812\ \textcolor{comment}{\ *\ ============================================================================}}
\DoxyCodeLine{00813\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00814\ }
\DoxyCodeLine{00827\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00828\ \mbox{\hyperlink{group__http_ga44d4d4090830ab41d87e7635cd7468ca}{SocketHTTPServer\_set\_validator}}\ (\mbox{\hyperlink{structSocketHTTPServer}{SocketHTTPServer\_T}}\ server,}
\DoxyCodeLine{00829\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{SocketHTTPServer_8h_ab095eb6d03d06f9c1d8041dc3aa56094}{SocketHTTPServer\_Validator}}\ validator,}
\DoxyCodeLine{00830\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ *userdata);}
\DoxyCodeLine{00831\ }
\DoxyCodeLine{00832\ \textcolor{comment}{/*\ ============================================================================}}
\DoxyCodeLine{00833\ \textcolor{comment}{\ *\ Graceful\ Shutdown}}
\DoxyCodeLine{00834\ \textcolor{comment}{\ *\ ============================================================================}}
\DoxyCodeLine{00835\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00836\ }
\DoxyCodeLine{00851\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group__http_ga20dcaa755268733bbeae04c26f6ca6bb}{SocketHTTPServer\_drain}}\ (\mbox{\hyperlink{structSocketHTTPServer}{SocketHTTPServer\_T}}\ server,\ \textcolor{keywordtype}{int}\ timeout\_ms);}
\DoxyCodeLine{00852\ }
\DoxyCodeLine{00863\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group__http_ga98d6411c6fcecd153b1f2813ef1115ea}{SocketHTTPServer\_drain\_poll}}\ (\mbox{\hyperlink{structSocketHTTPServer}{SocketHTTPServer\_T}}\ server);}
\DoxyCodeLine{00864\ }
\DoxyCodeLine{00877\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group__http_ga16195c5b1094a43bc7ee7531c3674958}{SocketHTTPServer\_drain\_wait}}\ (\mbox{\hyperlink{structSocketHTTPServer}{SocketHTTPServer\_T}}\ server,}
\DoxyCodeLine{00878\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ timeout\_ms);}
\DoxyCodeLine{00879\ }
\DoxyCodeLine{00888\ \textcolor{keyword}{extern}\ int64\_t\ \mbox{\hyperlink{group__http_gaecec7fdc3ab750e67925295b736dcef0}{SocketHTTPServer\_drain\_remaining\_ms}}\ (\mbox{\hyperlink{structSocketHTTPServer}{SocketHTTPServer\_T}}\ server);}
\DoxyCodeLine{00889\ }
\DoxyCodeLine{00899\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00900\ \mbox{\hyperlink{group__http_gaffa4a9003d4696ab088d906cba07e39e}{SocketHTTPServer\_set\_drain\_callback}}\ (\mbox{\hyperlink{structSocketHTTPServer}{SocketHTTPServer\_T}}\ server,}
\DoxyCodeLine{00901\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{SocketHTTPServer_8h_a6eeba038caf0b48d3ae3527155ab8162}{SocketHTTPServer\_DrainCallback}}\ callback,}
\DoxyCodeLine{00902\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ *userdata);}
\DoxyCodeLine{00903\ }
\DoxyCodeLine{00912\ \textcolor{keyword}{extern}\ \mbox{\hyperlink{SocketHTTPServer_8h_a0ac9162aaf92d18d40cf0443909e3e97}{SocketHTTPServer\_State}}}
\DoxyCodeLine{00913\ \mbox{\hyperlink{group__http_ga2f70285ff97bb4a7755c0e14c789c0b0}{SocketHTTPServer\_state}}\ (\mbox{\hyperlink{structSocketHTTPServer}{SocketHTTPServer\_T}}\ server);}
\DoxyCodeLine{00914\ }
\DoxyCodeLine{00915\ \textcolor{comment}{/*\ ============================================================================}}
\DoxyCodeLine{00916\ \textcolor{comment}{\ *\ Server\ Statistics}}
\DoxyCodeLine{00917\ \textcolor{comment}{\ *\ ============================================================================}}
\DoxyCodeLine{00918\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00919\ }
\DoxyCodeLine{00923\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct}}
\DoxyCodeLine{00924\ \{}
\DoxyCodeLine{00925\ \ \ \textcolor{comment}{/*\ Connection\ stats\ */}}
\DoxyCodeLine{00926\ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structSocketHTTPServer__Stats_a0ee2c4f575071ebc2d64b70fca183ce4}{active\_connections}};\ \ \ }
\DoxyCodeLine{00927\ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structSocketHTTPServer__Stats_ad5c0e6d6890af797ff1ff096f1e03f61}{total\_connections}};\ \ \ \ }
\DoxyCodeLine{00928\ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structSocketHTTPServer__Stats_a50103f8d84c5e9fd5cfc48c4bdadc4f2}{connections\_rejected}};\ }
\DoxyCodeLine{00930\ \ \ \textcolor{comment}{/*\ Request\ stats\ */}}
\DoxyCodeLine{00931\ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structSocketHTTPServer__Stats_accdb3d0a82f2e7d2e78f174e0dccc4b4}{total\_requests}};\ \ \ \ \ \ }
\DoxyCodeLine{00932\ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structSocketHTTPServer__Stats_a311686f5e9dfdd93834bd160c3e04b8b}{requests\_per\_second}};\ }
\DoxyCodeLine{00934\ \ \ \textcolor{comment}{/*\ Byte\ counters\ */}}
\DoxyCodeLine{00935\ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structSocketHTTPServer__Stats_a697ff4be6f2ea29f24ffd68aeb8ec531}{total\_bytes\_sent}};\ \ \ \ \ }
\DoxyCodeLine{00936\ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structSocketHTTPServer__Stats_a97ef0b16d227ef1d42c1d507e333f5d6}{total\_bytes\_received}};\ }
\DoxyCodeLine{00938\ \ \ \textcolor{comment}{/*\ Error\ stats\ */}}
\DoxyCodeLine{00939\ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structSocketHTTPServer__Stats_a6657c81bdeca35c6831ad8fec96db1b9}{errors\_4xx}};\ \ \ }
\DoxyCodeLine{00940\ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structSocketHTTPServer__Stats_a48b3d62e701b7e53a064ffc5a9b7c8ed}{errors\_5xx}};\ \ \ }
\DoxyCodeLine{00941\ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structSocketHTTPServer__Stats_a44c2c79b921e4e66754bc9aca9f5d8ec}{timeouts}};\ \ \ \ \ }
\DoxyCodeLine{00942\ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structSocketHTTPServer__Stats_a867a300e62b5a1f57e5c0a93b4da436b}{rate\_limited}};\ }
\DoxyCodeLine{00944\ \ \ \textcolor{comment}{/*\ Latency\ stats\ (microseconds)\ */}}
\DoxyCodeLine{00945\ \ \ int64\_t\ \mbox{\hyperlink{structSocketHTTPServer__Stats_ab8a5c9b59dcc52d1a443fcad59e2614f}{avg\_request\_time\_us}};\ }
\DoxyCodeLine{00946\ \ \ int64\_t\ \mbox{\hyperlink{structSocketHTTPServer__Stats_a1e82d10310fcccfb79bf27db35dd8c3d}{max\_request\_time\_us}};\ }
\DoxyCodeLine{00947\ \ \ int64\_t\ \mbox{\hyperlink{structSocketHTTPServer__Stats_a189d8b8389264118e1887d87d9760fbe}{p50\_request\_time\_us}};\ }
\DoxyCodeLine{00948\ \ \ int64\_t\ \mbox{\hyperlink{structSocketHTTPServer__Stats_a301aa1753953c86be6c64b97c9c56f88}{p95\_request\_time\_us}};\ }
\DoxyCodeLine{00949\ \ \ int64\_t\ \mbox{\hyperlink{structSocketHTTPServer__Stats_a3c175ac1c4f86022610c1c3e74eac6fe}{p99\_request\_time\_us}};\ }
\DoxyCodeLine{00950\ \}\ \mbox{\hyperlink{structSocketHTTPServer__Stats}{SocketHTTPServer\_Stats}};}
\DoxyCodeLine{00951\ }
\DoxyCodeLine{00960\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group__http_ga4695eb50357dd731435f3558bf30d932}{SocketHTTPServer\_stats}}\ (\mbox{\hyperlink{structSocketHTTPServer}{SocketHTTPServer\_T}}\ server,}
\DoxyCodeLine{00961\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structSocketHTTPServer__Stats}{SocketHTTPServer\_Stats}}\ *stats);}
\DoxyCodeLine{00962\ }
\DoxyCodeLine{00971\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group__http_gac7bf7e6cb42130716cebdb8fd22b30e6}{SocketHTTPServer\_stats\_reset}}\ (\mbox{\hyperlink{structSocketHTTPServer}{SocketHTTPServer\_T}}\ server);}
\DoxyCodeLine{00972\ }
\DoxyCodeLine{00973\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ SOCKETHTTPSERVER\_INCLUDED\ */}\textcolor{preprocessor}{}}

\end{DoxyCode}
