<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="High-performance, exception-driven socket toolkit for POSIX systems">
<meta name="keywords" content="socket, networking, C, POSIX, TCP, UDP, TLS, async, high-performance, library">
<meta name="author" content="Tetsuo Corporation">
<meta name="theme-color" content="#3b82f6">
<title>SocketUTF8.h File Reference</title>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="socket-theme.css" rel="stylesheet" type="text/css"/>
<link href="socket-theme.css" rel="stylesheet" type="text/css"/>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><defs><linearGradient id='g' x1='0%25' y1='0%25' x2='100%25' y2='100%25'><stop offset='0%25' stop-color='%233b82f6'/><stop offset='100%25' stop-color='%238b5cf6'/></linearGradient></defs><rect width='100' height='100' rx='20' fill='url(%23g)'/><text x='50' y='68' font-size='50' text-anchor='middle' fill='white' font-family='sans-serif' font-weight='bold'>S</text></svg>">
</head>
<body>
<div id="top">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Socket Library<span id="projectnumber">1.0.0</span></div>
   <div id="projectbrief">High-performance, exception-driven socket toolkit for POSIX systems</div>
  </td>
  <td style="text-align: right; padding: 20px; vertical-align: middle;">
    <div style="display: flex; gap: 8px; justify-content: flex-end; flex-wrap: wrap; align-items: center;">
      <a href="index.html" class="quick-link">Home</a>
      <a href="annotated.html" class="quick-link">Structures</a>
      <a href="files.html" class="quick-link">Files</a>
      <a href="globals.html" class="quick-link">API</a>
    </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('SocketUTF8_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">SocketUTF8.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &quot;<a class="el" href="Except_8h_source.html">core/Except.h</a>&quot;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for SocketUTF8.h:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="SocketUTF8_8h__incl.svg" width="298" height="183"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<p><a href="SocketUTF8_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:structSocketUTF8__State" id="r_structSocketUTF8__State"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SocketUTF8_8h.html#structSocketUTF8__State">SocketUTF8_State</a></td></tr>
<tr class="memdesc:structSocketUTF8__State"><td class="mdescLeft">&#160;</td><td class="mdescRight">UTF-8 incremental validator state Public structure for stack allocation - initialized via <a class="el" href="SocketUTF8_8h.html#a63e171e87998e78fb1398213e4ebc9a5" title="SocketUTF8_init - Initialize incremental validator @state: State structure to initialize (must not be...">SocketUTF8_init()</a>  <a href="SocketUTF8_8h.html#structSocketUTF8__State">More...</a><br /></td></tr>
<tr class="separator:structSocketUTF8__State"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ac2c24c8a574da982e47bc14c90c51fcb" id="r_ac2c24c8a574da982e47bc14c90c51fcb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SocketUTF8_8h.html#ac2c24c8a574da982e47bc14c90c51fcb">SOCKET_UTF8_MAX_BYTES</a>&#160;&#160;&#160;4</td></tr>
<tr class="memdesc:ac2c24c8a574da982e47bc14c90c51fcb"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="SocketUTF8_8h.html">SocketUTF8.h</a> - UTF-8 Validation for Socket Library.  <br /></td></tr>
<tr class="separator:ac2c24c8a574da982e47bc14c90c51fcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9c7795dd42c45a40d759b981ea2a124" id="r_aa9c7795dd42c45a40d759b981ea2a124"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SocketUTF8_8h.html#aa9c7795dd42c45a40d759b981ea2a124">SOCKET_UTF8_MAX_CODEPOINT</a>&#160;&#160;&#160;0x10FFFF</td></tr>
<tr class="memdesc:aa9c7795dd42c45a40d759b981ea2a124"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum valid Unicode code point.  <br /></td></tr>
<tr class="separator:aa9c7795dd42c45a40d759b981ea2a124"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93252af0c4c16e848f1faad437679dea" id="r_a93252af0c4c16e848f1faad437679dea"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SocketUTF8_8h.html#a93252af0c4c16e848f1faad437679dea">SOCKET_UTF8_SURROGATE_MIN</a>&#160;&#160;&#160;0xD800</td></tr>
<tr class="memdesc:a93252af0c4c16e848f1faad437679dea"><td class="mdescLeft">&#160;</td><td class="mdescRight">First UTF-16 surrogate code point (invalid in UTF-8)  <br /></td></tr>
<tr class="separator:a93252af0c4c16e848f1faad437679dea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45fdc9df7fba5033d071135c934b8547" id="r_a45fdc9df7fba5033d071135c934b8547"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SocketUTF8_8h.html#a45fdc9df7fba5033d071135c934b8547">SOCKET_UTF8_SURROGATE_MAX</a>&#160;&#160;&#160;0xDFFF</td></tr>
<tr class="memdesc:a45fdc9df7fba5033d071135c934b8547"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last UTF-16 surrogate code point (invalid in UTF-8)  <br /></td></tr>
<tr class="separator:a45fdc9df7fba5033d071135c934b8547"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ae8b6c527962e3019992746f49aac247b" id="r_ae8b6c527962e3019992746f49aac247b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SocketUTF8_8h.html#ae8b6c527962e3019992746f49aac247b">SocketUTF8_Result</a> { <br />
&#160;&#160;<a class="el" href="SocketUTF8_8h.html#ae8b6c527962e3019992746f49aac247ba99d5b2d72aaf988d870a6d9528251f71">UTF8_VALID</a> = 0
, <br />
&#160;&#160;<a class="el" href="SocketUTF8_8h.html#ae8b6c527962e3019992746f49aac247ba5517838e6342334352553b1013ced8e6">UTF8_INVALID</a>
, <br />
&#160;&#160;<a class="el" href="SocketUTF8_8h.html#ae8b6c527962e3019992746f49aac247ba4d8dbfb5b4a4d95abd8662b58f0ec402">UTF8_INCOMPLETE</a>
, <br />
&#160;&#160;<a class="el" href="SocketUTF8_8h.html#ae8b6c527962e3019992746f49aac247baa8dc4f40f8b669aaf6dcc16cf64c9b6c">UTF8_OVERLONG</a>
, <br />
&#160;&#160;<a class="el" href="SocketUTF8_8h.html#ae8b6c527962e3019992746f49aac247ba9b6f15c76888c3639b5d42aab0f8c26f">UTF8_SURROGATE</a>
, <br />
&#160;&#160;<a class="el" href="SocketUTF8_8h.html#ae8b6c527962e3019992746f49aac247ba6dbaccc954823626b88b579a7f6d6fb0">UTF8_TOO_LARGE</a>
<br />
 }</td></tr>
<tr class="memdesc:ae8b6c527962e3019992746f49aac247b"><td class="mdescLeft">&#160;</td><td class="mdescRight">UTF-8 validation result codes.  <a href="SocketUTF8_8h.html#ae8b6c527962e3019992746f49aac247b">More...</a><br /></td></tr>
<tr class="separator:ae8b6c527962e3019992746f49aac247b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a68491b1f63c513ccc96a83a14d069e7b" id="r_a68491b1f63c513ccc96a83a14d069e7b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="SocketUTF8_8h.html#ae8b6c527962e3019992746f49aac247b">SocketUTF8_Result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SocketUTF8_8h.html#a68491b1f63c513ccc96a83a14d069e7b">SocketUTF8_validate</a> (const unsigned char *data, size_t len)</td></tr>
<tr class="memdesc:a68491b1f63c513ccc96a83a14d069e7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">SocketUTF8_validate - Validate UTF-8 data (complete check) @data: Input data (may be NULL if len is 0) @len: Length of data in bytes.  <br /></td></tr>
<tr class="separator:a68491b1f63c513ccc96a83a14d069e7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a409d0ca4c468b8ca69e7b3b75c58841d" id="r_a409d0ca4c468b8ca69e7b3b75c58841d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="SocketUTF8_8h.html#ae8b6c527962e3019992746f49aac247b">SocketUTF8_Result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SocketUTF8_8h.html#a409d0ca4c468b8ca69e7b3b75c58841d">SocketUTF8_validate_str</a> (const char *str)</td></tr>
<tr class="memdesc:a409d0ca4c468b8ca69e7b3b75c58841d"><td class="mdescLeft">&#160;</td><td class="mdescRight">SocketUTF8_validate_str - Validate null-terminated string @str: Null-terminated string (may be NULL)  <br /></td></tr>
<tr class="separator:a409d0ca4c468b8ca69e7b3b75c58841d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63e171e87998e78fb1398213e4ebc9a5" id="r_a63e171e87998e78fb1398213e4ebc9a5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SocketUTF8_8h.html#a63e171e87998e78fb1398213e4ebc9a5">SocketUTF8_init</a> (<a class="el" href="SocketUTF8_8h.html#structSocketUTF8__State">SocketUTF8_State</a> *state)</td></tr>
<tr class="memdesc:a63e171e87998e78fb1398213e4ebc9a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">SocketUTF8_init - Initialize incremental validator @state: State structure to initialize (must not be NULL)  <br /></td></tr>
<tr class="separator:a63e171e87998e78fb1398213e4ebc9a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7bf6c0717c79f93d931fcd50bf04b60" id="r_ac7bf6c0717c79f93d931fcd50bf04b60"><td class="memItemLeft" align="right" valign="top"><a class="el" href="SocketUTF8_8h.html#ae8b6c527962e3019992746f49aac247b">SocketUTF8_Result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SocketUTF8_8h.html#ac7bf6c0717c79f93d931fcd50bf04b60">SocketUTF8_update</a> (<a class="el" href="SocketUTF8_8h.html#structSocketUTF8__State">SocketUTF8_State</a> *state, const unsigned char *data, size_t len)</td></tr>
<tr class="memdesc:ac7bf6c0717c79f93d931fcd50bf04b60"><td class="mdescLeft">&#160;</td><td class="mdescRight">SocketUTF8_update - Feed data to incremental validator @state: Validator state (must be initialized) @data: Input data chunk (may be NULL if len is 0) @len: Length of chunk in bytes.  <br /></td></tr>
<tr class="separator:ac7bf6c0717c79f93d931fcd50bf04b60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a388818b9081b6d4f7ad496c6f4a364ad" id="r_a388818b9081b6d4f7ad496c6f4a364ad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="SocketUTF8_8h.html#ae8b6c527962e3019992746f49aac247b">SocketUTF8_Result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SocketUTF8_8h.html#a388818b9081b6d4f7ad496c6f4a364ad">SocketUTF8_finish</a> (const <a class="el" href="SocketUTF8_8h.html#structSocketUTF8__State">SocketUTF8_State</a> *state)</td></tr>
<tr class="memdesc:a388818b9081b6d4f7ad496c6f4a364ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">SocketUTF8_finish - Finalize incremental validation @state: Validator state (must not be NULL)  <br /></td></tr>
<tr class="separator:a388818b9081b6d4f7ad496c6f4a364ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46408361a51a348e46420dfeeb3cca5c" id="r_a46408361a51a348e46420dfeeb3cca5c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SocketUTF8_8h.html#a46408361a51a348e46420dfeeb3cca5c">SocketUTF8_reset</a> (<a class="el" href="SocketUTF8_8h.html#structSocketUTF8__State">SocketUTF8_State</a> *state)</td></tr>
<tr class="memdesc:a46408361a51a348e46420dfeeb3cca5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">SocketUTF8_reset - Reset validator for reuse @state: Validator state (must not be NULL)  <br /></td></tr>
<tr class="separator:a46408361a51a348e46420dfeeb3cca5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1563bde34c7c6e25d605d3d4d64ca103" id="r_a1563bde34c7c6e25d605d3d4d64ca103"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SocketUTF8_8h.html#a1563bde34c7c6e25d605d3d4d64ca103">SocketUTF8_codepoint_len</a> (uint32_t codepoint)</td></tr>
<tr class="memdesc:a1563bde34c7c6e25d605d3d4d64ca103"><td class="mdescLeft">&#160;</td><td class="mdescRight">SocketUTF8_codepoint_len - Get UTF-8 byte length for code point @codepoint: Unicode code point (U+0000 to U+10FFFF)  <br /></td></tr>
<tr class="separator:a1563bde34c7c6e25d605d3d4d64ca103"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1544e5297cf89454b89912f8c8af9046" id="r_a1544e5297cf89454b89912f8c8af9046"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SocketUTF8_8h.html#a1544e5297cf89454b89912f8c8af9046">SocketUTF8_sequence_len</a> (unsigned char first_byte)</td></tr>
<tr class="memdesc:a1544e5297cf89454b89912f8c8af9046"><td class="mdescLeft">&#160;</td><td class="mdescRight">SocketUTF8_sequence_len - Get length of UTF-8 sequence from first byte @first_byte: First byte of UTF-8 sequence.  <br /></td></tr>
<tr class="separator:a1544e5297cf89454b89912f8c8af9046"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d7d4a24b88fb2a7add5dce1a5ffdecf" id="r_a0d7d4a24b88fb2a7add5dce1a5ffdecf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SocketUTF8_8h.html#a0d7d4a24b88fb2a7add5dce1a5ffdecf">SocketUTF8_encode</a> (uint32_t codepoint, unsigned char *output)</td></tr>
<tr class="memdesc:a0d7d4a24b88fb2a7add5dce1a5ffdecf"><td class="mdescLeft">&#160;</td><td class="mdescRight">SocketUTF8_encode - Encode code point to UTF-8 @codepoint: Unicode code point (U+0000 to U+10FFFF, excluding surrogates) @output: Output buffer (must be at least SOCKET_UTF8_MAX_BYTES bytes)  <br /></td></tr>
<tr class="separator:a0d7d4a24b88fb2a7add5dce1a5ffdecf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa22db28501f980ac3124b9ec4986fdb8" id="r_aa22db28501f980ac3124b9ec4986fdb8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="SocketUTF8_8h.html#ae8b6c527962e3019992746f49aac247b">SocketUTF8_Result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SocketUTF8_8h.html#aa22db28501f980ac3124b9ec4986fdb8">SocketUTF8_decode</a> (const unsigned char *data, size_t len, uint32_t *codepoint, size_t *consumed)</td></tr>
<tr class="memdesc:aa22db28501f980ac3124b9ec4986fdb8"><td class="mdescLeft">&#160;</td><td class="mdescRight">SocketUTF8_decode - Decode one code point from UTF-8 @data: Input data (must not be NULL) @len: Available bytes (must be &gt; 0) @codepoint: Output code point (may be NULL to skip) @consumed: Output bytes consumed (may be NULL to skip)  <br /></td></tr>
<tr class="separator:aa22db28501f980ac3124b9ec4986fdb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a473245344234f9352a2b968201d39634" id="r_a473245344234f9352a2b968201d39634"><td class="memItemLeft" align="right" valign="top"><a class="el" href="SocketUTF8_8h.html#ae8b6c527962e3019992746f49aac247b">SocketUTF8_Result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SocketUTF8_8h.html#a473245344234f9352a2b968201d39634">SocketUTF8_count_codepoints</a> (const unsigned char *data, size_t len, size_t *count)</td></tr>
<tr class="memdesc:a473245344234f9352a2b968201d39634"><td class="mdescLeft">&#160;</td><td class="mdescRight">SocketUTF8_count_codepoints - Count code points in UTF-8 string @data: Input data (may be NULL if len is 0) @len: Length in bytes @count: Output code point count (must not be NULL)  <br /></td></tr>
<tr class="separator:a473245344234f9352a2b968201d39634"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a305b150f1e0b525b236bf0a8952c5315" id="r_a305b150f1e0b525b236bf0a8952c5315"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SocketUTF8_8h.html#a305b150f1e0b525b236bf0a8952c5315">SocketUTF8_result_string</a> (<a class="el" href="SocketUTF8_8h.html#ae8b6c527962e3019992746f49aac247b">SocketUTF8_Result</a> result)</td></tr>
<tr class="memdesc:a305b150f1e0b525b236bf0a8952c5315"><td class="mdescLeft">&#160;</td><td class="mdescRight">SocketUTF8_result_string - Get human-readable result description.  <br /></td></tr>
<tr class="separator:a305b150f1e0b525b236bf0a8952c5315"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a96b509b874774db6b22b3f25438a21d2" id="r_a96b509b874774db6b22b3f25438a21d2"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="Except_8h.html#structExcept__T">Except_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SocketUTF8_8h.html#a96b509b874774db6b22b3f25438a21d2">SocketUTF8_Failed</a></td></tr>
<tr class="memdesc:a96b509b874774db6b22b3f25438a21d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">SocketUTF8_Failed - UTF-8 operation failure.  <br /></td></tr>
<tr class="separator:a96b509b874774db6b22b3f25438a21d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="structSocketUTF8__State" id="structSocketUTF8__State"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structSocketUTF8__State">&#9670;&#160;</a></span>SocketUTF8_State</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct SocketUTF8_State</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>UTF-8 incremental validator state Public structure for stack allocation - initialized via <a class="el" href="SocketUTF8_8h.html#a63e171e87998e78fb1398213e4ebc9a5" title="SocketUTF8_init - Initialize incremental validator @state: State structure to initialize (must not be...">SocketUTF8_init()</a> </p>
<p>This structure maintains validation state across multiple chunks of data, enabling streaming validation where multi-byte sequences may be split across chunk boundaries. </p>

<p class="definition">Definition at line <a class="el" href="SocketUTF8_8h_source.html#l00134">134</a> of file <a class="el" href="SocketUTF8_8h_source.html">SocketUTF8.h</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a075c37180d67223a22af1724ebdd9278" name="a075c37180d67223a22af1724ebdd9278"></a>uint8_t</td>
<td class="fieldname">
bytes_needed</td>
<td class="fielddoc">
Remaining bytes in sequence. </td></tr>
<tr><td class="fieldtype">
<a id="a216e9dcd5edcfb520dd193928984a537" name="a216e9dcd5edcfb520dd193928984a537"></a>uint8_t</td>
<td class="fieldname">
bytes_seen</td>
<td class="fielddoc">
Bytes seen in current sequence. </td></tr>
<tr><td class="fieldtype">
<a id="a82cadcfc6425d071d2bacfa22470676c" name="a82cadcfc6425d071d2bacfa22470676c"></a>uint32_t</td>
<td class="fieldname">
codepoint</td>
<td class="fielddoc">
Accumulated code point (internal) </td></tr>
<tr><td class="fieldtype">
<a id="a48fe27868c9570c5e60189e4c91dbd26" name="a48fe27868c9570c5e60189e4c91dbd26"></a>uint32_t</td>
<td class="fieldname">
state</td>
<td class="fielddoc">
DFA state (internal) </td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ac2c24c8a574da982e47bc14c90c51fcb" name="ac2c24c8a574da982e47bc14c90c51fcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2c24c8a574da982e47bc14c90c51fcb">&#9670;&#160;</a></span>SOCKET_UTF8_MAX_BYTES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SOCKET_UTF8_MAX_BYTES&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="SocketUTF8_8h.html">SocketUTF8.h</a> - UTF-8 Validation for Socket Library. </p>
<p>Part of the Socket Library Following C Interfaces and Implementations patterns</p>
<p>Provides complete UTF-8 validation per Unicode Standard with incremental API for streaming. Required for WebSocket text frame validation (RFC 6455 Section 8.1).</p>
<p>Features:</p><ul>
<li>One-shot validation for complete data</li>
<li>Incremental validation for streaming data</li>
<li>DFA-based O(n) time, O(1) space algorithm</li>
<li>Strict security validation (rejects overlong, surrogates, invalid)</li>
<li>Encode/decode utilities</li>
</ul>
<p>Thread safety: All functions are thread-safe (no global state). State structures are per-call, enabling concurrent validation.</p>
<p>Security notes:</p><ul>
<li>Rejects overlong encodings (e.g., C0 80 for NUL) - critical for security</li>
<li>Rejects UTF-16 surrogates (U+D800-U+DFFF) - invalid in UTF-8</li>
<li>Rejects code points &gt; U+10FFFF - beyond Unicode range</li>
<li>No dynamic memory allocation - immune to allocation attacks Maximum bytes in a UTF-8 sequence </li>
</ul>

<p class="definition">Definition at line <a class="el" href="SocketUTF8_8h_source.html#l00041">41</a> of file <a class="el" href="SocketUTF8_8h_source.html">SocketUTF8.h</a>.</p>

</div>
</div>
<a id="aa9c7795dd42c45a40d759b981ea2a124" name="aa9c7795dd42c45a40d759b981ea2a124"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9c7795dd42c45a40d759b981ea2a124">&#9670;&#160;</a></span>SOCKET_UTF8_MAX_CODEPOINT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SOCKET_UTF8_MAX_CODEPOINT&#160;&#160;&#160;0x10FFFF</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximum valid Unicode code point. </p>

<p class="definition">Definition at line <a class="el" href="SocketUTF8_8h_source.html#l00044">44</a> of file <a class="el" href="SocketUTF8_8h_source.html">SocketUTF8.h</a>.</p>

</div>
</div>
<a id="a45fdc9df7fba5033d071135c934b8547" name="a45fdc9df7fba5033d071135c934b8547"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45fdc9df7fba5033d071135c934b8547">&#9670;&#160;</a></span>SOCKET_UTF8_SURROGATE_MAX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SOCKET_UTF8_SURROGATE_MAX&#160;&#160;&#160;0xDFFF</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Last UTF-16 surrogate code point (invalid in UTF-8) </p>

<p class="definition">Definition at line <a class="el" href="SocketUTF8_8h_source.html#l00050">50</a> of file <a class="el" href="SocketUTF8_8h_source.html">SocketUTF8.h</a>.</p>

</div>
</div>
<a id="a93252af0c4c16e848f1faad437679dea" name="a93252af0c4c16e848f1faad437679dea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93252af0c4c16e848f1faad437679dea">&#9670;&#160;</a></span>SOCKET_UTF8_SURROGATE_MIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SOCKET_UTF8_SURROGATE_MIN&#160;&#160;&#160;0xD800</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>First UTF-16 surrogate code point (invalid in UTF-8) </p>

<p class="definition">Definition at line <a class="el" href="SocketUTF8_8h_source.html#l00047">47</a> of file <a class="el" href="SocketUTF8_8h_source.html">SocketUTF8.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ae8b6c527962e3019992746f49aac247b" name="ae8b6c527962e3019992746f49aac247b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8b6c527962e3019992746f49aac247b">&#9670;&#160;</a></span>SocketUTF8_Result</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="SocketUTF8_8h.html#ae8b6c527962e3019992746f49aac247b">SocketUTF8_Result</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>UTF-8 validation result codes. </p>
<p>These codes indicate the result of UTF-8 validation operations. For security, invalid sequences are categorized by failure type. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ae8b6c527962e3019992746f49aac247ba99d5b2d72aaf988d870a6d9528251f71" name="ae8b6c527962e3019992746f49aac247ba99d5b2d72aaf988d870a6d9528251f71"></a>UTF8_VALID&#160;</td><td class="fielddoc"><p>Complete valid UTF-8 sequence. </p>
</td></tr>
<tr><td class="fieldname"><a id="ae8b6c527962e3019992746f49aac247ba5517838e6342334352553b1013ced8e6" name="ae8b6c527962e3019992746f49aac247ba5517838e6342334352553b1013ced8e6"></a>UTF8_INVALID&#160;</td><td class="fielddoc"><p>Invalid byte sequence detected. </p>
</td></tr>
<tr><td class="fieldname"><a id="ae8b6c527962e3019992746f49aac247ba4d8dbfb5b4a4d95abd8662b58f0ec402" name="ae8b6c527962e3019992746f49aac247ba4d8dbfb5b4a4d95abd8662b58f0ec402"></a>UTF8_INCOMPLETE&#160;</td><td class="fielddoc"><p>Valid prefix, needs more bytes. </p>
</td></tr>
<tr><td class="fieldname"><a id="ae8b6c527962e3019992746f49aac247baa8dc4f40f8b669aaf6dcc16cf64c9b6c" name="ae8b6c527962e3019992746f49aac247baa8dc4f40f8b669aaf6dcc16cf64c9b6c"></a>UTF8_OVERLONG&#160;</td><td class="fielddoc"><p>Overlong encoding (security issue) </p>
</td></tr>
<tr><td class="fieldname"><a id="ae8b6c527962e3019992746f49aac247ba9b6f15c76888c3639b5d42aab0f8c26f" name="ae8b6c527962e3019992746f49aac247ba9b6f15c76888c3639b5d42aab0f8c26f"></a>UTF8_SURROGATE&#160;</td><td class="fielddoc"><p>UTF-16 surrogate (U+D800-U+DFFF) </p>
</td></tr>
<tr><td class="fieldname"><a id="ae8b6c527962e3019992746f49aac247ba6dbaccc954823626b88b579a7f6d6fb0" name="ae8b6c527962e3019992746f49aac247ba6dbaccc954823626b88b579a7f6d6fb0"></a>UTF8_TOO_LARGE&#160;</td><td class="fielddoc"><p>Code point &gt; U+10FFFF. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="SocketUTF8_8h_source.html#l00076">76</a> of file <a class="el" href="SocketUTF8_8h_source.html">SocketUTF8.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a1563bde34c7c6e25d605d3d4d64ca103" name="a1563bde34c7c6e25d605d3d4d64ca103"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1563bde34c7c6e25d605d3d4d64ca103">&#9670;&#160;</a></span>SocketUTF8_codepoint_len()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int SocketUTF8_codepoint_len </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>codepoint</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SocketUTF8_codepoint_len - Get UTF-8 byte length for code point @codepoint: Unicode code point (U+0000 to U+10FFFF) </p>
<p>Calculates how many bytes are needed to encode the code point.</p>
<p>Returns: 1-4 for valid code points, 0 for invalid (surrogates, &gt;U+10FFFF) Thread-safe: Yes </p>

</div>
</div>
<a id="a473245344234f9352a2b968201d39634" name="a473245344234f9352a2b968201d39634"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a473245344234f9352a2b968201d39634">&#9670;&#160;</a></span>SocketUTF8_count_codepoints()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="SocketUTF8_8h.html#ae8b6c527962e3019992746f49aac247b">SocketUTF8_Result</a> SocketUTF8_count_codepoints </td>
          <td>(</td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SocketUTF8_count_codepoints - Count code points in UTF-8 string @data: Input data (may be NULL if len is 0) @len: Length in bytes @count: Output code point count (must not be NULL) </p>
<p>Counts the number of Unicode code points in the UTF-8 data. Also validates the UTF-8 encoding.</p>
<p>Returns: UTF8_VALID if valid (count is set), error code otherwise Thread-safe: Yes </p>

</div>
</div>
<a id="aa22db28501f980ac3124b9ec4986fdb8" name="aa22db28501f980ac3124b9ec4986fdb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa22db28501f980ac3124b9ec4986fdb8">&#9670;&#160;</a></span>SocketUTF8_decode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="SocketUTF8_8h.html#ae8b6c527962e3019992746f49aac247b">SocketUTF8_Result</a> SocketUTF8_decode </td>
          <td>(</td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>codepoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>consumed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SocketUTF8_decode - Decode one code point from UTF-8 @data: Input data (must not be NULL) @len: Available bytes (must be &gt; 0) @codepoint: Output code point (may be NULL to skip) @consumed: Output bytes consumed (may be NULL to skip) </p>
<p>Decodes a single UTF-8 sequence to its Unicode code point.</p>
<p>Returns:</p><ul>
<li>UTF8_VALID: Successfully decoded, *consumed bytes used</li>
<li>UTF8_INCOMPLETE: Need more bytes (partial sequence)</li>
<li>UTF8_INVALID/UTF8_OVERLONG/etc.: Invalid sequence</li>
</ul>
<p>Thread-safe: Yes </p>

</div>
</div>
<a id="a0d7d4a24b88fb2a7add5dce1a5ffdecf" name="a0d7d4a24b88fb2a7add5dce1a5ffdecf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d7d4a24b88fb2a7add5dce1a5ffdecf">&#9670;&#160;</a></span>SocketUTF8_encode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int SocketUTF8_encode </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>codepoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SocketUTF8_encode - Encode code point to UTF-8 @codepoint: Unicode code point (U+0000 to U+10FFFF, excluding surrogates) @output: Output buffer (must be at least SOCKET_UTF8_MAX_BYTES bytes) </p>
<p>Encodes a single Unicode code point as UTF-8.</p>
<p>Returns: Number of bytes written (1-4), or 0 for invalid code point Thread-safe: Yes </p>

</div>
</div>
<a id="a388818b9081b6d4f7ad496c6f4a364ad" name="a388818b9081b6d4f7ad496c6f4a364ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a388818b9081b6d4f7ad496c6f4a364ad">&#9670;&#160;</a></span>SocketUTF8_finish()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="SocketUTF8_8h.html#ae8b6c527962e3019992746f49aac247b">SocketUTF8_Result</a> SocketUTF8_finish </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="SocketUTF8_8h.html#structSocketUTF8__State">SocketUTF8_State</a> *&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SocketUTF8_finish - Finalize incremental validation @state: Validator state (must not be NULL) </p>
<p>Checks if the stream ended on a complete UTF-8 sequence. Must be called after all data has been fed to detect truncated sequences.</p>
<p>Returns: UTF8_VALID if complete, UTF8_INCOMPLETE if truncated Thread-safe: Yes (state is caller-provided, read-only) </p>

</div>
</div>
<a id="a63e171e87998e78fb1398213e4ebc9a5" name="a63e171e87998e78fb1398213e4ebc9a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63e171e87998e78fb1398213e4ebc9a5">&#9670;&#160;</a></span>SocketUTF8_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SocketUTF8_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="SocketUTF8_8h.html#structSocketUTF8__State">SocketUTF8_State</a> *&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SocketUTF8_init - Initialize incremental validator @state: State structure to initialize (must not be NULL) </p>
<p>Initializes state for incremental validation. Must be called before first use of <a class="el" href="SocketUTF8_8h.html#ac7bf6c0717c79f93d931fcd50bf04b60" title="SocketUTF8_update - Feed data to incremental validator @state: Validator state (must be initialized) ...">SocketUTF8_update()</a>.</p>
<p>Thread-safe: Yes (state is caller-provided) </p>

</div>
</div>
<a id="a46408361a51a348e46420dfeeb3cca5c" name="a46408361a51a348e46420dfeeb3cca5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46408361a51a348e46420dfeeb3cca5c">&#9670;&#160;</a></span>SocketUTF8_reset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SocketUTF8_reset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="SocketUTF8_8h.html#structSocketUTF8__State">SocketUTF8_State</a> *&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SocketUTF8_reset - Reset validator for reuse @state: Validator state (must not be NULL) </p>
<p>Equivalent to <a class="el" href="SocketUTF8_8h.html#a63e171e87998e78fb1398213e4ebc9a5" title="SocketUTF8_init - Initialize incremental validator @state: State structure to initialize (must not be...">SocketUTF8_init()</a> - resets state for new validation.</p>
<p>Thread-safe: Yes </p>

</div>
</div>
<a id="a305b150f1e0b525b236bf0a8952c5315" name="a305b150f1e0b525b236bf0a8952c5315"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a305b150f1e0b525b236bf0a8952c5315">&#9670;&#160;</a></span>SocketUTF8_result_string()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char * SocketUTF8_result_string </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="SocketUTF8_8h.html#ae8b6c527962e3019992746f49aac247b">SocketUTF8_Result</a>&#160;</td>
          <td class="paramname"><em>result</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SocketUTF8_result_string - Get human-readable result description. </p>
<dl class="section return"><dt>Returns</dt><dd>: Validation result code</dd></dl>
<p>Returns: Static string describing the result (never NULL) Thread-safe: Yes </p>

</div>
</div>
<a id="a1544e5297cf89454b89912f8c8af9046" name="a1544e5297cf89454b89912f8c8af9046"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1544e5297cf89454b89912f8c8af9046">&#9670;&#160;</a></span>SocketUTF8_sequence_len()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int SocketUTF8_sequence_len </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>first_byte</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SocketUTF8_sequence_len - Get length of UTF-8 sequence from first byte @first_byte: First byte of UTF-8 sequence. </p>
<p>Determines sequence length from the leading byte pattern:</p><ul>
<li>0xxxxxxx (0x00-0x7F): 1 byte (ASCII)</li>
<li>110xxxxx (0xC2-0xDF): 2 bytes</li>
<li>1110xxxx (0xE0-0xEF): 3 bytes</li>
<li>11110xxx (0xF0-0xF4): 4 bytes</li>
</ul>
<p>Returns: 1-4 for valid start bytes, 0 for invalid/continuation bytes Thread-safe: Yes </p>

</div>
</div>
<a id="ac7bf6c0717c79f93d931fcd50bf04b60" name="ac7bf6c0717c79f93d931fcd50bf04b60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7bf6c0717c79f93d931fcd50bf04b60">&#9670;&#160;</a></span>SocketUTF8_update()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="SocketUTF8_8h.html#ae8b6c527962e3019992746f49aac247b">SocketUTF8_Result</a> SocketUTF8_update </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="SocketUTF8_8h.html#structSocketUTF8__State">SocketUTF8_State</a> *&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SocketUTF8_update - Feed data to incremental validator @state: Validator state (must be initialized) @data: Input data chunk (may be NULL if len is 0) @len: Length of chunk in bytes. </p>
<p>Validates a chunk of data, updating state for multi-byte sequences that span chunk boundaries.</p>
<p>Returns:</p><ul>
<li>UTF8_VALID: All bytes processed, no errors, complete sequences</li>
<li>UTF8_INCOMPLETE: All bytes processed, ends mid-sequence (valid so far)</li>
<li>UTF8_INVALID/UTF8_OVERLONG/etc.: Error detected</li>
</ul>
<p>Can be called multiple times with chunks of data. State is preserved between calls for multi-byte sequences split across chunks.</p>
<p>Thread-safe: Yes (state is caller-provided) </p>

</div>
</div>
<a id="a68491b1f63c513ccc96a83a14d069e7b" name="a68491b1f63c513ccc96a83a14d069e7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68491b1f63c513ccc96a83a14d069e7b">&#9670;&#160;</a></span>SocketUTF8_validate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="SocketUTF8_8h.html#ae8b6c527962e3019992746f49aac247b">SocketUTF8_Result</a> SocketUTF8_validate </td>
          <td>(</td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SocketUTF8_validate - Validate UTF-8 data (complete check) @data: Input data (may be NULL if len is 0) @len: Length of data in bytes. </p>
<p>Validates that the entire input is well-formed UTF-8.</p>
<p>Rejects:</p><ul>
<li>Invalid continuation bytes</li>
<li>Overlong encodings (e.g., 0xC0 0x80 for NUL)</li>
<li>UTF-16 surrogates (U+D800-U+DFFF)</li>
<li>Code points &gt; U+10FFFF</li>
<li>Truncated sequences at end</li>
</ul>
<p>Returns: UTF8_VALID if entire sequence is valid UTF-8, error code otherwise Thread-safe: Yes (no global state) </p>

</div>
</div>
<a id="a409d0ca4c468b8ca69e7b3b75c58841d" name="a409d0ca4c468b8ca69e7b3b75c58841d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a409d0ca4c468b8ca69e7b3b75c58841d">&#9670;&#160;</a></span>SocketUTF8_validate_str()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="SocketUTF8_8h.html#ae8b6c527962e3019992746f49aac247b">SocketUTF8_Result</a> SocketUTF8_validate_str </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SocketUTF8_validate_str - Validate null-terminated string @str: Null-terminated string (may be NULL) </p>
<p>Convenience wrapper for <a class="el" href="SocketUTF8_8h.html#a68491b1f63c513ccc96a83a14d069e7b" title="SocketUTF8_validate - Validate UTF-8 data (complete check) @data: Input data (may be NULL if len is 0...">SocketUTF8_validate()</a> that handles null-terminated strings.</p>
<p>Returns: UTF8_VALID if valid UTF-8, error code otherwise Thread-safe: Yes </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a96b509b874774db6b22b3f25438a21d2" name="a96b509b874774db6b22b3f25438a21d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96b509b874774db6b22b3f25438a21d2">&#9670;&#160;</a></span>SocketUTF8_Failed</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="Except_8h.html#structExcept__T">Except_T</a> SocketUTF8_Failed</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SocketUTF8_Failed - UTF-8 operation failure. </p>
<p>Raised when:</p><ul>
<li>Invalid UTF-8 sequence detected during strict validation</li>
<li>Invalid code point provided for encoding</li>
<li>NULL pointer passed to required parameter </li>
</ul>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<hr class="footer"/>
<footer class="footer">
  <div style="max-width: 960px; margin: 0 auto; padding: 40px 24px;">
    <div style="display: flex; justify-content: space-between; align-items: flex-start; flex-wrap: wrap; gap: 40px;">
      <!-- Brand -->
      <div style="flex: 1; min-width: 200px;">
        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 12px;">
          <div style="width: 24px; height: 24px; background: linear-gradient(135deg, #3b82f6, #8b5cf6); border-radius: 6px;"></div>
          <span style="font-size: 1rem; font-weight: 600; color: #f7f9fa;">Socket Library</span>
        </div>
        <p style="color: #8b98a5; font-size: 0.8125rem; line-height: 1.6; margin: 0;">
          High-performance socket toolkit for POSIX systems with exception-based error handling and TLS 1.3 support.
        </p>
      </div>
      <!-- Links -->
      <div style="display: flex; gap: 48px; flex-wrap: wrap;">
        <div>
          <h4 style="font-size: 0.75rem; font-weight: 600; color: #f7f9fa; text-transform: uppercase; letter-spacing: 0.05em; margin: 0 0 12px 0;">Documentation</h4>
          <ul style="list-style: none; padding: 0; margin: 0;">
            <li style="margin: 6px 0;"><a href="index.html" style="color: #8b98a5; text-decoration: none; font-size: 0.8125rem;">Getting Started</a></li>
            <li style="margin: 6px 0;"><a href="annotated.html" style="color: #8b98a5; text-decoration: none; font-size: 0.8125rem;">Data Structures</a></li>
            <li style="margin: 6px 0;"><a href="globals.html" style="color: #8b98a5; text-decoration: none; font-size: 0.8125rem;">API Reference</a></li>
          </ul>
        </div>
        <div>
          <h4 style="font-size: 0.75rem; font-weight: 600; color: #f7f9fa; text-transform: uppercase; letter-spacing: 0.05em; margin: 0 0 12px 0;">Resources</h4>
          <ul style="list-style: none; padding: 0; margin: 0;">
            <li style="margin: 6px 0;"><a href="files.html" style="color: #8b98a5; text-decoration: none; font-size: 0.8125rem;">Header Files</a></li>
            <li style="margin: 6px 0;"><a href="https://x.com/tetsuocorp" target="_blank" style="color: #8b98a5; text-decoration: none; font-size: 0.8125rem;">Twitter/X</a></li>
          </ul>
        </div>
      </div>
    </div>
    <!-- Bottom -->
    <div style="margin-top: 32px; padding-top: 24px; border-top: 1px solid #30363d; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 16px;">
      <div style="display: flex; align-items: center; gap: 12px;">
        <span style="font-size: 0.75rem; font-weight: 500; color: #10b981; background: rgba(16, 185, 129, 0.1); padding: 4px 8px; border-radius: 4px;">C11</span>
        <span style="font-size: 0.75rem; font-weight: 500; color: #3b82f6; background: rgba(59, 130, 246, 0.1); padding: 4px 8px; border-radius: 4px;">POSIX</span>
        <span style="font-size: 0.75rem; font-weight: 500; color: #8b5cf6; background: rgba(139, 92, 246, 0.1); padding: 4px 8px; border-radius: 4px;">TLS 1.3</span>
      </div>
      <div style="color: #6e7681; font-size: 0.75rem; display: flex; align-items: center; gap: 8px;">
        <span> 2025 Tetsuo Corporation</span>
        <span style="color: #30363d;"></span>
        <a href="https://opensource.org/licenses/MIT" target="_blank" style="color: #8b98a5; text-decoration: none;">MIT License</a>
      </div>
    </div>
  </div>
</footer>
</body>
</html>
