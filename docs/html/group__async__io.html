<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="High-performance, exception-driven socket toolkit for POSIX systems">
<meta name="keywords" content="socket, networking, C, POSIX, TCP, UDP, TLS, async, high-performance, library">
<meta name="author" content="Tetsuo Corporation">
<meta name="theme-color" content="#3b82f6">
<title>Async I/O Modules</title>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="socket-theme.css" rel="stylesheet" type="text/css"/>
<link href="socket-theme.css" rel="stylesheet" type="text/css"/>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><defs><linearGradient id='g' x1='0%25' y1='0%25' x2='100%25' y2='100%25'><stop offset='0%25' stop-color='%233b82f6'/><stop offset='100%25' stop-color='%238b5cf6'/></linearGradient></defs><rect width='100' height='100' rx='20' fill='url(%23g)'/><text x='50' y='68' font-size='50' text-anchor='middle' fill='white' font-family='sans-serif' font-weight='bold'>S</text></svg>">
</head>
<body>
<div id="top">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Socket Library<span id="projectnumber">1.0.0</span></div>
   <div id="projectbrief">High-performance, exception-driven socket toolkit for POSIX systems</div>
  </td>
  <td style="text-align: right; padding: 20px; vertical-align: middle;">
    <div style="display: flex; gap: 8px; justify-content: flex-end; flex-wrap: wrap; align-items: center;">
      <a href="index.html" class="quick-link">Home</a>
      <a href="annotated.html" class="quick-link">Structures</a>
      <a href="files.html" class="quick-link">Files</a>
      <a href="globals.html" class="quick-link">API</a>
    </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__async__io.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">Async I/O Modules</div></div>
</div><!--header-->
<div class="contents">

<p>Asynchronous I/O and dual-stack connection racing for scalable, performant networking.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="files" name="files"></a>
Files</h2></td></tr>
<tr class="memitem:SocketAsync-private_8h" id="r_SocketAsync-private_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SocketAsync-private_8h.html">SocketAsync-private.h</a></td></tr>
<tr class="memdesc:SocketAsync-private_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Private internal definitions for the SocketAsync module. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:SocketAsync_8h" id="r_SocketAsync_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SocketAsync_8h.html">SocketAsync.h</a></td></tr>
<tr class="memdesc:SocketAsync_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Platform-optimized asynchronous I/O for high-performance networking. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:SocketHappyEyeballs-private_8h" id="r_SocketHappyEyeballs-private_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SocketHappyEyeballs-private_8h.html">SocketHappyEyeballs-private.h</a></td></tr>
<tr class="memdesc:SocketHappyEyeballs-private_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal structures and state for Happy Eyeballs connection racing (RFC 8305). <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:SocketHappyEyeballs_8h" id="r_SocketHappyEyeballs_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SocketHappyEyeballs_8h.html">SocketHappyEyeballs.h</a></td></tr>
<tr class="memdesc:SocketHappyEyeballs_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Happy Eyeballs (RFC 8305) implementation for fast dual-stack connections. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAsyncRequest.html">AsyncRequest</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal structure for tracking asynchronous I/O requests.  <a href="structAsyncRequest.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structSocketAsync__T" id="r_structSocketAsync__T"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__async__io.html#structSocketAsync__T">SocketAsync_T</a></td></tr>
<tr class="memdesc:structSocketAsync__T"><td class="mdescLeft">&#160;</td><td class="mdescRight">Core structure for asynchronous I/O context management.  <a href="group__async__io.html#structSocketAsync__T">More...</a><br /></td></tr>
<tr class="separator:structSocketAsync__T"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structSocketHE__T" id="r_structSocketHE__T"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__async__io.html#structSocketHE__T">SocketHE_T</a></td></tr>
<tr class="memdesc:structSocketHE__T"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main opaque context for Happy Eyeballs (RFC 8305) dual-stack connection racing.  <a href="group__async__io.html#structSocketHE__T">More...</a><br /></td></tr>
<tr class="separator:structSocketHE__T"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structSocketHE__Config__T" id="r_structSocketHE__Config__T"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__async__io.html#structSocketHE__Config__T">SocketHE_Config_T</a></td></tr>
<tr class="memdesc:structSocketHE__Config__T"><td class="mdescLeft">&#160;</td><td class="mdescRight">Happy Eyeballs configuration structure.  <a href="group__async__io.html#structSocketHE__Config__T">More...</a><br /></td></tr>
<tr class="separator:structSocketHE__Config__T"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaa0d6d53cd106cb84028fd2e568b0216b" id="r_gaa0d6d53cd106cb84028fd2e568b0216b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__async__io.html#gaa0d6d53cd106cb84028fd2e568b0216b">SOCKET_DEFAULT_IO_URING_ENTRIES</a>&#160;&#160;&#160;1024</td></tr>
<tr class="memdesc:gaa0d6d53cd106cb84028fd2e568b0216b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default number of io_uring entries.  <br /></td></tr>
<tr class="separator:gaa0d6d53cd106cb84028fd2e568b0216b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5528f1e60147c0bb8dfa520faa03988e" id="r_ga5528f1e60147c0bb8dfa520faa03988e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__async__io.html#ga5528f1e60147c0bb8dfa520faa03988e">SOCKET_MAX_EVENT_BATCH</a>&#160;&#160;&#160;100</td></tr>
<tr class="memdesc:ga5528f1e60147c0bb8dfa520faa03988e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum number of events per batch.  <br /></td></tr>
<tr class="separator:ga5528f1e60147c0bb8dfa520faa03988e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0acb682b8260ab1c60b918599864e2e5" id="r_ga0acb682b8260ab1c60b918599864e2e5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__async__io.html#ga0acb682b8260ab1c60b918599864e2e5">T</a>&#160;&#160;&#160;<a class="el" href="group__async__io.html#structSocketAsync__T">SocketAsync_T</a></td></tr>
<tr class="memdesc:ga0acb682b8260ab1c60b918599864e2e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opaque Happy Eyeballs context handle.  <br /></td></tr>
<tr class="separator:ga0acb682b8260ab1c60b918599864e2e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaf3ab2bde5c1dfd30c9642dd79b8d822" id="r_gaaf3ab2bde5c1dfd30c9642dd79b8d822"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__async__io.html#gaaf3ab2bde5c1dfd30c9642dd79b8d822">SOCKET_HE_MAX_ATTEMPTS</a>&#160;&#160;&#160;8</td></tr>
<tr class="memdesc:gaaf3ab2bde5c1dfd30c9642dd79b8d822"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum number of simultaneous connection attempts allowed.  <br /></td></tr>
<tr class="separator:gaaf3ab2bde5c1dfd30c9642dd79b8d822"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa146f664c1a8f3c05b5aa72766bc9c90" id="r_gaa146f664c1a8f3c05b5aa72766bc9c90"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__async__io.html#gaa146f664c1a8f3c05b5aa72766bc9c90">SOCKET_HE_ERROR_BUFSIZE</a>&#160;&#160;&#160;256</td></tr>
<tr class="memdesc:gaa146f664c1a8f3c05b5aa72766bc9c90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of internal error message buffer in bytes.  <br /></td></tr>
<tr class="separator:gaa146f664c1a8f3c05b5aa72766bc9c90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0acb682b8260ab1c60b918599864e2e5" id="r_ga0acb682b8260ab1c60b918599864e2e5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__async__io.html#ga0acb682b8260ab1c60b918599864e2e5">T</a>&#160;&#160;&#160;<a class="el" href="group__async__io.html#structSocketHE__T">SocketHE_T</a></td></tr>
<tr class="memdesc:ga0acb682b8260ab1c60b918599864e2e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opaque Happy Eyeballs context handle.  <br /></td></tr>
<tr class="separator:ga0acb682b8260ab1c60b918599864e2e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gad6644a0c3153b65fa217ecbc45b5b8f9" id="r_gad6644a0c3153b65fa217ecbc45b5b8f9"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__async__io.html#gad6644a0c3153b65fa217ecbc45b5b8f9">SocketAsync_Callback</a>) (Socket_T socket, ssize_t bytes, int err, void *user_data)</td></tr>
<tr class="memdesc:gad6644a0c3153b65fa217ecbc45b5b8f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Completion callback invoked when an async I/O operation finishes.  <br /></td></tr>
<tr class="separator:gad6644a0c3153b65fa217ecbc45b5b8f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gae66259c675b6f9658c95d34e1fbfefdf" id="r_gae66259c675b6f9658c95d34e1fbfefdf"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__async__io.html#gae66259c675b6f9658c95d34e1fbfefdf">SocketAsync_Flags</a> { <br />
&#160;&#160;<a class="el" href="group__async__io.html#ggae66259c675b6f9658c95d34e1fbfefdfa3b607e56f470ff08783c2f3385c1041c">ASYNC_FLAG_NONE</a> = 0
, <br />
&#160;&#160;<a class="el" href="group__async__io.html#ggae66259c675b6f9658c95d34e1fbfefdfa5b1a5dc7d9ed8ace5643e4cef11cb50d">ASYNC_FLAG_ZERO_COPY</a> = 1 &lt;&lt; 0
, <br />
&#160;&#160;<a class="el" href="group__async__io.html#ggae66259c675b6f9658c95d34e1fbfefdfaf08a13c5b932be67e3f0ed7de0499ef8">ASYNC_FLAG_URGENT</a> = 1 &lt;&lt; 1
<br />
 }</td></tr>
<tr class="memdesc:gae66259c675b6f9658c95d34e1fbfefdf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bit flags to control behavior of asynchronous I/O operations.  <a href="group__async__io.html#gae66259c675b6f9658c95d34e1fbfefdf">More...</a><br /></td></tr>
<tr class="separator:gae66259c675b6f9658c95d34e1fbfefdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9ceb0606fea5b72366bbd21ff047c84f" id="r_ga9ceb0606fea5b72366bbd21ff047c84f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__async__io.html#ga9ceb0606fea5b72366bbd21ff047c84f">SocketHE_AttemptState</a> { <br />
&#160;&#160;<a class="el" href="group__async__io.html#gga9ceb0606fea5b72366bbd21ff047c84fae389b7235795d6a11ee400bbd9eb6ce7">HE_ATTEMPT_IDLE</a> = 0
, <br />
&#160;&#160;<a class="el" href="group__async__io.html#gga9ceb0606fea5b72366bbd21ff047c84fac1a55c64fa6e20e19d9f9b9f4b776592">HE_ATTEMPT_CONNECTING</a>
, <br />
&#160;&#160;<a class="el" href="group__async__io.html#gga9ceb0606fea5b72366bbd21ff047c84faf6667ecfa556f9d6ff3fcf80aa8bdd72">HE_ATTEMPT_CONNECTED</a>
, <br />
&#160;&#160;<a class="el" href="group__async__io.html#gga9ceb0606fea5b72366bbd21ff047c84faefa9d91f6d5fa3393216eaefc01af056">HE_ATTEMPT_FAILED</a>
<br />
 }</td></tr>
<tr class="memdesc:ga9ceb0606fea5b72366bbd21ff047c84f"><td class="mdescLeft">&#160;</td><td class="mdescRight">State enumeration for individual Happy Eyeballs connection attempts.  <a href="group__async__io.html#ga9ceb0606fea5b72366bbd21ff047c84f">More...</a><br /></td></tr>
<tr class="separator:ga9ceb0606fea5b72366bbd21ff047c84f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac1b193256ec44f27e6f0f307b0c2e524" id="r_gac1b193256ec44f27e6f0f307b0c2e524"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__async__io.html#gac1b193256ec44f27e6f0f307b0c2e524">SocketHE_State</a> { <br />
&#160;&#160;<a class="el" href="group__async__io.html#ggac1b193256ec44f27e6f0f307b0c2e524a12a52375165d28d6f3de5737a90c9f97">HE_STATE_IDLE</a> = 0
, <br />
&#160;&#160;<a class="el" href="group__async__io.html#ggac1b193256ec44f27e6f0f307b0c2e524ab70cde7846b5284942af2d54f407df8e">HE_STATE_RESOLVING</a>
, <br />
&#160;&#160;<a class="el" href="group__async__io.html#ggac1b193256ec44f27e6f0f307b0c2e524a710fbd21ce364cf129054158e14106f2">HE_STATE_CONNECTING</a>
, <br />
&#160;&#160;<a class="el" href="group__async__io.html#ggac1b193256ec44f27e6f0f307b0c2e524afc61138380fa654235b963249af25d21">HE_STATE_CONNECTED</a>
, <br />
&#160;&#160;<a class="el" href="group__async__io.html#ggac1b193256ec44f27e6f0f307b0c2e524a4c6d8bc45fa1b7e19329162553fa9519">HE_STATE_FAILED</a>
, <br />
&#160;&#160;<a class="el" href="group__async__io.html#ggac1b193256ec44f27e6f0f307b0c2e524a888ca7f61cc029908d4ef63b7ca96bd8">HE_STATE_CANCELLED</a>
<br />
 }</td></tr>
<tr class="memdesc:gac1b193256ec44f27e6f0f307b0c2e524"><td class="mdescLeft">&#160;</td><td class="mdescRight">State enumeration for Happy Eyeballs connection progress.  <a href="group__async__io.html#gac1b193256ec44f27e6f0f307b0c2e524">More...</a><br /></td></tr>
<tr class="separator:gac1b193256ec44f27e6f0f307b0c2e524"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga1c4916e173cffa9153c983a4fd0d0d56" id="r_ga1c4916e173cffa9153c983a4fd0d0d56"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__async__io.html#structSocketAsync__T">SocketAsync_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__async__io.html#ga1c4916e173cffa9153c983a4fd0d0d56">SocketAsync_new</a> (<a class="el" href="group__foundation.html#gac1ed22b9df4eff7a3398cac608c090cc">Arena_T</a> arena)</td></tr>
<tr class="memdesc:ga1c4916e173cffa9153c983a4fd0d0d56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new standalone asynchronous I/O context.  <br /></td></tr>
<tr class="separator:ga1c4916e173cffa9153c983a4fd0d0d56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0d3a7b456b962c6abf4dfd91859492e0" id="r_ga0d3a7b456b962c6abf4dfd91859492e0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__async__io.html#ga0d3a7b456b962c6abf4dfd91859492e0">SocketAsync_free</a> (<a class="el" href="group__async__io.html#structSocketAsync__T">SocketAsync_T</a> *async)</td></tr>
<tr class="memdesc:ga0d3a7b456b962c6abf4dfd91859492e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy an asynchronous I/O context and release associated resources.  <br /></td></tr>
<tr class="separator:ga0d3a7b456b962c6abf4dfd91859492e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae0ecf4f023555d16b855d39841521f2b" id="r_gae0ecf4f023555d16b855d39841521f2b"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__async__io.html#gae0ecf4f023555d16b855d39841521f2b">SocketAsync_send</a> (<a class="el" href="group__async__io.html#structSocketAsync__T">SocketAsync_T</a> async, Socket_T socket, const void *buf, size_t len, <a class="el" href="group__async__io.html#gad6644a0c3153b65fa217ecbc45b5b8f9">SocketAsync_Callback</a> cb, void *user_data, <a class="el" href="group__async__io.html#gae66259c675b6f9658c95d34e1fbfefdf">SocketAsync_Flags</a> flags)</td></tr>
<tr class="memdesc:gae0ecf4f023555d16b855d39841521f2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Submit an asynchronous send operation on a socket.  <br /></td></tr>
<tr class="separator:gae0ecf4f023555d16b855d39841521f2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga46adb5a1db31901afa5d1d6514e41b64" id="r_ga46adb5a1db31901afa5d1d6514e41b64"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__async__io.html#ga46adb5a1db31901afa5d1d6514e41b64">SocketAsync_recv</a> (<a class="el" href="group__async__io.html#structSocketAsync__T">SocketAsync_T</a> async, Socket_T socket, void *buf, size_t len, <a class="el" href="group__async__io.html#gad6644a0c3153b65fa217ecbc45b5b8f9">SocketAsync_Callback</a> cb, void *user_data, <a class="el" href="group__async__io.html#gae66259c675b6f9658c95d34e1fbfefdf">SocketAsync_Flags</a> flags)</td></tr>
<tr class="memdesc:ga46adb5a1db31901afa5d1d6514e41b64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Submit an asynchronous receive operation on a socket.  <br /></td></tr>
<tr class="separator:ga46adb5a1db31901afa5d1d6514e41b64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga275aefb76cdeb48b9b9330a777a2bb8c" id="r_ga275aefb76cdeb48b9b9330a777a2bb8c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__async__io.html#ga275aefb76cdeb48b9b9330a777a2bb8c">SocketAsync_cancel</a> (<a class="el" href="group__async__io.html#structSocketAsync__T">SocketAsync_T</a> async, unsigned request_id)</td></tr>
<tr class="memdesc:ga275aefb76cdeb48b9b9330a777a2bb8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel a pending asynchronous I/O operation by request ID.  <br /></td></tr>
<tr class="separator:ga275aefb76cdeb48b9b9330a777a2bb8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1cc05d5d1dd032943b57a03da3061da7" id="r_ga1cc05d5d1dd032943b57a03da3061da7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__async__io.html#ga1cc05d5d1dd032943b57a03da3061da7">SocketAsync_process_completions</a> (<a class="el" href="group__async__io.html#structSocketAsync__T">SocketAsync_T</a> async, int timeout_ms)</td></tr>
<tr class="memdesc:ga1cc05d5d1dd032943b57a03da3061da7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Poll and process completed asynchronous I/O operations.  <br /></td></tr>
<tr class="separator:ga1cc05d5d1dd032943b57a03da3061da7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0f304bcb93351c8555f9afa74fa9e665" id="r_ga0f304bcb93351c8555f9afa74fa9e665"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__async__io.html#ga0f304bcb93351c8555f9afa74fa9e665">SocketAsync_is_available</a> (const <a class="el" href="group__async__io.html#structSocketAsync__T">SocketAsync_T</a> async)</td></tr>
<tr class="memdesc:ga0f304bcb93351c8555f9afa74fa9e665"><td class="mdescLeft">&#160;</td><td class="mdescRight">Query if native asynchronous I/O backend is operational.  <br /></td></tr>
<tr class="separator:ga0f304bcb93351c8555f9afa74fa9e665"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafae22c23e82d55f6fa3eaf74c0c37f5d" id="r_gafae22c23e82d55f6fa3eaf74c0c37f5d"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__async__io.html#gafae22c23e82d55f6fa3eaf74c0c37f5d">SocketAsync_backend_name</a> (const <a class="el" href="group__async__io.html#structSocketAsync__T">SocketAsync_T</a> async)</td></tr>
<tr class="memdesc:gafae22c23e82d55f6fa3eaf74c0c37f5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the name of the active asynchronous backend.  <br /></td></tr>
<tr class="separator:gafae22c23e82d55f6fa3eaf74c0c37f5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5ef2e9ba01aa72f8a3ae864a1ba58bc3" id="r_ga5ef2e9ba01aa72f8a3ae864a1ba58bc3"><td class="memItemLeft" align="right" valign="top">Socket_T&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__async__io.html#ga5ef2e9ba01aa72f8a3ae864a1ba58bc3">SocketHappyEyeballs_connect</a> (const char *host, int port, const <a class="el" href="group__async__io.html#structSocketHE__Config__T">SocketHE_Config_T</a> *config)</td></tr>
<tr class="memdesc:ga5ef2e9ba01aa72f8a3ae864a1ba58bc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform synchronous Happy Eyeballs connection to host (RFC 8305 compliant).  <br /></td></tr>
<tr class="separator:ga5ef2e9ba01aa72f8a3ae864a1ba58bc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaac613520b1e674db06e60155150fef63" id="r_gaac613520b1e674db06e60155150fef63"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__async__io.html#structSocketHE__T">SocketHE_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__async__io.html#gaac613520b1e674db06e60155150fef63">SocketHappyEyeballs_start</a> (<a class="el" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a> dns, SocketPoll_T poll, const char *host, int port, const <a class="el" href="group__async__io.html#structSocketHE__Config__T">SocketHE_Config_T</a> *config)</td></tr>
<tr class="memdesc:gaac613520b1e674db06e60155150fef63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start asynchronous Happy Eyeballs connection.  <br /></td></tr>
<tr class="separator:gaac613520b1e674db06e60155150fef63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0a9452621088791eecef4112e36e4176" id="r_ga0a9452621088791eecef4112e36e4176"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__async__io.html#ga0a9452621088791eecef4112e36e4176">SocketHappyEyeballs_poll</a> (<a class="el" href="group__async__io.html#structSocketHE__T">SocketHE_T</a> he)</td></tr>
<tr class="memdesc:ga0a9452621088791eecef4112e36e4176"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if Happy Eyeballs operation is complete.  <br /></td></tr>
<tr class="separator:ga0a9452621088791eecef4112e36e4176"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga84e7ceec1f0f61c40664e76db29336de" id="r_ga84e7ceec1f0f61c40664e76db29336de"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__async__io.html#ga84e7ceec1f0f61c40664e76db29336de">SocketHappyEyeballs_process</a> (<a class="el" href="group__async__io.html#structSocketHE__T">SocketHE_T</a> he)</td></tr>
<tr class="memdesc:ga84e7ceec1f0f61c40664e76db29336de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process events and advance the Happy Eyeballs state machine.  <br /></td></tr>
<tr class="separator:ga84e7ceec1f0f61c40664e76db29336de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeedc2998806b4e465a999688333bae1d" id="r_gaeedc2998806b4e465a999688333bae1d"><td class="memItemLeft" align="right" valign="top">Socket_T&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__async__io.html#gaeedc2998806b4e465a999688333bae1d">SocketHappyEyeballs_result</a> (<a class="el" href="group__async__io.html#structSocketHE__T">SocketHE_T</a> he)</td></tr>
<tr class="memdesc:gaeedc2998806b4e465a999688333bae1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the connected socket from a completed Happy Eyeballs operation.  <br /></td></tr>
<tr class="separator:gaeedc2998806b4e465a999688333bae1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae3383dd7df82083ec8d7f72fbae76cb5" id="r_gae3383dd7df82083ec8d7f72fbae76cb5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__async__io.html#gae3383dd7df82083ec8d7f72fbae76cb5">SocketHappyEyeballs_cancel</a> (<a class="el" href="group__async__io.html#structSocketHE__T">SocketHE_T</a> he)</td></tr>
<tr class="memdesc:gae3383dd7df82083ec8d7f72fbae76cb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel an in-progress Happy Eyeballs operation.  <br /></td></tr>
<tr class="separator:gae3383dd7df82083ec8d7f72fbae76cb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5426942471b0a00d69094f1c8787523f" id="r_ga5426942471b0a00d69094f1c8787523f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__async__io.html#ga5426942471b0a00d69094f1c8787523f">SocketHappyEyeballs_free</a> (<a class="el" href="group__async__io.html#structSocketHE__T">SocketHE_T</a> *he)</td></tr>
<tr class="memdesc:ga5426942471b0a00d69094f1c8787523f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free the Happy Eyeballs context and release resources.  <br /></td></tr>
<tr class="separator:ga5426942471b0a00d69094f1c8787523f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3307a26e1e23ff4be5d2e33895e6ae79" id="r_ga3307a26e1e23ff4be5d2e33895e6ae79"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__async__io.html#gac1b193256ec44f27e6f0f307b0c2e524">SocketHE_State</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__async__io.html#ga3307a26e1e23ff4be5d2e33895e6ae79">SocketHappyEyeballs_state</a> (<a class="el" href="group__async__io.html#structSocketHE__T">SocketHE_T</a> he)</td></tr>
<tr class="memdesc:ga3307a26e1e23ff4be5d2e33895e6ae79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current state of the Happy Eyeballs operation.  <br /></td></tr>
<tr class="separator:ga3307a26e1e23ff4be5d2e33895e6ae79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafd216882131853124a2894e7aed8b039" id="r_gafd216882131853124a2894e7aed8b039"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__async__io.html#gafd216882131853124a2894e7aed8b039">SocketHappyEyeballs_error</a> (<a class="el" href="group__async__io.html#structSocketHE__T">SocketHE_T</a> he)</td></tr>
<tr class="memdesc:gafd216882131853124a2894e7aed8b039"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the error message for a failed Happy Eyeballs operation.  <br /></td></tr>
<tr class="separator:gafd216882131853124a2894e7aed8b039"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3a5b3e45e53cfda16c76fec1cd4fd637" id="r_ga3a5b3e45e53cfda16c76fec1cd4fd637"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__async__io.html#ga3a5b3e45e53cfda16c76fec1cd4fd637">SocketHappyEyeballs_config_defaults</a> (<a class="el" href="group__async__io.html#structSocketHE__Config__T">SocketHE_Config_T</a> *config)</td></tr>
<tr class="memdesc:ga3a5b3e45e53cfda16c76fec1cd4fd637"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize Happy Eyeballs configuration with default values.  <br /></td></tr>
<tr class="separator:ga3a5b3e45e53cfda16c76fec1cd4fd637"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga120f34eb8ef4b3f902a029b800577663" id="r_ga120f34eb8ef4b3f902a029b800577663"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__async__io.html#ga120f34eb8ef4b3f902a029b800577663">SocketHappyEyeballs_next_timeout_ms</a> (<a class="el" href="group__async__io.html#structSocketHE__T">SocketHE_T</a> he)</td></tr>
<tr class="memdesc:ga120f34eb8ef4b3f902a029b800577663"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get milliseconds until the next Happy Eyeballs timer expiry.  <br /></td></tr>
<tr class="separator:ga120f34eb8ef4b3f902a029b800577663"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga55b9b96eff9c17f45ff5bfb37f431075" id="r_ga55b9b96eff9c17f45ff5bfb37f431075"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="group__foundation.html#structExcept__T">Except_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__async__io.html#ga55b9b96eff9c17f45ff5bfb37f431075">SocketAsync_Failed</a></td></tr>
<tr class="memdesc:ga55b9b96eff9c17f45ff5bfb37f431075"><td class="mdescLeft">&#160;</td><td class="mdescRight">Module-specific exception for fatal async I/O errors.  <br /></td></tr>
<tr class="separator:ga55b9b96eff9c17f45ff5bfb37f431075"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabf6dc3901a5139f2f7f093db3003b798" id="r_gabf6dc3901a5139f2f7f093db3003b798"><td class="memItemLeft" align="right" valign="top">struct addrinfo *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__async__io.html#gabf6dc3901a5139f2f7f093db3003b798">addr</a></td></tr>
<tr class="memdesc:gabf6dc3901a5139f2f7f093db3003b798"><td class="mdescLeft">&#160;</td><td class="mdescRight">Single connection attempt structure in Happy Eyeballs racing.  <br /></td></tr>
<tr class="separator:gabf6dc3901a5139f2f7f093db3003b798"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4417150d9f858949bd9ea8794995ebcc" id="r_ga4417150d9f858949bd9ea8794995ebcc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__async__io.html#ga4417150d9f858949bd9ea8794995ebcc">family</a></td></tr>
<tr class="memdesc:ga4417150d9f858949bd9ea8794995ebcc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wrapper structure for resolved addresses in Happy Eyeballs address preference ordering.  <br /></td></tr>
<tr class="separator:ga4417150d9f858949bd9ea8794995ebcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2189771ae05195653ab16170d72a251d" id="r_ga2189771ae05195653ab16170d72a251d"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="group__foundation.html#structExcept__T">Except_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__async__io.html#ga2189771ae05195653ab16170d72a251d">SocketHE_Failed</a></td></tr>
<tr class="memdesc:ga2189771ae05195653ab16170d72a251d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Exception raised on Happy Eyeballs failures.  <br /></td></tr>
<tr class="separator:ga2189771ae05195653ab16170d72a251d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga015f1e24903699e20cea8af2bd44b781" id="r_ga015f1e24903699e20cea8af2bd44b781"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__async__io.html#ga015f1e24903699e20cea8af2bd44b781">SOCKET_HE_DEFAULT_FIRST_ATTEMPT_DELAY_MS</a>&#160;&#160;&#160;250</td></tr>
<tr class="memdesc:ga015f1e24903699e20cea8af2bd44b781"><td class="mdescLeft">&#160;</td><td class="mdescRight">RFC 8305 recommended delay before starting fallback address family (250 ms).  <br /></td></tr>
<tr class="separator:ga015f1e24903699e20cea8af2bd44b781"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga66b65910ea1f4b358406d1fb9add485e" id="r_ga66b65910ea1f4b358406d1fb9add485e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__async__io.html#ga66b65910ea1f4b358406d1fb9add485e">SOCKET_HE_DEFAULT_ATTEMPT_TIMEOUT_MS</a>&#160;&#160;&#160;5000</td></tr>
<tr class="memdesc:ga66b65910ea1f4b358406d1fb9add485e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default per-attempt connection timeout (5000 ms).  <br /></td></tr>
<tr class="separator:ga66b65910ea1f4b358406d1fb9add485e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1400e0f9bd9e1de9d861c5ebfab5a877" id="r_ga1400e0f9bd9e1de9d861c5ebfab5a877"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__async__io.html#ga1400e0f9bd9e1de9d861c5ebfab5a877">SOCKET_HE_DEFAULT_TOTAL_TIMEOUT_MS</a>&#160;&#160;&#160;30000</td></tr>
<tr class="memdesc:ga1400e0f9bd9e1de9d861c5ebfab5a877"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default total operation timeout including DNS and connections (30000 ms).  <br /></td></tr>
<tr class="separator:ga1400e0f9bd9e1de9d861c5ebfab5a877"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0eca938e489f47d663007b6c0a7ab18f" id="r_ga0eca938e489f47d663007b6c0a7ab18f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__async__io.html#ga0eca938e489f47d663007b6c0a7ab18f">SOCKET_HE_DEFAULT_DNS_TIMEOUT_MS</a>&#160;&#160;&#160;5000</td></tr>
<tr class="memdesc:ga0eca938e489f47d663007b6c0a7ab18f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default DNS resolution timeout (5000 ms, 0=use total timeout).  <br /></td></tr>
<tr class="separator:ga0eca938e489f47d663007b6c0a7ab18f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac03b01e1dccf0fd3b0c78d26e4343646" id="r_gac03b01e1dccf0fd3b0c78d26e4343646"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__async__io.html#gac03b01e1dccf0fd3b0c78d26e4343646">SOCKET_HE_DEFAULT_MAX_ATTEMPTS</a>&#160;&#160;&#160;2</td></tr>
<tr class="memdesc:gac03b01e1dccf0fd3b0c78d26e4343646"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default maximum simultaneous connection attempts (2 per RFC 8305).  <br /></td></tr>
<tr class="separator:gac03b01e1dccf0fd3b0c78d26e4343646"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga869ed228765bfcb7b4aab39b7cfc8c9d" id="r_ga869ed228765bfcb7b4aab39b7cfc8c9d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__async__io.html#ga869ed228765bfcb7b4aab39b7cfc8c9d">SOCKET_HE_SYNC_POLL_INTERVAL_MS</a>&#160;&#160;&#160;50</td></tr>
<tr class="memdesc:ga869ed228765bfcb7b4aab39b7cfc8c9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Poll interval for synchronous connection loop (50 ms).  <br /></td></tr>
<tr class="separator:ga869ed228765bfcb7b4aab39b7cfc8c9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga07e470dce144233028bfd6d2193e8c03" id="r_ga07e470dce144233028bfd6d2193e8c03"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__async__io.html#ga07e470dce144233028bfd6d2193e8c03">SOCKET_HE_PORT_STR_SIZE</a>&#160;&#160;&#160;8</td></tr>
<tr class="memdesc:ga07e470dce144233028bfd6d2193e8c03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer size for port string conversion (8 bytes for "65535\0").  <br /></td></tr>
<tr class="separator:ga07e470dce144233028bfd6d2193e8c03"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Asynchronous I/O and dual-stack connection racing for scalable, performant networking. </p>
<p>Enables high-concurrency servers and clients with non-blocking I/O and fast connection establishment. Core focus on platform-optimized async primitives and RFC-compliant dual-stack resolution (Happy Eyeballs).</p>
<h2><a class="anchor" id="autotoc_md505"></a>
Key Components</h2>
<ul>
<li><b>SocketAsync</b>: Async send/recv with callbacks, zero-copy, backend-agnostic</li>
<li><b>SocketHappyEyeballs</b>: Parallel IPv6/IPv4 connection attempts per RFC 8305</li>
</ul>
<h2><a class="anchor" id="autotoc_md506"></a>
Architecture Overview</h2>
<div class="fragment"><div class="line">┌─────────────────────────────────────┐</div>
<div class="line">│         Application Layer           │</div>
<div class="line">│ HTTP/2 Streams, WS, Custom Protocols│</div>
<div class="line">└─────────────────────┬───────────────┘</div>
<div class="line">                      │ Uses</div>
<div class="line">┌─────────────────────▼───────────────┐</div>
<div class="line">│        Async I/O Layer              │</div>
<div class="line">│ <a class="code hl_struct" href="group__async__io.html#structSocketAsync__T">SocketAsync_T</a> + HappyEyeballs_T     │</div>
<div class="line">│ Callbacks, Flags, Backends          │</div>
<div class="line">└─────────────────────┬───────────────┘</div>
<div class="line">                      │ Integrates</div>
<div class="line">┌─────────────────────▼───────────────┐</div>
<div class="line">│      Event System Layer             │</div>
<div class="line">│      SocketPoll + Timers            │</div>
<div class="line">└─────────────────────┬───────────────┘</div>
<div class="line">                      │ Depends on</div>
<div class="line">┌─────────────────────▼───────────────┐</div>
<div class="line">│        Core I/O Layer               │</div>
<div class="line">│     Socket_T, DNS, Buffers          │</div>
<div class="line">└─────────────────────────────────────┘</div>
<div class="ttc" id="agroup__async__io_html_structSocketAsync__T"><div class="ttname"><a href="group__async__io.html#structSocketAsync__T">SocketAsync_T</a></div><div class="ttdoc">Core structure for asynchronous I/O context management.</div><div class="ttdef"><b>Definition</b> <a href="SocketAsync-private_8h_source.html#l00343">SocketAsync-private.h:344</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md507"></a>
Module Relationships</h2>
<ul>
<li><b>Depends on</b>: <a class="el" href="group__core__io.html">Core I/O Modules</a> (sockets), <a class="el" href="group__event__system.html">Event System Modules</a> (polling/timers), <a class="el" href="group__foundation.html">Core Foundation Modules</a> (arena/except)</li>
<li><b>Used by</b>: <a class="el" href="group__connection__mgmt.html">Connection Management Modules</a> (async pools), <a class="el" href="group__http.html">HTTP Modules</a> (HTTP/2 streams), <a class="el" href="group__utilities.html">Utilities</a> (rate-limit compat)</li>
<li><b>Threading</b>: Safe for multi-thread submit/process, callbacks single-threaded per context</li>
</ul>
<p>Ideal for 10K+ connections, reducing latency by 50-90% vs synchronous I/O.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__async__io.html#structSocketAsync__T" title="Core structure for asynchronous I/O context management.">SocketAsync_T</a> - Main async context. </dd>
<dd>
SocketHappyEyeballs_T - Dual-stack connector. </dd>
<dd>
<a class="el" href="group__core__io.html">Core I/O Modules</a> - Socket primitives. </dd>
<dd>
<a class="el" href="group__event__system.html">Event System</a> - Integration point. </dd>
<dd>
<a class="el" href="ASYNC__IO_8md.html">docs/ASYNC_IO.md</a> - Usage, backends, benchmarks. </dd>
<dd>
docs/cross-platform-backends.md - Backend details. </dd></dl>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="structSocketAsync__T" id="structSocketAsync__T"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structSocketAsync__T">&#9670;&#160;</a></span>SocketAsync_T</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct SocketAsync_T</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Core structure for asynchronous I/O context management. </p>
<p>Opaque handle for asynchronous I/O context and operations.</p>
<p>Central opaque type managing all async operations: backend initialization, request submission/tracking, completion processing, and thread safety.</p>
<p>Key responsibilities:</p><ul>
<li>Platform backend lifecycle (io_uring ring setup, kqueue fd monitoring)</li>
<li>Request hash table for O(1) lookups and cancellations</li>
<li>Mutex-protected concurrent access from multiple threads</li>
<li>Availability detection and fallback to simulated async</li>
<li>Completion queue draining and callback dispatching</li>
</ul>
<dl class="section user"><dt>Thread Safety\n Yes - all public methods (send/recv/cancel/process) acquire mutex.</dt><dd>Internal state modifications serialized. Callbacks invoked under lock but expected to be fast (no long operations). Backend-specific thread safety varies (io_uring is lock-free post-setup).</dd></dl>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>Created via <a class="el" href="group__async__io.html#ga1c4916e173cffa9153c983a4fd0d0d56" title="Create a new standalone asynchronous I/O context.">SocketAsync_new()</a> or <a class="el" href="group__event__system.html#ga665b3363d16ab859ec60e69a792d1ff0" title="Get async I/O context associated with poll instance.">SocketPoll_get_async()</a> (preferred for integration)</li>
<li>Freed via <a class="el" href="group__async__io.html#ga0d3a7b456b962c6abf4dfd91859492e0" title="Destroy an asynchronous I/O context and release associated resources.">SocketAsync_free()</a> - cancels pending ops, drains queue</li>
<li>In fallback mode (available==0), simulates async via edge-triggered poll events</li>
<li>Arena used for all internal allocs; dispose parent arena after free()</li>
</ul>
</dd></dl>
<h3><a class="anchor" id="autotoc_md496"></a>
Request Management</h3>
<ul>
<li>requests[]: Fixed-size hash table (SOCKET_HASH_TABLE_SIZE buckets)</li>
<li>next_request_id: Atomic counter for uniqueness (skips 0)</li>
<li>mutex: pthread_mutex_t protecting table and ID gen</li>
</ul>
<h3><a class="anchor" id="autotoc_md497"></a>
Backend Integration</h3>
<ul>
<li>Conditional fields based on platform:<ul>
<li>io_uring: ring for SQ/CQ, eventfd for notifications</li>
<li>kqueue: fd for AIO kevents</li>
<li>Fallback: flag for poll-based simulation</li>
</ul>
</li>
<li>available: 1 if native async supported/initialized, 0 for fallback</li>
<li>backend_name: Static string ID ("io_uring", "kqueue AIO", "edge-triggered")</li>
</ul>
<h2><a class="anchor" id="autotoc_md498"></a>
Integration Patterns</h2>
<h3><a class="anchor" id="autotoc_md499"></a>
With SocketPoll (Recommended)</h3>
<div class="fragment"><div class="line">SocketPoll_T poll = <a class="code hl_function" href="group__event__system.html#gac1fbd1a09d564f7988b0e427e5707ca7">SocketPoll_new</a>(max_events);</div>
<div class="line"><a class="code hl_struct" href="group__async__io.html#structSocketAsync__T">SocketAsync_T</a> async = <a class="code hl_function" href="group__event__system.html#ga665b3363d16ab859ec60e69a792d1ff0">SocketPoll_get_async</a>(poll); <span class="comment">// Shared context</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Submit requests...</span></div>
<div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">id</span> = <a class="code hl_function" href="group__async__io.html#gae0ecf4f023555d16b855d39841521f2b">SocketAsync_send</a>(async, sock, buf, len, cb, data, flags);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Poll processes completions automatically</span></div>
<div class="line"><a class="code hl_function" href="group__event__system.html#gaa3d47365dd18329d50ee636284839738">SocketPoll_wait</a>(poll, &amp;events, timeout);</div>
<div class="ttc" id="agroup__async__io_html_gae0ecf4f023555d16b855d39841521f2b"><div class="ttname"><a href="group__async__io.html#gae0ecf4f023555d16b855d39841521f2b">SocketAsync_send</a></div><div class="ttdeci">unsigned SocketAsync_send(SocketAsync_T async, Socket_T socket, const void *buf, size_t len, SocketAsync_Callback cb, void *user_data, SocketAsync_Flags flags)</div><div class="ttdoc">Submit an asynchronous send operation on a socket.</div></div>
<div class="ttc" id="agroup__event__system_html_ga665b3363d16ab859ec60e69a792d1ff0"><div class="ttname"><a href="group__event__system.html#ga665b3363d16ab859ec60e69a792d1ff0">SocketPoll_get_async</a></div><div class="ttdeci">SocketAsync_T SocketPoll_get_async(SocketPoll_T poll)</div><div class="ttdoc">Get async I/O context associated with poll instance.</div></div>
<div class="ttc" id="agroup__event__system_html_gaa3d47365dd18329d50ee636284839738"><div class="ttname"><a href="group__event__system.html#gaa3d47365dd18329d50ee636284839738">SocketPoll_wait</a></div><div class="ttdeci">int SocketPoll_wait(SocketPoll_T poll, SocketEvent_T **events, int timeout)</div><div class="ttdoc">Block and wait for I/O events or timeout on registered sockets.</div></div>
<div class="ttc" id="agroup__event__system_html_gac1fbd1a09d564f7988b0e427e5707ca7"><div class="ttname"><a href="group__event__system.html#gac1fbd1a09d564f7988b0e427e5707ca7">SocketPoll_new</a></div><div class="ttdeci">SocketPoll_T SocketPoll_new(int maxevents)</div><div class="ttdoc">Create a new event poll instance.</div></div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md500"></a>
Standalone Usage</h3>
<div class="fragment"><div class="line"><a class="code hl_typedef" href="group__foundation.html#gac1ed22b9df4eff7a3398cac608c090cc">Arena_T</a> <a class="code hl_variable" href="group__async__io.html#a6650d0b3116c588b4413290a8c033fd2">arena</a> = <a class="code hl_function" href="group__foundation.html#ga6a6d6890eb6ed1248ae1a5f0c677c7a4">Arena_new</a>();</div>
<div class="line"><a class="code hl_struct" href="group__async__io.html#structSocketAsync__T">SocketAsync_T</a> async = <a class="code hl_function" href="group__async__io.html#ga1c4916e173cffa9153c983a4fd0d0d56">SocketAsync_new</a>(<a class="code hl_variable" href="group__async__io.html#a6650d0b3116c588b4413290a8c033fd2">arena</a>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Manual completion processing</span></div>
<div class="line"><span class="keywordflow">while</span> (<a class="code hl_variable" href="http__server_8c.html#af1f449cc09f8d36befcce07bc38c29c0">running</a>) {</div>
<div class="line">  <span class="keywordtype">int</span> completed = <a class="code hl_function" href="group__async__io.html#ga1cc05d5d1dd032943b57a03da3061da7">SocketAsync_process_completions</a>(async, 10); <span class="comment">// 10ms timeout</span></div>
<div class="line">  <span class="comment">// Handle other logic</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code hl_function" href="group__async__io.html#ga0d3a7b456b962c6abf4dfd91859492e0">SocketAsync_free</a>(&amp;async);</div>
<div class="line"><a class="code hl_function" href="group__foundation.html#ga6842e66018614df08139e67826cf3e0d">Arena_dispose</a>(&amp;<a class="code hl_variable" href="group__async__io.html#a6650d0b3116c588b4413290a8c033fd2">arena</a>);</div>
<div class="ttc" id="agroup__async__io_html_a6650d0b3116c588b4413290a8c033fd2"><div class="ttname"><a href="group__async__io.html#a6650d0b3116c588b4413290a8c033fd2">SocketAsync_T::arena</a></div><div class="ttdeci">Arena_T arena</div><div class="ttdoc">Memory arena for internal allocations.</div><div class="ttdef"><b>Definition</b> <a href="SocketAsync-private_8h_source.html#l00352">SocketAsync-private.h:352</a></div></div>
<div class="ttc" id="agroup__async__io_html_ga0d3a7b456b962c6abf4dfd91859492e0"><div class="ttname"><a href="group__async__io.html#ga0d3a7b456b962c6abf4dfd91859492e0">SocketAsync_free</a></div><div class="ttdeci">void SocketAsync_free(SocketAsync_T *async)</div><div class="ttdoc">Destroy an asynchronous I/O context and release associated resources.</div></div>
<div class="ttc" id="agroup__async__io_html_ga1c4916e173cffa9153c983a4fd0d0d56"><div class="ttname"><a href="group__async__io.html#ga1c4916e173cffa9153c983a4fd0d0d56">SocketAsync_new</a></div><div class="ttdeci">SocketAsync_T SocketAsync_new(Arena_T arena)</div><div class="ttdoc">Create a new standalone asynchronous I/O context.</div></div>
<div class="ttc" id="agroup__async__io_html_ga1cc05d5d1dd032943b57a03da3061da7"><div class="ttname"><a href="group__async__io.html#ga1cc05d5d1dd032943b57a03da3061da7">SocketAsync_process_completions</a></div><div class="ttdeci">int SocketAsync_process_completions(SocketAsync_T async, int timeout_ms)</div><div class="ttdoc">Poll and process completed asynchronous I/O operations.</div></div>
<div class="ttc" id="agroup__foundation_html_ga6842e66018614df08139e67826cf3e0d"><div class="ttname"><a href="group__foundation.html#ga6842e66018614df08139e67826cf3e0d">Arena_dispose</a></div><div class="ttdeci">void Arena_dispose(Arena_T *ap)</div><div class="ttdoc">Dispose of an arena and all its allocations, freeing underlying memory chunks.</div></div>
<div class="ttc" id="agroup__foundation_html_ga6a6d6890eb6ed1248ae1a5f0c677c7a4"><div class="ttname"><a href="group__foundation.html#ga6a6d6890eb6ed1248ae1a5f0c677c7a4">Arena_new</a></div><div class="ttdeci">Arena_T Arena_new(void)</div><div class="ttdoc">Create a new memory arena with initial capacity and thread-safe protection.</div></div>
<div class="ttc" id="agroup__foundation_html_gac1ed22b9df4eff7a3398cac608c090cc"><div class="ttname"><a href="group__foundation.html#gac1ed22b9df4eff7a3398cac608c090cc">Arena_T</a></div><div class="ttdeci">struct Arena_T * Arena_T</div><div class="ttdef"><b>Definition</b> <a href="Arena_8h_source.html#l00078">Arena.h:78</a></div></div>
<div class="ttc" id="ahttp__server_8c_html_af1f449cc09f8d36befcce07bc38c29c0"><div class="ttname"><a href="http__server_8c.html#af1f449cc09f8d36befcce07bc38c29c0">running</a></div><div class="ttdeci">static volatile int running</div><div class="ttdef"><b>Definition</b> <a href="http__server_8c_source.html#l00032">http_server.c:32</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md501"></a>
Backend-Specific Notes</h2>
<h3><a class="anchor" id="autotoc_md502"></a>
io_uring (Linux)</h3>
<ul>
<li>High performance, zero-copy support via flags</li>
<li>Batch submission/completion for throughput</li>
<li>Eventfd polled internally or via SocketPoll integration</li>
</ul>
<h3><a class="anchor" id="autotoc_md503"></a>
kqueue AIO (BSD/macOS)</h3>
<ul>
<li>Uses kevent with EVFILT_AIO for completion events</li>
<li>Limited zero-copy; synchronous I/O on event trigger</li>
</ul>
<h3><a class="anchor" id="autotoc_md504"></a>
Fallback Mode</h3>
<ul>
<li>Tracks requests but performs I/O synchronously in process_completions()</li>
<li>Emulates async via non-blocking sockets + edge-triggered events</li>
<li>Gradual migration path for unsupported platforms</li>
</ul>
<dl class="section user"><dt>Complexity\n </dt><dd><ul>
<li>new/free: O(1) backend init + mutex setup</li>
<li>send/recv: O(1) hash insert + backend submit</li>
<li>cancel: O(1) avg hash lookup + removal</li>
<li>process_completions: O(n) where n=completions drained</li>
</ul>
</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd><ul>
<li>Do not free arena while context active - leads to use-after-free</li>
<li>Callbacks must not block or perform I/O that deadlocks mutex</li>
<li>Backend fds (io_uring_fd, kqueue_fd) must not be closed externally</li>
<li>In multi-threaded use, avoid submitting from callback (potential reentrancy)</li>
</ul>
</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="structAsyncRequest.html" title="Internal structure for tracking asynchronous I/O requests.">AsyncRequest</a> tracked <a class="el" href="group__async__io.html#aac8070e36e54bb9ad8147e45d8b75575" title="Hash table for fast request lookup by ID.">requests</a> </dd>
<dd>
<a class="el" href="group__async__io.html#ga1c4916e173cffa9153c983a4fd0d0d56" title="Create a new standalone asynchronous I/O context.">SocketAsync_new()</a> / <a class="el" href="group__async__io.html#ga0d3a7b456b962c6abf4dfd91859492e0" title="Destroy an asynchronous I/O context and release associated resources.">SocketAsync_free()</a> lifecycle </dd>
<dd>
<a class="el" href="group__event__system.html#ga665b3363d16ab859ec60e69a792d1ff0" title="Get async I/O context associated with poll instance.">SocketPoll_get_async()</a> for poll integration </dd>
<dd>
<a class="el" href="group__async__io.html#ga0f304bcb93351c8555f9afa74fa9e665" title="Query if native asynchronous I/O backend is operational.">SocketAsync_is_available()</a> / <a class="el" href="group__async__io.html#a9f282cf0c0b09e8f224be77410502be6" title="String identifier of the active backend.">backend_name()</a> status queries </dd>
<dd>
<a class="el" href="ASYNC__IO_8md.html">docs/ASYNC_IO.md</a> full guide with benchmarks </dd>
<dd>
src/socket/SocketAsync.c implementation details</dd></dl>
<p>Encapsulates platform-specific async I/O state, request queues, backend resources (e.g., io_uring ring fd, kqueue), and completion tracking. Opaque design hides implementation details, ensuring portability across backends.</p>
<p>Key responsibilities:</p><ul>
<li>Submit send/recv requests with optional flags (zero-copy, urgent)</li>
<li>Track pending/completed ops via IDs</li>
<li>Deliver completions via callbacks (serialized)</li>
<li>Handle fallback to manual I/O when native async unavailable</li>
</ul>
<h2><a class="anchor" id="autotoc_md510"></a>
Lifecycle Management</h2>
<ol type="1">
<li><b>Creation</b>: Via SocketAsync_new(arena) for standalone or SocketPoll_get_async(poll) for integrated</li>
<li><b>Usage</b>: Submit ops, process completions (auto in poll, manual otherwise)</li>
<li><b>Query</b>: Check availability, backend name, cancel pending</li>
<li><b>Destruction</b>: SocketAsync_free(&amp;ctx) or via owning poll free</li>
</ol>
<p>Thread-safety: Full for submissions/processing/cancels; callbacks invoked single-threaded per context (from poll thread). Internal mutexes protect shared state.</p>
<dl class="section note"><dt>Note</dt><dd>Opaque type - no user access to internal fields or direct manipulation. Use provided API only to avoid undefined behavior.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Context must be freed before arena disposal (if standalone).</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__async__io.html#ga1c4916e173cffa9153c983a4fd0d0d56" title="Create a new standalone asynchronous I/O context.">SocketAsync_new()</a> - Standalone allocation. </dd>
<dd>
<a class="el" href="group__event__system.html#ga665b3363d16ab859ec60e69a792d1ff0" title="Get async I/O context associated with poll instance.">SocketPoll_get_async()</a> - Poll-managed instance (recommended). </dd>
<dd>
<a class="el" href="group__async__io.html#ga0d3a7b456b962c6abf4dfd91859492e0" title="Destroy an asynchronous I/O context and release associated resources.">SocketAsync_free()</a> - Explicit cleanup. </dd>
<dd>
<a class="el" href="group__async__io.html#gae0ecf4f023555d16b855d39841521f2b" title="Submit an asynchronous send operation on a socket.">SocketAsync_send()</a> / <a class="el" href="group__async__io.html#ga46adb5a1db31901afa5d1d6514e41b64" title="Submit an asynchronous receive operation on a socket.">SocketAsync_recv()</a> - Core operations. </dd>
<dd>
<a class="el" href="ASYNC__IO_8md.html">docs/ASYNC_IO.md</a> - Detailed lifecycle and threading model. </dd></dl>

<p class="definition">Definition at line <a class="el" href="SocketAsync-private_8h_source.html#l00343">343</a> of file <a class="el" href="SocketAsync-private_8h_source.html">SocketAsync-private.h</a>.</p>
</div><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for SocketAsync_T:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="structSocketAsync__T__coll__graph.svg" width="328" height="403"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a6650d0b3116c588b4413290a8c033fd2" name="a6650d0b3116c588b4413290a8c033fd2"></a><a class="el" href="group__foundation.html#gac1ed22b9df4eff7a3398cac608c090cc">Arena_T</a></td>
<td class="fieldname">
arena</td>
<td class="fielddoc">
Memory arena for internal allocations. <p>Used for allocating <a class="el" href="structAsyncRequest.html" title="Internal structure for tracking asynchronous I/O requests.">AsyncRequest</a> structures and other transient data. Lifetime tied to context; cleared on free(). </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="group__foundation.html#gac1ed22b9df4eff7a3398cac608c090cc">Arena_T</a> </dd></dl>
</td></tr>
<tr><td class="fieldtype">
<a id="aef61e1bd87368023ef39106d3bdaa1c3" name="aef61e1bd87368023ef39106d3bdaa1c3"></a>int</td>
<td class="fieldname">
available</td>
<td class="fielddoc">
Availability flag for async backend. <p>Non-zero if platform-optimized async I/O is supported and initialized. Zero indicates fallback to simulated async via polling. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="group__async__io.html#ga0f304bcb93351c8555f9afa74fa9e665" title="Query if native asynchronous I/O backend is operational.">SocketAsync_is_available()</a> </dd></dl>
</td></tr>
<tr><td class="fieldtype">
<a id="a9f282cf0c0b09e8f224be77410502be6" name="a9f282cf0c0b09e8f224be77410502be6"></a>const char *</td>
<td class="fieldname">
backend_name</td>
<td class="fielddoc">
String identifier of the active backend. <p>E.g., "io_uring", "kqueue", "edge-triggered". Read-only after init. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="group__async__io.html#gafae22c23e82d55f6fa3eaf74c0c37f5d" title="Retrieve the name of the active asynchronous backend.">SocketAsync_backend_name()</a> </dd></dl>
</td></tr>
<tr><td class="fieldtype">
<a id="a6fe86ca790ee9efe6b0c55609ac2c9a1" name="a6fe86ca790ee9efe6b0c55609ac2c9a1"></a>int</td>
<td class="fieldname">
fallback_mode</td>
<td class="fielddoc">
Platform-specific asynchronous I/O backend context. <p>Conditional compilation selects appropriate fields:</p><ul>
<li>Linux io_uring: ring and eventfd for submission/completion queue.</li>
<li>BSD/macOS: kqueue_fd for AIO event monitoring.</li>
<li>Fallback: fallback_mode flag for edge-triggered polling simulation.</li>
</ul>
<p>Initialized in <a class="el" href="group__async__io.html#ga1c4916e173cffa9153c983a4fd0d0d56" title="Create a new standalone asynchronous I/O context.">SocketAsync_new()</a>, detecting available backend. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="group__async__io.html#ga0f304bcb93351c8555f9afa74fa9e665" title="Query if native asynchronous I/O backend is operational.">SocketAsync_is_available()</a> </dd>
<dd>
<a class="el" href="group__async__io.html#gafae22c23e82d55f6fa3eaf74c0c37f5d" title="Retrieve the name of the active asynchronous backend.">SocketAsync_backend_name()</a></dd></dl>
<p>Fallback mode flag for non-async platforms.</p>
<p>Indicates edge-triggered polling simulation using SocketPoll. Requests are tracked but I/O performed synchronously in process_completions(). </p>
</td></tr>
<tr><td class="fieldtype">
<a id="aaab4331aa2c10d228a4bbe2c33977156" name="aaab4331aa2c10d228a4bbe2c33977156"></a>pthread_mutex_t</td>
<td class="fieldname">
mutex</td>
<td class="fielddoc">
Mutex protecting request table and ID generation. <p>Ensures thread-safe submission, cancellation, and completion processing. </p><dl class="section note"><dt>Note</dt><dd>Recursive mutex not used; avoid reentrancy in callbacks. </dd></dl>
</td></tr>
<tr><td class="fieldtype">
<a id="a0c707446c2cede8cd7bee21a22592815" name="a0c707446c2cede8cd7bee21a22592815"></a>unsigned</td>
<td class="fieldname">
next_request_id</td>
<td class="fielddoc">
Counter for generating unique request IDs. <p>Incremented atomically under mutex to assign request_id. Wraps around but skips 0. </p>
</td></tr>
<tr><td class="fieldtype">
<a id="aac8070e36e54bb9ad8147e45d8b75575" name="aac8070e36e54bb9ad8147e45d8b75575"></a>struct <a class="el" href="structAsyncRequest.html">AsyncRequest</a> *</td>
<td class="fieldname">
requests[1021]</td>
<td class="fielddoc">
Hash table for fast request lookup by ID. <p>Array of chains for O(1) average-case retrieval of pending requests. Indexed by request_hash(request_id). </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="group__foundation.html#ga9aab9f1282519c6c66aca1271deffe84" title="Hash table size for socket data mapping.">SOCKET_HASH_TABLE_SIZE</a> </dd>
<dd>
request_hash() </dd></dl>
</td></tr>
</table>

</div>
</div>
<a name="structSocketHE__T" id="structSocketHE__T"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structSocketHE__T">&#9670;&#160;</a></span>SocketHE_T</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct SocketHE_T</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Main opaque context for Happy Eyeballs (RFC 8305) dual-stack connection racing. </p>
<p>Central orchestrator for the entire Happy Eyeballs algorithm: performs asynchronous DNS resolution, sorts and interleaves resolved addresses per family preference, launches parallel non-blocking <a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">connect(2)</a> attempts, monitors progress via poll integration, selects first successful connection as winner, cancels/closes losers, and provides cleanup. Supports both blocking synchronous mode (internal polling loop) and non-blocking asynchronous mode with external event loop.</p>
<p>What the Type Represents:</p><ul>
<li>State machine managing phases: IDLE → RESOLVING → (CONNECTING | FAILED | CANCELLED) → CONNECTED.</li>
<li>Resource owner for arenas, lists, sockets, timers during operation lifetime.</li>
<li>Integration point for <a class="el" href="group__dns.html#structSocketDNS__T" title="Async DNS resolver structure.">SocketDNS_T</a> (async DNS) and SocketPoll_T (event multiplexing).</li>
</ul>
<p>Lifecycle Management:</p><ul>
<li>Created via <a class="el" href="group__async__io.html#gaac613520b1e674db06e60155150fef63" title="Start asynchronous Happy Eyeballs connection.">SocketHappyEyeballs_start()</a> (async) or internally in <a class="el" href="group__async__io.html#ga5ef2e9ba01aa72f8a3ae864a1ba58bc3" title="Perform synchronous Happy Eyeballs connection to host (RFC 8305 compliant).">SocketHappyEyeballs_connect()</a> (sync).</li>
<li>Advanced via <a class="el" href="group__async__io.html#ga84e7ceec1f0f61c40664e76db29336de" title="Process events and advance the Happy Eyeballs state machine.">SocketHappyEyeballs_process()</a> calls in async mode or internal loop in sync mode.</li>
<li>Completed when <a class="el" href="group__async__io.html#ga0a9452621088791eecef4112e36e4176" title="Check if Happy Eyeballs operation is complete.">SocketHappyEyeballs_poll()</a> returns true (CONNECTED, FAILED, or CANCELLED).</li>
<li>Resources released via <a class="el" href="group__async__io.html#ga5426942471b0a00d69094f1c8787523f" title="Free the Happy Eyeballs context and release resources.">SocketHappyEyeballs_free()</a> which cancels in-progress ops if needed.</li>
<li>Public API allocates via <a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">malloc()</a>; internals use <a class="el" href="group__async__io.html#a5169929482a5d5802c28ce9a8564083a">arena</a> for zero-overhead allocations.</li>
</ul>
<p>Thread Safety Characteristics:</p><ul>
<li>No - explicitly not thread-safe; all operations must occur from a single thread (typically event loop thread).</li>
<li>No internal locking; assumes exclusive access by caller.</li>
<li>Multiple independent <a class="el" href="group__async__io.html#structSocketHE__T" title="Main opaque context for Happy Eyeballs (RFC 8305) dual-stack connection racing.">SocketHE_T</a> instances may be used concurrently from different threads.</li>
<li>DNS callbacks execute in SocketDNS worker threads but synchronize back to main thread via pollfd.</li>
</ul>
<p>Related Types and Functions:</p><ul>
<li>Configured via <a class="el" href="group__async__io.html#structSocketHE__Config__T" title="Happy Eyeballs configuration structure.">SocketHE_Config_T</a> passed at creation.</li>
<li>Manages lists of SocketHE_Attempt_T and SocketHE_AddressEntry_T.</li>
<li>Integrates with Socket_T for connection primitives, <a class="el" href="group__dns.html#structSocketDNS__T" title="Async DNS resolver structure.">SocketDNS_T</a> for resolution, SocketPoll_T for events.</li>
<li>Error reporting via <a class="el" href="group__async__io.html#gafd216882131853124a2894e7aed8b039" title="Get the error message for a failed Happy Eyeballs operation.">SocketHappyEyeballs_error()</a> and SocketHE_Failed exception.</li>
<li>Timing via monotonic clocks; see <a class="el" href="group__async__io.html#structSocketHE__T" title="Main opaque context for Happy Eyeballs (RFC 8305) dual-stack connection racing.">SocketHE_T</a> timing fields for details.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Memory: Caller frees context via <a class="el" href="group__async__io.html#ga5426942471b0a00d69094f1c8787523f" title="Free the Happy Eyeballs context and release resources.">SocketHappyEyeballs_free()</a>; owns resulting socket from <a class="el" href="group__async__io.html#a97629e68af9d7e9492d6aaf5a5cc9d28">winner</a>. </dd>
<dd>
<a class="el" href="group__async__io.html#ad946a43e291746a30778e019e7e8c822">resolved</a> owned; call <a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">freeaddrinfo()</a> internally on cleanup - do not access externally. </dd>
<dd>
<a class="el" href="group__async__io.html#ab7050ef9b15127c92f7bc6b5018ef8a0">dns</a> and <a class="el" href="group__async__io.html#ae6f8a859a6a5107e05abf0eeb36389e6">poll</a> borrowed unless <a class="el" href="group__async__io.html#a89ed44d0ac9bf1e279e59ad482e8b335">owns_dns</a>/<a class="el" href="group__async__io.html#ae0305b7d3f498d7d5cd4acb791db1b64">owns_poll</a> set (auto-create case). </dd>
<dd>
State transitions atomic within <a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">process()</a> but check <a class="el" href="group__async__io.html#ga3307a26e1e23ff4be5d2e33895e6ae79" title="Get the current state of the Happy Eyeballs operation.">SocketHappyEyeballs_state()</a> for current. </dd>
<dd>
Error buffer <a class="el" href="group__async__io.html#a53be6d234730141d247e0e078dbf266c">error_buf</a> formatted for <a class="el" href="group__async__io.html#gafd216882131853124a2894e7aed8b039" title="Get the error message for a failed Happy Eyeballs operation.">SocketHappyEyeballs_error()</a>; capacity SOCKET_HE_ERROR_BUFSIZE. </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Cancelling mid-operation closes sockets and aborts DNS; resources reclaimed on <a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">free()</a>. </dd>
<dd>
Exceeding ::config.total_timeout_ms triggers FAILED state with timeout error. </dd>
<dd>
In sync mode, blocks up to total_timeout_ms; use async for responsive apps.</dd></dl>
<dl class="section user"><dt>Complexity\n Varies by phase:</dt><dd><ul>
<li>Init/resolution: <a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">O(n log n)</a> for address sort where n=resolved addresses.</li>
<li>Connecting: <a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">O(m)</a> where m=attempts, each poll <a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">O(1)</a> average.</li>
<li>Overall: Efficient for small n/m (typical &lt;10); scales with config.max_attempts.</li>
</ul>
</dd></dl>
<h2><a class="anchor" id="autotoc_md585"></a>
Internal Architecture Diagram</h2>
<div class="fragment"><div class="line">+-------------------+     +-------------------+</div>
<div class="line">| <a class="code hl_struct" href="group__async__io.html#structSocketHE__T">SocketHE_T</a>        |&lt;---&gt;| <a class="code hl_struct" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a>       |  (async <a class="code hl_variable" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">resolution</a>)</div>
<div class="line">| - <a class="code hl_variable" href="group__async__io.html#a829e04488f8e01815b58ddeb241db2cf">config</a>          |     +-------------------+</div>
<div class="line">| - <a class="code hl_variable" href="group__async__io.html#a9d47f78c56dbd6d1c7499dcb57ba3f00">host</a>/<a class="code hl_variable" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">port</a>       |           ^</div>
<div class="line">| - <a class="code hl_variable" href="group__async__io.html#a5169929482a5d5802c28ce9a8564083a">arena</a>           |           | <a class="code hl_variable" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">owns</a>/<a class="code hl_variable" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">borrows</a></div>
<div class="line">| - <a class="code hl_variable" href="group__async__io.html#ab7050ef9b15127c92f7bc6b5018ef8a0">dns</a>/<a class="code hl_variable" href="group__async__io.html#ae6f8a859a6a5107e05abf0eeb36389e6">poll</a>        |     +-------------------+</div>
<div class="line">| - <a class="code hl_variable" href="group__async__io.html#ad946a43e291746a30778e019e7e8c822">resolved</a>/<a class="code hl_variable" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">addrs</a>  |&lt;---&gt;| SocketPoll_T      |  (<a class="code hl_variable" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">event</a> <a class="code hl_variable" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">integration</a>)</div>
<div class="line">| - <a class="code hl_variable" href="group__async__io.html#ada23c08d9d2867a7f02b9e7f03697fae">attempts</a>/<a class="code hl_variable" href="group__async__io.html#a97629e68af9d7e9492d6aaf5a5cc9d28">winner</a> |     +-------------------+</div>
<div class="line">| - <a class="code hl_variable" href="group__async__io.html#aaeda5383f3e0ac7f6576f7a5a613ff72">state</a>/timers    |           ^</div>
<div class="line">+-------------------+           | </div>
<div class="line">        |                       |</div>
<div class="line">        <a class="code hl_variable" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">v</a>                       <a class="code hl_variable" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">v</a></div>
<div class="line">+-------------------+     +-------------------+</div>
<div class="line">| <a class="code hl_variable" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">SocketHE_Attempt</a>  |     | <a class="code hl_variable" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">SocketHE_Address</a>  |</div>
<div class="line">| - socket/<a class="code hl_variable" href="group__async__io.html#gabf6dc3901a5139f2f7f093db3003b798">addr</a>     |     | - <a class="code hl_variable" href="group__async__io.html#gabf6dc3901a5139f2f7f093db3003b798">addr</a>/<a class="code hl_variable" href="group__async__io.html#ga4417150d9f858949bd9ea8794995ebcc">family</a>     |</div>
<div class="line">| - <a class="code hl_variable" href="group__async__io.html#aaeda5383f3e0ac7f6576f7a5a613ff72">state</a>/<a class="code hl_variable" href="SocketHappyEyeballs-private_8h.html#a11614f44ef4d939bdd984953346a7572">error</a>     |     | - <a class="code hl_variable" href="SocketHappyEyeballs-private_8h.html#aac39ea8065d9b2b99c2b8a4a7c4ca130">tried</a>/<a class="code hl_variable" href="SocketHappyEyeballs-private_8h.html#a8cfef7a67b323a611a42e8eab03eed22">next</a>      |</div>
<div class="line">| - <a class="code hl_variable" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">time</a>/<a class="code hl_variable" href="SocketHappyEyeballs-private_8h.html#a8cfef7a67b323a611a42e8eab03eed22">next</a>       |     +-------------------+</div>
<div class="line">+-------------------+               ^</div>
<div class="line">        ^                           |</div>
<div class="line">        | <a class="code hl_variable" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">borrows</a>                   | <a class="code hl_variable" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">wraps</a></div>
<div class="line">+-------------------+     +-------------------+</div>
<div class="line">|   <span class="keyword">struct          </span>|     |   <a class="code hl_variable" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">struct</a>          |</div>
<div class="line">|   <a class="code hl_variable" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">addrinfo</a>        |     |   <a class="code hl_variable" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">addrinfo</a>        |</div>
<div class="line">+-------------------+     +-------------------+</div>
<div class="ttc" id="aSocketHappyEyeballs-private_8h_html_a11614f44ef4d939bdd984953346a7572"><div class="ttname"><a href="SocketHappyEyeballs-private_8h.html#a11614f44ef4d939bdd984953346a7572">error</a></div><div class="ttdeci">int error</div><div class="ttdef"><b>Definition</b> <a href="SocketHappyEyeballs-private_8h_source.html#l00152">SocketHappyEyeballs-private.h:152</a></div></div>
<div class="ttc" id="aSocketHappyEyeballs-private_8h_html_a8cfef7a67b323a611a42e8eab03eed22"><div class="ttname"><a href="SocketHappyEyeballs-private_8h.html#a8cfef7a67b323a611a42e8eab03eed22">next</a></div><div class="ttdeci">struct SocketHE_Attempt * next</div><div class="ttdef"><b>Definition</b> <a href="SocketHappyEyeballs-private_8h_source.html#l00154">SocketHappyEyeballs-private.h:154</a></div></div>
<div class="ttc" id="aSocketHappyEyeballs-private_8h_html_aac39ea8065d9b2b99c2b8a4a7c4ca130"><div class="ttname"><a href="SocketHappyEyeballs-private_8h.html#aac39ea8065d9b2b99c2b8a4a7c4ca130">tried</a></div><div class="ttdeci">int tried</div><div class="ttdef"><b>Definition</b> <a href="SocketHappyEyeballs-private_8h_source.html#l00203">SocketHappyEyeballs-private.h:203</a></div></div>
<div class="ttc" id="agroup__async__io_html_a5169929482a5d5802c28ce9a8564083a"><div class="ttname"><a href="group__async__io.html#a5169929482a5d5802c28ce9a8564083a">SocketHE_T::arena</a></div><div class="ttdeci">Arena_T arena</div><div class="ttdef"><b>Definition</b> <a href="SocketHappyEyeballs-private_8h_source.html#l00313">SocketHappyEyeballs-private.h:313</a></div></div>
<div class="ttc" id="agroup__async__io_html_a829e04488f8e01815b58ddeb241db2cf"><div class="ttname"><a href="group__async__io.html#a829e04488f8e01815b58ddeb241db2cf">SocketHE_T::config</a></div><div class="ttdeci">SocketHE_Config_T config</div><div class="ttdef"><b>Definition</b> <a href="SocketHappyEyeballs-private_8h_source.html#l00303">SocketHappyEyeballs-private.h:303</a></div></div>
<div class="ttc" id="agroup__async__io_html_a97629e68af9d7e9492d6aaf5a5cc9d28"><div class="ttname"><a href="group__async__io.html#a97629e68af9d7e9492d6aaf5a5cc9d28">SocketHE_T::winner</a></div><div class="ttdeci">Socket_T winner</div><div class="ttdef"><b>Definition</b> <a href="SocketHappyEyeballs-private_8h_source.html#l00332">SocketHappyEyeballs-private.h:332</a></div></div>
<div class="ttc" id="agroup__async__io_html_a9d47f78c56dbd6d1c7499dcb57ba3f00"><div class="ttname"><a href="group__async__io.html#a9d47f78c56dbd6d1c7499dcb57ba3f00">SocketHE_T::host</a></div><div class="ttdeci">char * host</div><div class="ttdef"><b>Definition</b> <a href="SocketHappyEyeballs-private_8h_source.html#l00305">SocketHappyEyeballs-private.h:305</a></div></div>
<div class="ttc" id="agroup__async__io_html_aa253b4703dce01e6869ca27208dd624a"><div class="ttname"><a href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">SocketHE_T::port</a></div><div class="ttdeci">int port</div><div class="ttdef"><b>Definition</b> <a href="SocketHappyEyeballs-private_8h_source.html#l00306">SocketHappyEyeballs-private.h:306</a></div></div>
<div class="ttc" id="agroup__async__io_html_aaeda5383f3e0ac7f6576f7a5a613ff72"><div class="ttname"><a href="group__async__io.html#aaeda5383f3e0ac7f6576f7a5a613ff72">SocketHE_T::state</a></div><div class="ttdeci">SocketHE_State state</div><div class="ttdef"><b>Definition</b> <a href="SocketHappyEyeballs-private_8h_source.html#l00340">SocketHappyEyeballs-private.h:340</a></div></div>
<div class="ttc" id="agroup__async__io_html_ab7050ef9b15127c92f7bc6b5018ef8a0"><div class="ttname"><a href="group__async__io.html#ab7050ef9b15127c92f7bc6b5018ef8a0">SocketHE_T::dns</a></div><div class="ttdeci">SocketDNS_T dns</div><div class="ttdef"><b>Definition</b> <a href="SocketHappyEyeballs-private_8h_source.html#l00309">SocketHappyEyeballs-private.h:309</a></div></div>
<div class="ttc" id="agroup__async__io_html_ad946a43e291746a30778e019e7e8c822"><div class="ttname"><a href="group__async__io.html#ad946a43e291746a30778e019e7e8c822">SocketHE_T::resolved</a></div><div class="ttdeci">struct addrinfo * resolved</div><div class="ttdef"><b>Definition</b> <a href="SocketHappyEyeballs-private_8h_source.html#l00319">SocketHappyEyeballs-private.h:319</a></div></div>
<div class="ttc" id="agroup__async__io_html_ada23c08d9d2867a7f02b9e7f03697fae"><div class="ttname"><a href="group__async__io.html#ada23c08d9d2867a7f02b9e7f03697fae">SocketHE_T::attempts</a></div><div class="ttdeci">SocketHE_Attempt_T * attempts</div><div class="ttdef"><b>Definition</b> <a href="SocketHappyEyeballs-private_8h_source.html#l00330">SocketHappyEyeballs-private.h:330</a></div></div>
<div class="ttc" id="agroup__async__io_html_ae6f8a859a6a5107e05abf0eeb36389e6"><div class="ttname"><a href="group__async__io.html#ae6f8a859a6a5107e05abf0eeb36389e6">SocketHE_T::poll</a></div><div class="ttdeci">SocketPoll_T poll</div><div class="ttdef"><b>Definition</b> <a href="SocketHappyEyeballs-private_8h_source.html#l00310">SocketHappyEyeballs-private.h:310</a></div></div>
<div class="ttc" id="agroup__async__io_html_ga4417150d9f858949bd9ea8794995ebcc"><div class="ttname"><a href="group__async__io.html#ga4417150d9f858949bd9ea8794995ebcc">family</a></div><div class="ttdeci">int family</div><div class="ttdoc">Wrapper structure for resolved addresses in Happy Eyeballs address preference ordering.</div><div class="ttdef"><b>Definition</b> <a href="SocketHappyEyeballs-private_8h_source.html#l00202">SocketHappyEyeballs-private.h:202</a></div></div>
<div class="ttc" id="agroup__async__io_html_gabf6dc3901a5139f2f7f093db3003b798"><div class="ttname"><a href="group__async__io.html#gabf6dc3901a5139f2f7f093db3003b798">addr</a></div><div class="ttdeci">struct addrinfo * addr</div><div class="ttdoc">Single connection attempt structure in Happy Eyeballs racing.</div><div class="ttdef"><b>Definition</b> <a href="SocketHappyEyeballs-private_8h_source.html#l00150">SocketHappyEyeballs-private.h:150</a></div></div>
<div class="ttc" id="agroup__async__io_html_structSocketHE__T"><div class="ttname"><a href="group__async__io.html#structSocketHE__T">SocketHE_T</a></div><div class="ttdoc">Main opaque context for Happy Eyeballs (RFC 8305) dual-stack connection racing.</div><div class="ttdef"><b>Definition</b> <a href="SocketHappyEyeballs-private_8h_source.html#l00300">SocketHappyEyeballs-private.h:301</a></div></div>
<div class="ttc" id="agroup__dns_html_structSocketDNS__T"><div class="ttname"><a href="group__dns.html#structSocketDNS__T">SocketDNS_T</a></div><div class="ttdoc">Async DNS resolver structure.</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00221">SocketDNS-private.h:222</a></div></div>
</div><!-- fragment --><dl class="section see"><dt>See also</dt><dd><a class="el" href="group__async__io.html#gaac613520b1e674db06e60155150fef63" title="Start asynchronous Happy Eyeballs connection.">SocketHappyEyeballs_start()</a> <a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">and</a> <a class="el" href="group__async__io.html#ga5ef2e9ba01aa72f8a3ae864a1ba58bc3" title="Perform synchronous Happy Eyeballs connection to host (RFC 8305 compliant).">SocketHappyEyeballs_connect()</a> <a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">for</a> <a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">public</a> <a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">creation</a> <a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">APIs</a>. </dd>
<dd>
<a class="el" href="SocketHappyEyeballs-private_8h.html#af65fb424e04e284ceab8f880af2832ff">SocketHE_Attempt_T</a> <a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">for</a> per-attempt <a class="el" href="group__async__io.html#aaeda5383f3e0ac7f6576f7a5a613ff72">state</a> <a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">tracking</a>. </dd>
<dd>
<a class="el" href="SocketHappyEyeballs-private_8h.html#af903d297eea34d40f3c6459193a0d080">SocketHE_AddressEntry_T</a> <a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">for</a> <a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">address</a> <a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">selection</a> <a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">logic</a>. </dd>
<dd>
<a class="el" href="group__foundation.html#gac1ed22b9df4eff7a3398cac608c090cc">Arena_T</a> <a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">for</a> <a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">internal</a> <a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">allocation</a> policy. </dd>
<dd>
<a class="el" href="group__foundation.html#ga264bfa9d1cf07aa22446a4df6c4936bf" title="Socket_get_monotonic_ms - Get current monotonic time in milliseconds.">Socket_get_monotonic_ms()</a> <a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">for</a> <a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">all</a> <a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">timing</a> <a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">fields</a> (<a class="el" href="group__async__io.html#a1d9b160ae7111c4d5b92134c5f643ede">start_time_ms</a>, <a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">etc</a>.). </dd>
<dd>
<a class="el" href="group__async__io.html#gac1b193256ec44f27e6f0f307b0c2e524" title="State enumeration for Happy Eyeballs connection progress.">SocketHE_State</a> <a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">for</a> <a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">overall</a> <a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">operation</a> <a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">states</a>. </dd>
<dd>
<a class="el" href="group__async__io.html#structSocketHE__Config__T" title="Happy Eyeballs configuration structure.">SocketHE_Config_T</a> <a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">for</a> <a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">tunable</a> <a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">parameters</a>. </dd>
<dd>
<a class="el" href="ASYNC__IO_8md.html">docs/ASYNC_IO.md</a> <a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">for</a> <a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">integration</a> <a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">guides</a> <a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">and</a> <a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">RFC</a> 8305 <a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">compliance</a> <a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">details</a>. </dd>
<dd>
docs/ERROR_HANDLING.md <a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">for</a> exception <a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">and</a> <a class="el" href="SocketHappyEyeballs-private_8h.html#a11614f44ef4d939bdd984953346a7572">error</a> <a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">handling</a>. </dd></dl>

<p class="definition">Definition at line <a class="el" href="SocketHappyEyeballs-private_8h_source.html#l00300">300</a> of file <a class="el" href="SocketHappyEyeballs-private_8h_source.html">SocketHappyEyeballs-private.h</a>.</p>
</div><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for SocketHE_T:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="structSocketHE__T__coll__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a6c4cf3aa4f9960ef00dbd7bfb664d15f" name="a6c4cf3aa4f9960ef00dbd7bfb664d15f"></a><a class="el" href="SocketHappyEyeballs-private_8h.html#af903d297eea34d40f3c6459193a0d080">SocketHE_AddressEntry_T</a> *</td>
<td class="fieldname">
addresses</td>
<td class="fielddoc">
<p>Head of preference-sorted address list (arena-allocated). </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a5169929482a5d5802c28ce9a8564083a" name="a5169929482a5d5802c28ce9a8564083a"></a><a class="el" href="group__foundation.html#gac1ed22b9df4eff7a3398cac608c090cc">Arena_T</a></td>
<td class="fieldname">
arena</td>
<td class="fielddoc">
<p>Arena for all internal allocations. </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a1650439dea41119d0072101f29706df6" name="a1650439dea41119d0072101f29706df6"></a><a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">int</a></td>
<td class="fieldname">
attempt_count</td>
<td class="fielddoc">
<p>Count of started attempts (limited by SOCKET_HE_MAX_ATTEMPTS). </p>
</td></tr>
<tr><td class="fieldtype">
<a id="ada23c08d9d2867a7f02b9e7f03697fae" name="ada23c08d9d2867a7f02b9e7f03697fae"></a><a class="el" href="SocketHappyEyeballs-private_8h.html#af65fb424e04e284ceab8f880af2832ff">SocketHE_Attempt_T</a> *</td>
<td class="fieldname">
attempts</td>
<td class="fielddoc">
<p>Singly-linked list of attempt structures (head). </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a829e04488f8e01815b58ddeb241db2cf" name="a829e04488f8e01815b58ddeb241db2cf"></a><a class="el" href="group__async__io.html#structSocketHE__Config__T">SocketHE_Config_T</a></td>
<td class="fieldname">
config</td>
<td class="fielddoc">
<p>User-provided configuration options. </p>
</td></tr>
<tr><td class="fieldtype">
<a id="ab7050ef9b15127c92f7bc6b5018ef8a0" name="ab7050ef9b15127c92f7bc6b5018ef8a0"></a><a class="el" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a></td>
<td class="fieldname">
dns</td>
<td class="fielddoc">
<p>Optional DNS resolver for async resolution (NULL=blocking). </p>
</td></tr>
<tr><td class="fieldtype">
<a id="aee70d363ad60a557390043a4c5facf67" name="aee70d363ad60a557390043a4c5facf67"></a><a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">int</a></td>
<td class="fieldname">
dns_complete</td>
<td class="fielddoc">
<p>Flag: 1 if DNS resolution succeeded or failed. </p>
</td></tr>
<tr><td class="fieldtype">
<a id="aa121090386dd73b5f4d3baa210ade4b6" name="aa121090386dd73b5f4d3baa210ade4b6"></a><a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">int</a></td>
<td class="fieldname">
dns_error</td>
<td class="fielddoc">
<p>SocketDNS error code if resolution failed. </p>
</td></tr>
<tr><td class="fieldtype">
<a id="af2a815ad1815bfc78cb6d018b8e7ac8b" name="af2a815ad1815bfc78cb6d018b8e7ac8b"></a><a class="el" href="group__dns.html#gaec7a4f82232cde2b125b4b1e1df03b1f">Request_T</a></td>
<td class="fieldname">
dns_request</td>
<td class="fielddoc">
<p>Active asynchronous DNS request handle (<a class="el" href="group__dns.html#structSocketDNS__Request__T" title="DNS resolution request structure.">SocketDNS_Request_T</a> *). </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a53be6d234730141d247e0e078dbf266c" name="a53be6d234730141d247e0e078dbf266c"></a><a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">char</a></td>
<td class="fieldname">
error_buf[<a class="el" href="group__async__io.html#gaa146f664c1a8f3c05b5aa72766bc9c90">SOCKET_HE_ERROR_BUFSIZE</a>]</td>
<td class="fielddoc">
<p>Buffer for formatted error messages. </p>
</td></tr>
<tr><td class="fieldtype">
<a id="af55fc86d74b971f71f4a236ab1a908ee" name="af55fc86d74b971f71f4a236ab1a908ee"></a><a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">int</a></td>
<td class="fieldname">
fallback_timer_armed</td>
<td class="fielddoc">
<p>Flag: 1 if fallback delay timer is active. </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a8e2cdbeca7dfaef55ebb8d4e0dde26c9" name="a8e2cdbeca7dfaef55ebb8d4e0dde26c9"></a><a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">int64_t</a></td>
<td class="fieldname">
first_attempt_time_ms</td>
<td class="fielddoc">
<p>Timestamp of first <a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">connect()</a> call. </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a9d47f78c56dbd6d1c7499dcb57ba3f00" name="a9d47f78c56dbd6d1c7499dcb57ba3f00"></a><a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">char</a> *</td>
<td class="fieldname">
host</td>
<td class="fielddoc">
<p>Copy of target hostname (allocated from <a class="el" href="group__async__io.html#a5169929482a5d5802c28ce9a8564083a">arena</a>). </p>
</td></tr>
<tr><td class="fieldtype">
<a id="afa442a51bfe250af5613d78f65203429" name="afa442a51bfe250af5613d78f65203429"></a><a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">int</a></td>
<td class="fieldname">
interleave_prefer_ipv6</td>
<td class="fielddoc">
<p>Interleave state: 1=prefer IPv6 next, 0=prefer IPv4. </p>
</td></tr>
<tr><td class="fieldtype">
<a id="ae7bca01eacea9e9d3fae59a65a785a9d" name="ae7bca01eacea9e9d3fae59a65a785a9d"></a><a class="el" href="SocketHappyEyeballs-private_8h.html#af903d297eea34d40f3c6459193a0d080">SocketHE_AddressEntry_T</a> *</td>
<td class="fieldname">
next_ipv4</td>
<td class="fielddoc">
<p>Pointer to next untried IPv4 address for interleaving. </p>
</td></tr>
<tr><td class="fieldtype">
<a id="adbefa04345a18fb2d494db017da0a30f" name="adbefa04345a18fb2d494db017da0a30f"></a><a class="el" href="SocketHappyEyeballs-private_8h.html#af903d297eea34d40f3c6459193a0d080">SocketHE_AddressEntry_T</a> *</td>
<td class="fieldname">
next_ipv6</td>
<td class="fielddoc">
<p>Pointer to next untried IPv6 address for interleaving. </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a89ed44d0ac9bf1e279e59ad482e8b335" name="a89ed44d0ac9bf1e279e59ad482e8b335"></a><a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">int</a></td>
<td class="fieldname">
owns_dns</td>
<td class="fielddoc">
<p>Flag: 1 if this context created and owns <a class="el" href="group__async__io.html#ab7050ef9b15127c92f7bc6b5018ef8a0">dns</a>. </p>
</td></tr>
<tr><td class="fieldtype">
<a id="ae0305b7d3f498d7d5cd4acb791db1b64" name="ae0305b7d3f498d7d5cd4acb791db1b64"></a><a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">int</a></td>
<td class="fieldname">
owns_poll</td>
<td class="fielddoc">
<p>Flag: 1 if this context created and owns <a class="el" href="group__async__io.html#ae6f8a859a6a5107e05abf0eeb36389e6">poll</a>. </p>
</td></tr>
<tr><td class="fieldtype">
<a id="ae6f8a859a6a5107e05abf0eeb36389e6" name="ae6f8a859a6a5107e05abf0eeb36389e6"></a>SocketPoll_T</td>
<td class="fieldname">
poll</td>
<td class="fielddoc">
<p>Optional event poll for async progress (NULL=sync). </p>
</td></tr>
<tr><td class="fieldtype">
<a id="aa253b4703dce01e6869ca27208dd624a" name="aa253b4703dce01e6869ca27208dd624a"></a>int</td>
<td class="fieldname">
port</td>
<td class="fielddoc">
<p>Target service port number. </p>
</td></tr>
<tr><td class="fieldtype">
<a id="ad946a43e291746a30778e019e7e8c822" name="ad946a43e291746a30778e019e7e8c822"></a><a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">struct</a> <a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">addrinfo</a> *</td>
<td class="fieldname">
resolved</td>
<td class="fielddoc">
<p>Owned list of resolved addresses (freeaddrinfo on cleanup). </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a1d9b160ae7111c4d5b92134c5f643ede" name="a1d9b160ae7111c4d5b92134c5f643ede"></a><a class="el" href="group__async__io.html#aa253b4703dce01e6869ca27208dd624a">int64_t</a></td>
<td class="fieldname">
start_time_ms</td>
<td class="fielddoc">
<p>Timestamp when Happy Eyeballs operation began. </p>
</td></tr>
<tr><td class="fieldtype">
<a id="aaeda5383f3e0ac7f6576f7a5a613ff72" name="aaeda5383f3e0ac7f6576f7a5a613ff72"></a><a class="el" href="group__async__io.html#gac1b193256ec44f27e6f0f307b0c2e524">SocketHE_State</a></td>
<td class="fieldname">
state</td>
<td class="fielddoc">
<p>Overall state machine state (e.g., RESOLVING, CONNECTING). </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a97629e68af9d7e9492d6aaf5a5cc9d28" name="a97629e68af9d7e9492d6aaf5a5cc9d28"></a>Socket_T</td>
<td class="fieldname">
winner</td>
<td class="fielddoc">
<p>Winning connected socket (transferred to caller on success). </p>
</td></tr>
</table>

</div>
</div>
<a name="structSocketHE__Config__T" id="structSocketHE__Config__T"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structSocketHE__Config__T">&#9670;&#160;</a></span>SocketHE_Config_T</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct SocketHE_Config_T</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Happy Eyeballs configuration structure. </p>
<p>All time values are in milliseconds. Use 0 for defaults. Call <a class="el" href="group__async__io.html#ga3a5b3e45e53cfda16c76fec1cd4fd637" title="Initialize Happy Eyeballs configuration with default values.">SocketHappyEyeballs_config_defaults()</a> to initialize to RFC 8305 recommended values.</p>
<p>See inline field documentation below for details.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__async__io.html#ga3a5b3e45e53cfda16c76fec1cd4fd637" title="Initialize Happy Eyeballs configuration with default values.">SocketHappyEyeballs_config_defaults()</a> to set defaults. </dd>
<dd>
<a class="el" href="group__async__io.html#ga5ef2e9ba01aa72f8a3ae864a1ba58bc3" title="Perform synchronous Happy Eyeballs connection to host (RFC 8305 compliant).">SocketHappyEyeballs_connect()</a>, <a class="el" href="group__async__io.html#gaac613520b1e674db06e60155150fef63" title="Start asynchronous Happy Eyeballs connection.">SocketHappyEyeballs_start()</a> for usage. </dd>
<dd>
<a class="el" href="ASYNC__IO_8md.html">docs/ASYNC_IO.md</a> for configuration tuning. </dd></dl>

<p class="definition">Definition at line <a class="el" href="SocketHappyEyeballs_8h_source.html#l00143">143</a> of file <a class="el" href="SocketHappyEyeballs_8h_source.html">SocketHappyEyeballs.h</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a6102505cbcca11148c1e2cbcda5caa16" name="a6102505cbcca11148c1e2cbcda5caa16"></a>int</td>
<td class="fieldname">
attempt_timeout_ms</td>
<td class="fielddoc">
<p>Per-attempt connection timeout (5000ms) </p>
</td></tr>
<tr><td class="fieldtype">
<a id="ae94ef758ca842d9231733fbc9b910e2f" name="ae94ef758ca842d9231733fbc9b910e2f"></a>int</td>
<td class="fieldname">
dns_timeout_ms</td>
<td class="fielddoc">
<p>DNS resolution timeout (5000ms, 0=use total) </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a718ced26ae9d5f1a9c51980686007af9" name="a718ced26ae9d5f1a9c51980686007af9"></a>int</td>
<td class="fieldname">
first_attempt_delay_ms</td>
<td class="fielddoc">
<p>Delay before starting second family (250ms default, RFC 8305 Section 3). </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a844dbed92f4e7fbcedd41f78089d4edc" name="a844dbed92f4e7fbcedd41f78089d4edc"></a>int</td>
<td class="fieldname">
max_attempts</td>
<td class="fielddoc">
<p>Maximum simultaneous attempts (2) </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a2286078d8352300a92ddd005f756ae8b" name="a2286078d8352300a92ddd005f756ae8b"></a>int</td>
<td class="fieldname">
prefer_ipv6</td>
<td class="fielddoc">
<p>1 = IPv6 first (default), 0 = IPv4 first </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a30f77ee5bd25329726485101935e8a2a" name="a30f77ee5bd25329726485101935e8a2a"></a>int</td>
<td class="fieldname">
total_timeout_ms</td>
<td class="fielddoc">
<p>Overall operation timeout (30000ms) </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="gaa0d6d53cd106cb84028fd2e568b0216b" name="gaa0d6d53cd106cb84028fd2e568b0216b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa0d6d53cd106cb84028fd2e568b0216b">&#9670;&#160;</a></span>SOCKET_DEFAULT_IO_URING_ENTRIES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SOCKET_DEFAULT_IO_URING_ENTRIES&#160;&#160;&#160;1024</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default number of io_uring entries. </p>

<p class="definition">Definition at line <a class="el" href="SocketConfig_8h_source.html#l01780">1780</a> of file <a class="el" href="SocketConfig_8h_source.html">SocketConfig.h</a>.</p>

</div>
</div>
<a id="ga66b65910ea1f4b358406d1fb9add485e" name="ga66b65910ea1f4b358406d1fb9add485e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga66b65910ea1f4b358406d1fb9add485e">&#9670;&#160;</a></span>SOCKET_HE_DEFAULT_ATTEMPT_TIMEOUT_MS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SOCKET_HE_DEFAULT_ATTEMPT_TIMEOUT_MS&#160;&#160;&#160;5000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default per-attempt connection timeout (5000 ms). </p>

<p class="definition">Definition at line <a class="el" href="SocketHappyEyeballs_8h_source.html#l00172">172</a> of file <a class="el" href="SocketHappyEyeballs_8h_source.html">SocketHappyEyeballs.h</a>.</p>

</div>
</div>
<a id="ga0eca938e489f47d663007b6c0a7ab18f" name="ga0eca938e489f47d663007b6c0a7ab18f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0eca938e489f47d663007b6c0a7ab18f">&#9670;&#160;</a></span>SOCKET_HE_DEFAULT_DNS_TIMEOUT_MS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SOCKET_HE_DEFAULT_DNS_TIMEOUT_MS&#160;&#160;&#160;5000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default DNS resolution timeout (5000 ms, 0=use total timeout). </p>

<p class="definition">Definition at line <a class="el" href="SocketHappyEyeballs_8h_source.html#l00188">188</a> of file <a class="el" href="SocketHappyEyeballs_8h_source.html">SocketHappyEyeballs.h</a>.</p>

</div>
</div>
<a id="ga015f1e24903699e20cea8af2bd44b781" name="ga015f1e24903699e20cea8af2bd44b781"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga015f1e24903699e20cea8af2bd44b781">&#9670;&#160;</a></span>SOCKET_HE_DEFAULT_FIRST_ATTEMPT_DELAY_MS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SOCKET_HE_DEFAULT_FIRST_ATTEMPT_DELAY_MS&#160;&#160;&#160;250</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>RFC 8305 recommended delay before starting fallback address family (250 ms). </p>

<p class="definition">Definition at line <a class="el" href="SocketHappyEyeballs_8h_source.html#l00164">164</a> of file <a class="el" href="SocketHappyEyeballs_8h_source.html">SocketHappyEyeballs.h</a>.</p>

</div>
</div>
<a id="gac03b01e1dccf0fd3b0c78d26e4343646" name="gac03b01e1dccf0fd3b0c78d26e4343646"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac03b01e1dccf0fd3b0c78d26e4343646">&#9670;&#160;</a></span>SOCKET_HE_DEFAULT_MAX_ATTEMPTS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SOCKET_HE_DEFAULT_MAX_ATTEMPTS&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default maximum simultaneous connection attempts (2 per RFC 8305). </p>

<p class="definition">Definition at line <a class="el" href="SocketHappyEyeballs_8h_source.html#l00196">196</a> of file <a class="el" href="SocketHappyEyeballs_8h_source.html">SocketHappyEyeballs.h</a>.</p>

</div>
</div>
<a id="ga1400e0f9bd9e1de9d861c5ebfab5a877" name="ga1400e0f9bd9e1de9d861c5ebfab5a877"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1400e0f9bd9e1de9d861c5ebfab5a877">&#9670;&#160;</a></span>SOCKET_HE_DEFAULT_TOTAL_TIMEOUT_MS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SOCKET_HE_DEFAULT_TOTAL_TIMEOUT_MS&#160;&#160;&#160;30000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default total operation timeout including DNS and connections (30000 ms). </p>

<p class="definition">Definition at line <a class="el" href="SocketHappyEyeballs_8h_source.html#l00180">180</a> of file <a class="el" href="SocketHappyEyeballs_8h_source.html">SocketHappyEyeballs.h</a>.</p>

</div>
</div>
<a id="gaa146f664c1a8f3c05b5aa72766bc9c90" name="gaa146f664c1a8f3c05b5aa72766bc9c90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa146f664c1a8f3c05b5aa72766bc9c90">&#9670;&#160;</a></span>SOCKET_HE_ERROR_BUFSIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SOCKET_HE_ERROR_BUFSIZE&#160;&#160;&#160;256</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Size of internal error message buffer in bytes. </p>
<dl class="section note"><dt>Note</dt><dd>Sufficient for typical errno/strerror messages plus context. </dd></dl>

<p class="definition">Definition at line <a class="el" href="SocketHappyEyeballs-private_8h_source.html#l00054">54</a> of file <a class="el" href="SocketHappyEyeballs-private_8h_source.html">SocketHappyEyeballs-private.h</a>.</p>

</div>
</div>
<a id="gaaf3ab2bde5c1dfd30c9642dd79b8d822" name="gaaf3ab2bde5c1dfd30c9642dd79b8d822"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaf3ab2bde5c1dfd30c9642dd79b8d822">&#9670;&#160;</a></span>SOCKET_HE_MAX_ATTEMPTS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SOCKET_HE_MAX_ATTEMPTS&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximum number of simultaneous connection attempts allowed. </p>
<dl class="section note"><dt>Note</dt><dd>Default 8, as recommended by RFC 8305 for balancing performance and resources. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__async__io.html#a1650439dea41119d0072101f29706df6">SocketHE_T::attempt_count</a> for runtime tracking. </dd></dl>

<p class="definition">Definition at line <a class="el" href="SocketHappyEyeballs-private_8h_source.html#l00045">45</a> of file <a class="el" href="SocketHappyEyeballs-private_8h_source.html">SocketHappyEyeballs-private.h</a>.</p>

</div>
</div>
<a id="ga07e470dce144233028bfd6d2193e8c03" name="ga07e470dce144233028bfd6d2193e8c03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga07e470dce144233028bfd6d2193e8c03">&#9670;&#160;</a></span>SOCKET_HE_PORT_STR_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SOCKET_HE_PORT_STR_SIZE&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Buffer size for port string conversion (8 bytes for "65535\0"). </p>

<p class="definition">Definition at line <a class="el" href="SocketHappyEyeballs_8h_source.html#l00212">212</a> of file <a class="el" href="SocketHappyEyeballs_8h_source.html">SocketHappyEyeballs.h</a>.</p>

</div>
</div>
<a id="ga869ed228765bfcb7b4aab39b7cfc8c9d" name="ga869ed228765bfcb7b4aab39b7cfc8c9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga869ed228765bfcb7b4aab39b7cfc8c9d">&#9670;&#160;</a></span>SOCKET_HE_SYNC_POLL_INTERVAL_MS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SOCKET_HE_SYNC_POLL_INTERVAL_MS&#160;&#160;&#160;50</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Poll interval for synchronous connection loop (50 ms). </p>

<p class="definition">Definition at line <a class="el" href="SocketHappyEyeballs_8h_source.html#l00204">204</a> of file <a class="el" href="SocketHappyEyeballs_8h_source.html">SocketHappyEyeballs.h</a>.</p>

</div>
</div>
<a id="ga5528f1e60147c0bb8dfa520faa03988e" name="ga5528f1e60147c0bb8dfa520faa03988e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5528f1e60147c0bb8dfa520faa03988e">&#9670;&#160;</a></span>SOCKET_MAX_EVENT_BATCH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SOCKET_MAX_EVENT_BATCH&#160;&#160;&#160;100</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximum number of events per batch. </p>

<p class="definition">Definition at line <a class="el" href="SocketConfig_8h_source.html#l01787">1787</a> of file <a class="el" href="SocketConfig_8h_source.html">SocketConfig.h</a>.</p>

</div>
</div>
<a id="ga0acb682b8260ab1c60b918599864e2e5" name="ga0acb682b8260ab1c60b918599864e2e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0acb682b8260ab1c60b918599864e2e5">&#9670;&#160;</a></span>T <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="group__utilities.html#ga24514489b0962fafe8414bfae95aa268">T</a>&#160;&#160;&#160;<a class="el" href="group__async__io.html#structSocketAsync__T">SocketAsync_T</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Opaque Happy Eyeballs context handle. </p>
<p>Represents an ongoing Happy Eyeballs connection attempt. Not thread-safe. Created by <a class="el" href="group__async__io.html#gaac613520b1e674db06e60155150fef63" title="Start asynchronous Happy Eyeballs connection.">SocketHappyEyeballs_start()</a> or internally in sync version.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__async__io.html#gaac613520b1e674db06e60155150fef63" title="Start asynchronous Happy Eyeballs connection.">SocketHappyEyeballs_start()</a> </dd>
<dd>
<a class="el" href="group__async__io.html#ga5426942471b0a00d69094f1c8787523f" title="Free the Happy Eyeballs context and release resources.">SocketHappyEyeballs_free()</a> </dd>
<dd>
<a class="el" href="group__async__io.html#ga0a9452621088791eecef4112e36e4176" title="Check if Happy Eyeballs operation is complete.">SocketHappyEyeballs_poll()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="SocketAsync_8h_source.html#l00102">102</a> of file <a class="el" href="SocketAsync_8h_source.html">SocketAsync.h</a>.</p>

</div>
</div>
<a id="ga0acb682b8260ab1c60b918599864e2e5" name="ga0acb682b8260ab1c60b918599864e2e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0acb682b8260ab1c60b918599864e2e5">&#9670;&#160;</a></span>T <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="group__utilities.html#ga24514489b0962fafe8414bfae95aa268">T</a>&#160;&#160;&#160;<a class="el" href="group__async__io.html#structSocketHE__T">SocketHE_T</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Opaque Happy Eyeballs context handle. </p>
<p>Represents an ongoing Happy Eyeballs connection attempt. Not thread-safe. Created by <a class="el" href="group__async__io.html#gaac613520b1e674db06e60155150fef63" title="Start asynchronous Happy Eyeballs connection.">SocketHappyEyeballs_start()</a> or internally in sync version.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__async__io.html#gaac613520b1e674db06e60155150fef63" title="Start asynchronous Happy Eyeballs connection.">SocketHappyEyeballs_start()</a> </dd>
<dd>
<a class="el" href="group__async__io.html#ga5426942471b0a00d69094f1c8787523f" title="Free the Happy Eyeballs context and release resources.">SocketHappyEyeballs_free()</a> </dd>
<dd>
<a class="el" href="group__async__io.html#ga0a9452621088791eecef4112e36e4176" title="Check if Happy Eyeballs operation is complete.">SocketHappyEyeballs_poll()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="SocketHappyEyeballs_8h_source.html#l00083">83</a> of file <a class="el" href="SocketHappyEyeballs_8h_source.html">SocketHappyEyeballs.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="gad6644a0c3153b65fa217ecbc45b5b8f9" name="gad6644a0c3153b65fa217ecbc45b5b8f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad6644a0c3153b65fa217ecbc45b5b8f9">&#9670;&#160;</a></span>SocketAsync_Callback</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* SocketAsync_Callback) (Socket_T socket, ssize_t bytes, int err, void *user_data)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Completion callback invoked when an async I/O operation finishes. </p>
<p>This callback type is used for both send and receive operations. It is called from the context of <a class="el" href="group__event__system.html#gaa3d47365dd18329d50ee636284839738" title="Block and wait for I/O events or timeout on registered sockets.">SocketPoll_wait()</a> (or manual <a class="el" href="group__async__io.html#ga1cc05d5d1dd032943b57a03da3061da7" title="Poll and process completed asynchronous I/O operations.">SocketAsync_process_completions()</a>) upon operation completion, delivering results and allowing further actions like resubmission for partial transfers or error recovery.</p>
<p>Callbacks should be lightweight to avoid blocking the event loop. Heavy processing should be offloaded to worker threads. Always check err for errors before using bytes.</p>
<p>Behavior:</p><ul>
<li>Success: err == 0, bytes &gt;= 0 (full or partial transfer)</li>
<li>EOF (recv only): err == 0, bytes == 0</li>
<li>Error: err != 0, bytes may be partial or -1 (check specific backend)</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">socket</td><td>The Socket_T on which the operation completed. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bytes</td><td>Number of bytes transferred: &gt;=0 success/partial/EOF, &lt;0 error indicator. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">err</td><td>0 on success, errno value on failure (e.g., ECONNRESET). Use strerror(err) or Socket_safe_strerror(err). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">user_data</td><td>Opaque user data provided at submission time.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Thread Safety\n Conditional - Invoked serially from the thread calling SocketPoll_wait()</dt><dd>or process_completions(). No concurrent invocations for same req, but multiple callbacks may interleave for different ops. Socket access in callback requires care if multi-threaded.</dd></dl>
<h2><a class="anchor" id="autotoc_md511"></a>
Example Implementation</h2>
<div class="fragment"><div class="line"><span class="comment">// Generic callback for send or recv</span></div>
<div class="line"><span class="keywordtype">void</span> async_io_complete(Socket_T socket, ssize_t bytes, <span class="keywordtype">int</span> err, <span class="keywordtype">void</span> *user_data) {</div>
<div class="line">    <span class="keywordflow">if</span> (err != 0) {</div>
<div class="line">        <span class="comment">// Error occurred</span></div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">char</span> *err_msg = (err &gt; 0) ? strerror(err) : <span class="stringliteral">&quot;Unknown error&quot;</span>;</div>
<div class="line">        <a class="code hl_define" href="SocketUtil_8h.html#a16642c35dec627aeb4976538671b1552">SOCKET_LOG_ERROR_MSG</a>(<span class="stringliteral">&quot;Async op failed: %s (err=%d)&quot;</span>, err_msg, err);</div>
<div class="line">        <span class="comment">// Common handling: close socket, cleanup user_data</span></div>
<div class="line">        <span class="keywordflow">if</span> (user_data) free(user_data);  <span class="comment">// e.g., buffer</span></div>
<div class="line">        <a class="code hl_function" href="group__core__io.html#ga74ad7a9bb8deaf499c59d90d6e411f37">Socket_free</a>(&amp;socket);</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (bytes == 0) {</div>
<div class="line">        <span class="comment">// EOF for recv - connection closed gracefully</span></div>
<div class="line">        <a class="code hl_define" href="SocketUtil_8h.html#a9fe70c7ab8b971af2971f3a102b82819">SOCKET_LOG_INFO_MSG</a>(<span class="stringliteral">&quot;Connection EOF on socket %d&quot;</span>, <a class="code hl_function" href="group__core__io.html#ga4d727948c677509eec04746585819877">Socket_fd</a>(socket));</div>
<div class="line">        <span class="keywordflow">if</span> (user_data) free(user_data);</div>
<div class="line">        <a class="code hl_function" href="group__core__io.html#ga74ad7a9bb8deaf499c59d90d6e411f37">Socket_free</a>(&amp;socket);</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Success: bytes &gt; 0</span></div>
<div class="line">    <a class="code hl_define" href="SocketUtil_8h.html#a7853a630bcaead9d41536ccbfd598f6d">SOCKET_LOG_DEBUG_MSG</a>(<span class="stringliteral">&quot;Transferred %zd bytes on socket %d&quot;</span>, bytes, <a class="code hl_function" href="group__core__io.html#ga4d727948c677509eec04746585819877">Socket_fd</a>(socket));</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// For partial transfer (bytes &lt; original len), resubmit remainder</span></div>
<div class="line">    <span class="comment">// Track state in user_data struct</span></div>
<div class="line">    AsyncState &lt;em&gt;<a class="code hl_variable" href="SocketHappyEyeballs-private_8h.html#a701136b6320d53560cfe228535884502">state</a> = (AsyncState *)user_data;</div>
<div class="line">    <a class="code hl_variable" href="SocketHappyEyeballs-private_8h.html#a701136b6320d53560cfe228535884502">state</a>-&gt;total_sent += bytes;</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code hl_variable" href="SocketHappyEyeballs-private_8h.html#a701136b6320d53560cfe228535884502">state</a>-&gt;total_sent &lt; <a class="code hl_variable" href="SocketHappyEyeballs-private_8h.html#a701136b6320d53560cfe228535884502">state</a>-&gt;total_len) {</div>
<div class="line">        <span class="comment">// Resubmit remaining</span></div>
<div class="line">        <a class="code hl_struct" href="group__async__io.html#structSocketAsync__T">SocketAsync_T</a> async = /&lt;/em&gt; retrieve async context */;</div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">void</span> *remaining_buf = (<span class="keywordtype">char</span> *)<a class="code hl_variable" href="SocketHappyEyeballs-private_8h.html#a701136b6320d53560cfe228535884502">state</a>-&gt;buf + <a class="code hl_variable" href="SocketHappyEyeballs-private_8h.html#a701136b6320d53560cfe228535884502">state</a>-&gt;total_sent;</div>
<div class="line">        <span class="keywordtype">size_t</span> remaining = <a class="code hl_variable" href="SocketHappyEyeballs-private_8h.html#a701136b6320d53560cfe228535884502">state</a>-&gt;total_len - <a class="code hl_variable" href="SocketHappyEyeballs-private_8h.html#a701136b6320d53560cfe228535884502">state</a>-&gt;total_sent;</div>
<div class="line">        <a class="code hl_function" href="group__async__io.html#gae0ecf4f023555d16b855d39841521f2b">SocketAsync_send</a>(async, socket, remaining_buf, remaining,</div>
<div class="line">                         async_io_complete, <a class="code hl_variable" href="SocketHappyEyeballs-private_8h.html#a701136b6320d53560cfe228535884502">state</a>, <a class="code hl_variable" href="SocketHappyEyeballs-private_8h.html#a701136b6320d53560cfe228535884502">state</a>-&gt;flags);</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="comment">// Complete - cleanup</span></div>
<div class="line">        free(user_data);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="aSocketHappyEyeballs-private_8h_html_a701136b6320d53560cfe228535884502"><div class="ttname"><a href="SocketHappyEyeballs-private_8h.html#a701136b6320d53560cfe228535884502">state</a></div><div class="ttdeci">SocketHE_AttemptState state</div><div class="ttdef"><b>Definition</b> <a href="SocketHappyEyeballs-private_8h_source.html#l00151">SocketHappyEyeballs-private.h:151</a></div></div>
<div class="ttc" id="aSocketUtil_8h_html_a16642c35dec627aeb4976538671b1552"><div class="ttname"><a href="SocketUtil_8h.html#a16642c35dec627aeb4976538671b1552">SOCKET_LOG_ERROR_MSG</a></div><div class="ttdeci">#define SOCKET_LOG_ERROR_MSG(fmt,...)</div><div class="ttdef"><b>Definition</b> <a href="SocketUtil_8h_source.html#l00502">SocketUtil.h:502</a></div></div>
<div class="ttc" id="aSocketUtil_8h_html_a7853a630bcaead9d41536ccbfd598f6d"><div class="ttname"><a href="SocketUtil_8h.html#a7853a630bcaead9d41536ccbfd598f6d">SOCKET_LOG_DEBUG_MSG</a></div><div class="ttdeci">#define SOCKET_LOG_DEBUG_MSG(fmt,...)</div><div class="ttdef"><b>Definition</b> <a href="SocketUtil_8h_source.html#l00490">SocketUtil.h:490</a></div></div>
<div class="ttc" id="aSocketUtil_8h_html_a9fe70c7ab8b971af2971f3a102b82819"><div class="ttname"><a href="SocketUtil_8h.html#a9fe70c7ab8b971af2971f3a102b82819">SOCKET_LOG_INFO_MSG</a></div><div class="ttdeci">#define SOCKET_LOG_INFO_MSG(fmt,...)</div><div class="ttdef"><b>Definition</b> <a href="SocketUtil_8h_source.html#l00494">SocketUtil.h:494</a></div></div>
<div class="ttc" id="agroup__core__io_html_ga4d727948c677509eec04746585819877"><div class="ttname"><a href="group__core__io.html#ga4d727948c677509eec04746585819877">Socket_fd</a></div><div class="ttdeci">int Socket_fd(const Socket_T socket)</div><div class="ttdoc">Get underlying file descriptor.</div></div>
<div class="ttc" id="agroup__core__io_html_ga74ad7a9bb8deaf499c59d90d6e411f37"><div class="ttname"><a href="group__core__io.html#ga74ad7a9bb8deaf499c59d90d6e411f37">Socket_free</a></div><div class="ttdeci">void Socket_free(Socket_T *socket)</div><div class="ttdoc">Dispose of a socket instance and close the underlying file descriptor.</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md512"></a>
Common Error Codes</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Error   </th><th class="markdownTableHeadNone">Meaning   </th><th class="markdownTableHeadNone">Action    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">0   </td><td class="markdownTableBodyNone">Success   </td><td class="markdownTableBodyNone">Process bytes    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">EAGAIN/EWOULDBLOCK   </td><td class="markdownTableBodyNone">No data (fallback)   </td><td class="markdownTableBodyNone">Retry later    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ECONNRESET   </td><td class="markdownTableBodyNone">Peer reset   </td><td class="markdownTableBodyNone">Close connection    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ETIMEDOUT   </td><td class="markdownTableBodyNone">Timeout   </td><td class="markdownTableBodyNone">Retry or fail    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ECANCELED   </td><td class="markdownTableBodyNone">Cancelled   </td><td class="markdownTableBodyNone">Cleanup    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ENOMEM   </td><td class="markdownTableBodyNone">Resource limit   </td><td class="markdownTableBodyNone">Backoff, retry   </td></tr>
</table>
<dl class="section note"><dt>Note</dt><dd>In fallback mode, application must manually invoke this callback after performing I/O with <a class="el" href="group__core__io.html#ga23ace6e065fe4b9a01db8caa6513515b" title="Send data.">Socket_send()</a>/Socket_recv(), simulating completion.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Do not perform blocking operations (e.g., malloc/large allocs, disk I/O) in callbacks - blocks entire event loop. Use queues to worker threads.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__async__io.html#gae0ecf4f023555d16b855d39841521f2b" title="Submit an asynchronous send operation on a socket.">SocketAsync_send()</a> - Submits ops using this callback type. </dd>
<dd>
<a class="el" href="group__async__io.html#ga46adb5a1db31901afa5d1d6514e41b64" title="Submit an asynchronous receive operation on a socket.">SocketAsync_recv()</a> - Receive-specific usage. </dd>
<dd>
<a class="el" href="group__foundation.html#ga46f8d730d28e8c5cbd55e3cbe4c83945" title="Socket_geterrorcode - Convert last errno to normalized SocketErrorCode.">Socket_geterrorcode()</a> - For detailed <a class="el" href="SocketHappyEyeballs-private_8h.html#a11614f44ef4d939bdd984953346a7572">error</a> info. </dd>
<dd>
<a class="el" href="ASYNC__IO_8md.html">docs/ASYNC_IO.md</a>#callback-best-practices - Optimization and pitfalls. </dd></dl>

<p class="definition">Definition at line <a class="el" href="SocketAsync_8h_source.html#l00260">260</a> of file <a class="el" href="SocketAsync_8h_source.html">SocketAsync.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="gae66259c675b6f9658c95d34e1fbfefdf" name="gae66259c675b6f9658c95d34e1fbfefdf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae66259c675b6f9658c95d34e1fbfefdf">&#9670;&#160;</a></span>SocketAsync_Flags</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__async__io.html#gae66259c675b6f9658c95d34e1fbfefdf">SocketAsync_Flags</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Bit flags to control behavior of asynchronous I/O operations. </p>
<p>Optional modifiers passed to <a class="el" href="group__async__io.html#gae0ecf4f023555d16b855d39841521f2b" title="Submit an asynchronous send operation on a socket.">SocketAsync_send()</a> and <a class="el" href="group__async__io.html#ga46adb5a1db31901afa5d1d6514e41b64" title="Submit an asynchronous receive operation on a socket.">SocketAsync_recv()</a> to enable performance optimizations or specific semantics. Flags are combined with bitwise OR. Unsupported flags on a given backend are silently ignored, falling back to default behavior without error.</p>
<p>Selection of flags should consider backend capabilities (query via <a class="el" href="group__async__io.html#gafae22c23e82d55f6fa3eaf74c0c37f5d" title="Retrieve the name of the active asynchronous backend.">SocketAsync_backend_name()</a> and <a class="el" href="group__async__io.html#ga0f304bcb93351c8555f9afa74fa9e665" title="Query if native asynchronous I/O backend is operational.">SocketAsync_is_available()</a>). For example, zero-copy requires native async support and compatible socket types (typically TCP).</p>
<h2><a class="anchor" id="autotoc_md513"></a>
Flag Support Matrix</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Flag   </th><th class="markdownTableHeadNone">io_uring (Linux 5.1+)   </th><th class="markdownTableHeadNone">kqueue (macOS/BSD)   </th><th class="markdownTableHeadNone">Edge-Triggered Fallback   </th><th class="markdownTableHeadNone">Notes    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ASYNC_FLAG_NONE   </td><td class="markdownTableBodyNone">Yes   </td><td class="markdownTableBodyNone">Yes   </td><td class="markdownTableBodyNone">Yes   </td><td class="markdownTableBodyNone">Default    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ASYNC_FLAG_ZERO_COPY   </td><td class="markdownTableBodyNone">Yes (SEND_ZC/RECV_ZC)   </td><td class="markdownTableBodyNone">No   </td><td class="markdownTableBodyNone">No   </td><td class="markdownTableBodyNone">Large payloads; TCP only    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ASYNC_FLAG_URGENT   </td><td class="markdownTableBodyNone">Yes (IOSQE_URGENT/IOLINK)   </td><td class="markdownTableBodyNone">Partial (priority queue)   </td><td class="markdownTableBodyNone">No   </td><td class="markdownTableBodyNone">Low-latency small ops   </td></tr>
</table>
<dl class="section warning"><dt>Warning</dt><dd>Combining incompatible flags may degrade performance or fail silently. Always test with target backend.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__async__io.html#gae0ecf4f023555d16b855d39841521f2b" title="Submit an asynchronous send operation on a socket.">SocketAsync_send()</a> - Usage in send operations. </dd>
<dd>
<a class="el" href="group__async__io.html#ga46adb5a1db31901afa5d1d6514e41b64" title="Submit an asynchronous receive operation on a socket.">SocketAsync_recv()</a> - Usage in receive operations. </dd>
<dd>
<a class="el" href="group__async__io.html#ga0f304bcb93351c8555f9afa74fa9e665" title="Query if native asynchronous I/O backend is operational.">SocketAsync_is_available()</a> - Check native async support for advanced flags. </dd>
<dd>
<a class="el" href="group__async__io.html#gafae22c23e82d55f6fa3eaf74c0c37f5d" title="Retrieve the name of the active asynchronous backend.">SocketAsync_backend_name()</a> - Identify current backend for flag compatibility. </dd>
<dd>
<a class="el" href="ASYNC__IO_8md.html">docs/ASYNC_IO.md</a>#performance-tuning - Backend-specific optimizations. </dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggae66259c675b6f9658c95d34e1fbfefdfa3b607e56f470ff08783c2f3385c1041c" name="ggae66259c675b6f9658c95d34e1fbfefdfa3b607e56f470ff08783c2f3385c1041c"></a>ASYNC_FLAG_NONE&#160;</td><td class="fielddoc"><p>Default operation with no special features enabled. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggae66259c675b6f9658c95d34e1fbfefdfa5b1a5dc7d9ed8ace5643e4cef11cb50d" name="ggae66259c675b6f9658c95d34e1fbfefdfa5b1a5dc7d9ed8ace5643e4cef11cb50d"></a>ASYNC_FLAG_ZERO_COPY&#160;</td><td class="fielddoc"><p>Request zero-copy I/O to minimize data copying. </p>
<p>Utilizes efficient kernel mechanisms to send/receive without unnecessary user-space copies. Examples:</p><ul>
<li>Linux io_uring: IORING_OP_SEND_ZC / IORING_OP_RECV_ZC</li>
<li>sendfile(2) or splice(2) for file/socket transfers</li>
</ul>
<p>Fallback to conventional buffered I/O if not supported (small data, opts). </p><dl class="section note"><dt>Note</dt><dd>Best for large payloads; small data may incur overhead. Requires compatible socket (TCP) and system calls. </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="ggae66259c675b6f9658c95d34e1fbfefdfaf08a13c5b932be67e3f0ed7de0499ef8" name="ggae66259c675b6f9658c95d34e1fbfefdfaf08a13c5b932be67e3f0ed7de0499ef8"></a>ASYNC_FLAG_URGENT&#160;</td><td class="fielddoc"><p>Mark operation for urgent or linked processing. </p>
<p>Optimizes for low latency by prioritizing or chaining the operation:</p><ul>
<li>io_uring: IOSQE_IO_LINK or IOSQE_IO_URING_LINK for sequencing</li>
<li>Other: May use high-priority queues or immediate dispatch</li>
</ul>
<p>Suitable for time-critical small messages (e.g., ACKs, probes) in high-throughput scenarios. </p><dl class="section note"><dt>Note</dt><dd>Semantics backend-dependent; may be noop if unsupported. </dd></dl>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="SocketAsync_8h_source.html#l00293">293</a> of file <a class="el" href="SocketAsync_8h_source.html">SocketAsync.h</a>.</p>

</div>
</div>
<a id="ga9ceb0606fea5b72366bbd21ff047c84f" name="ga9ceb0606fea5b72366bbd21ff047c84f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9ceb0606fea5b72366bbd21ff047c84f">&#9670;&#160;</a></span>SocketHE_AttemptState</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__async__io.html#ga9ceb0606fea5b72366bbd21ff047c84f">SocketHE_AttemptState</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>State enumeration for individual Happy Eyeballs connection attempts. </p>
<p>Defines discrete states tracking the lifecycle of a single parallel connect(2) attempt within the RFC 8305 racing algorithm. Used to determine readiness for I/O, winner selection, or cleanup. Transitions occur during <a class="el" href="group__async__io.html#ga84e7ceec1f0f61c40664e76db29336de" title="Process events and advance the Happy Eyeballs state machine.">SocketHappyEyeballs_process()</a> based on poll events, timeouts, and system call results.</p>
<p>State Progression:</p><ul>
<li>HE_ATTEMPT_IDLE: Initial state; attempt allocated but connect(2) not yet called.</li>
<li>HE_ATTEMPT_CONNECTING: Non-blocking connect(2) initiated; pending completion signal.</li>
<li>HE_ATTEMPT_CONNECTED: connect(2) succeeded (no error); socket ready for use.</li>
<li>HE_ATTEMPT_FAILED: Attempt aborted due to error, timeout, or cancellation.</li>
</ul>
<p>Transitions:</p><ul>
<li>IDLE → CONNECTING: When address selected and socket created/connect started.</li>
<li>CONNECTING → CONNECTED: Poll detects writability without error or getsockopt(SO_ERROR)==0.</li>
<li>CONNECTING → FAILED: Poll error, timeout expiry, or connect errno != EINPROGRESS.</li>
<li>CONNECTED/FAILED → IDLE or destroyed: After winner selection or cleanup phase.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Only one transition per process() cycle per attempt for determinism. </dd>
<dd>
FAILED state preserves specific errno in attempt::error for root cause analysis. </dd>
<dd>
No "PARTIAL" or TLS-specific states; focused on TCP connect phase only. </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>State races undefined if accessed concurrently outside owning thread.</dd></dl>
<dl class="section see"><dt>See also</dt><dd>SocketHE_Attempt_T::state for per-attempt storage and updates. </dd>
<dd>
<a class="el" href="group__async__io.html#ada23c08d9d2867a7f02b9e7f03697fae">SocketHE_T::attempts</a> for list of attempts sharing this enum. </dd>
<dd>
<a class="el" href="group__async__io.html#ga84e7ceec1f0f61c40664e76db29336de" title="Process events and advance the Happy Eyeballs state machine.">SocketHappyEyeballs_process()</a> for advancement logic. </dd>
<dd>
<a class="el" href="group__async__io.html#gac1b193256ec44f27e6f0f307b0c2e524" title="State enumeration for Happy Eyeballs connection progress.">SocketHE_State</a> for higher-level operation states. </dd>
<dd>
<a class="el" href="ASYNC__IO_8md.html">docs/ASYNC_IO.md</a>#connection-attempt-states for visual <a class="el" href="SocketHappyEyeballs-private_8h.html#a701136b6320d53560cfe228535884502">state</a> diagram. </dd>
<dd>
<a class="el" href="group__foundation.html#ga264bfa9d1cf07aa22446a4df6c4936bf" title="Socket_get_monotonic_ms - Get current monotonic time in milliseconds.">Socket_get_monotonic_ms()</a> for timeout calculations involving states. </dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga9ceb0606fea5b72366bbd21ff047c84fae389b7235795d6a11ee400bbd9eb6ce7" name="gga9ceb0606fea5b72366bbd21ff047c84fae389b7235795d6a11ee400bbd9eb6ce7"></a>HE_ATTEMPT_IDLE&#160;</td><td class="fielddoc"><p>Attempt not yet started. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga9ceb0606fea5b72366bbd21ff047c84fac1a55c64fa6e20e19d9f9b9f4b776592" name="gga9ceb0606fea5b72366bbd21ff047c84fac1a55c64fa6e20e19d9f9b9f4b776592"></a>HE_ATTEMPT_CONNECTING&#160;</td><td class="fielddoc"><p>Non-blocking connect(2) in progress. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga9ceb0606fea5b72366bbd21ff047c84faf6667ecfa556f9d6ff3fcf80aa8bdd72" name="gga9ceb0606fea5b72366bbd21ff047c84faf6667ecfa556f9d6ff3fcf80aa8bdd72"></a>HE_ATTEMPT_CONNECTED&#160;</td><td class="fielddoc"><p><a class="el" href="group__connection__mgmt.html#structConnection" title="Internal structure representing a pooled connection slot.">Connection</a> successfully established. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga9ceb0606fea5b72366bbd21ff047c84faefa9d91f6d5fa3393216eaefc01af056" name="gga9ceb0606fea5b72366bbd21ff047c84faefa9d91f6d5fa3393216eaefc01af056"></a>HE_ATTEMPT_FAILED&#160;</td><td class="fielddoc"><p><a class="el" href="group__connection__mgmt.html#structConnection" title="Internal structure representing a pooled connection slot.">Connection</a> attempt failed (error or timeout). </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="SocketHappyEyeballs-private_8h_source.html#l00095">95</a> of file <a class="el" href="SocketHappyEyeballs-private_8h_source.html">SocketHappyEyeballs-private.h</a>.</p>

</div>
</div>
<a id="gac1b193256ec44f27e6f0f307b0c2e524" name="gac1b193256ec44f27e6f0f307b0c2e524"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac1b193256ec44f27e6f0f307b0c2e524">&#9670;&#160;</a></span>SocketHE_State</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__async__io.html#gac1b193256ec44f27e6f0f307b0c2e524">SocketHE_State</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>State enumeration for Happy Eyeballs connection progress. </p>
<p>State machine transitions: IDLE -&gt; RESOLVING -&gt; CONNECTING -&gt; CONNECTED (success) -&gt; FAILED (all attempts failed) Any state -&gt; CANCELLED (explicit cancel)</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__async__io.html#ga3307a26e1e23ff4be5d2e33895e6ae79" title="Get the current state of the Happy Eyeballs operation.">SocketHappyEyeballs_state()</a> to query current <a class="el" href="SocketHappyEyeballs-private_8h.html#a701136b6320d53560cfe228535884502">state</a>. </dd>
<dd>
<a class="el" href="group__async__io.html#gaac613520b1e674db06e60155150fef63" title="Start asynchronous Happy Eyeballs connection.">SocketHappyEyeballs_start()</a>, <a class="el" href="group__async__io.html#ga0a9452621088791eecef4112e36e4176" title="Check if Happy Eyeballs operation is complete.">SocketHappyEyeballs_poll()</a> for <a class="el" href="SocketHappyEyeballs-private_8h.html#a701136b6320d53560cfe228535884502">state</a> changes. </dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggac1b193256ec44f27e6f0f307b0c2e524a12a52375165d28d6f3de5737a90c9f97" name="ggac1b193256ec44f27e6f0f307b0c2e524a12a52375165d28d6f3de5737a90c9f97"></a>HE_STATE_IDLE&#160;</td><td class="fielddoc"><p>Not started, waiting for process() </p>
</td></tr>
<tr><td class="fieldname"><a id="ggac1b193256ec44f27e6f0f307b0c2e524ab70cde7846b5284942af2d54f407df8e" name="ggac1b193256ec44f27e6f0f307b0c2e524ab70cde7846b5284942af2d54f407df8e"></a>HE_STATE_RESOLVING&#160;</td><td class="fielddoc"><p>DNS resolution in progress </p>
</td></tr>
<tr><td class="fieldname"><a id="ggac1b193256ec44f27e6f0f307b0c2e524a710fbd21ce364cf129054158e14106f2" name="ggac1b193256ec44f27e6f0f307b0c2e524a710fbd21ce364cf129054158e14106f2"></a>HE_STATE_CONNECTING&#160;</td><td class="fielddoc"><p><a class="el" href="group__connection__mgmt.html#structConnection" title="Internal structure representing a pooled connection slot.">Connection</a> attempts in progress </p>
</td></tr>
<tr><td class="fieldname"><a id="ggac1b193256ec44f27e6f0f307b0c2e524afc61138380fa654235b963249af25d21" name="ggac1b193256ec44f27e6f0f307b0c2e524afc61138380fa654235b963249af25d21"></a>HE_STATE_CONNECTED&#160;</td><td class="fielddoc"><p>Successfully connected (call result()) </p>
</td></tr>
<tr><td class="fieldname"><a id="ggac1b193256ec44f27e6f0f307b0c2e524a4c6d8bc45fa1b7e19329162553fa9519" name="ggac1b193256ec44f27e6f0f307b0c2e524a4c6d8bc45fa1b7e19329162553fa9519"></a>HE_STATE_FAILED&#160;</td><td class="fielddoc"><p>All attempts failed (call <a class="el" href="SocketHappyEyeballs-private_8h.html#a11614f44ef4d939bdd984953346a7572">error()</a>) </p>
</td></tr>
<tr><td class="fieldname"><a id="ggac1b193256ec44f27e6f0f307b0c2e524a888ca7f61cc029908d4ef63b7ca96bd8" name="ggac1b193256ec44f27e6f0f307b0c2e524a888ca7f61cc029908d4ef63b7ca96bd8"></a>HE_STATE_CANCELLED&#160;</td><td class="fielddoc"><p>Operation cancelled by user </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="SocketHappyEyeballs_8h_source.html#l00115">115</a> of file <a class="el" href="SocketHappyEyeballs_8h_source.html">SocketHappyEyeballs.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gafae22c23e82d55f6fa3eaf74c0c37f5d" name="gafae22c23e82d55f6fa3eaf74c0c37f5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafae22c23e82d55f6fa3eaf74c0c37f5d">&#9670;&#160;</a></span>SocketAsync_backend_name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char * SocketAsync_backend_name </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__async__io.html#structSocketAsync__T">SocketAsync_T</a>&#160;</td>
          <td class="paramname"><em>async</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieve the name of the active asynchronous backend. </p>
<p>Returns a static string identifying the underlying async I/O mechanism. Useful for logging, configuration, or conditional logic based on capabilities.</p>
<p>Possible values:</p><ul>
<li>"io_uring": Linux kernel 5.1+ true async with zero-copy</li>
<li>"kqueue": BSD/macOS AIO or edge-triggered</li>
<li>"poll": Generic POSIX fallback (edge-triggered polling)</li>
<li>"unknown": Init failure or unhandled platform</li>
</ul>
<p>String is statically allocated - do not free or modify.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">async</td><td>Const async context to query.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Const char* backend name (never NULL).</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">None.</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Thread Safety\n Yes - Returns static string, safe concurrent reads.</dt><dd></dd></dl>
<h2><a class="anchor" id="autotoc_md530"></a>
Usage Example</h2>
<div class="fragment"><div class="line"><a class="code hl_struct" href="group__async__io.html#structSocketAsync__T">SocketAsync_T</a> async = <span class="comment">/* created */</span>;</div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span> *backend = <a class="code hl_function" href="group__async__io.html#gafae22c23e82d55f6fa3eaf74c0c37f5d">SocketAsync_backend_name</a>(async);</div>
<div class="line">printf(<span class="stringliteral">&quot;Using backend: %s (available: %s)\n&quot;</span>,</div>
<div class="line">       backend,</div>
<div class="line">       <a class="code hl_function" href="group__async__io.html#ga0f304bcb93351c8555f9afa74fa9e665">SocketAsync_is_available</a>(async) ? <span class="stringliteral">&quot;yes&quot;</span> : <span class="stringliteral">&quot;no (fallback)&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (strcmp(backend, <span class="stringliteral">&quot;io_uring&quot;</span>) == 0) {</div>
<div class="line">    <span class="comment">// Enable io_uring-specific optimizations</span></div>
<div class="line">}</div>
<div class="ttc" id="agroup__async__io_html_ga0f304bcb93351c8555f9afa74fa9e665"><div class="ttname"><a href="group__async__io.html#ga0f304bcb93351c8555f9afa74fa9e665">SocketAsync_is_available</a></div><div class="ttdeci">int SocketAsync_is_available(const SocketAsync_T async)</div><div class="ttdoc">Query if native asynchronous I/O backend is operational.</div></div>
<div class="ttc" id="agroup__async__io_html_gafae22c23e82d55f6fa3eaf74c0c37f5d"><div class="ttname"><a href="group__async__io.html#gafae22c23e82d55f6fa3eaf74c0c37f5d">SocketAsync_backend_name</a></div><div class="ttdeci">const char * SocketAsync_backend_name(const SocketAsync_T async)</div><div class="ttdoc">Retrieve the name of the active asynchronous backend.</div></div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>Backend name is set at initialization and immutable. Does not reflect runtime errors.</dd></dl>
<dl class="section user"><dt>Complexity\n O(1) - Direct string return.</dt><dd></dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__async__io.html#ga0f304bcb93351c8555f9afa74fa9e665" title="Query if native asynchronous I/O backend is operational.">SocketAsync_is_available()</a> - Complement: check <a class="el" href="group__reconnect__private.html#ga0450dbfcd56214ed2989e6ff4d97b25d" title="Generate uniform random double in [0.0, 1.0) for jitter in backoff calculations.">if</a> native/full features. </dd>
<dd>
<a class="el" href="group__async__io.html#gae66259c675b6f9658c95d34e1fbfefdf" title="Bit flags to control behavior of asynchronous I/O operations.">SocketAsync_Flags</a> - Backend determines supported flags. </dd>
<dd>
<a class="el" href="ASYNC__IO_8md.html">docs/ASYNC_IO.md</a>#platform-support - Backend details and requirements. </dd></dl>

</div>
</div>
<a id="ga275aefb76cdeb48b9b9330a777a2bb8c" name="ga275aefb76cdeb48b9b9330a777a2bb8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga275aefb76cdeb48b9b9330a777a2bb8c">&#9670;&#160;</a></span>SocketAsync_cancel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int SocketAsync_cancel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__async__io.html#structSocketAsync__T">SocketAsync_T</a>&#160;</td>
          <td class="paramname"><em>async</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>request_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cancel a pending asynchronous I/O operation by request ID. </p>
<p>Attempts to cancel a previously submitted operation (send or recv). If successful, the operation is aborted, and the callback is eventually invoked with err = ECANCELED (or equivalent). Cancellation is asynchronous and best-effort: the operation may complete normally before cancellation propagates to the backend, or in-flight kernel ops may finish despite cancel request.</p>
<p>Useful for timeouts, connection closure, or resource cleanup. After cancel, the request ID is invalidated and cannot be cancelled again.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">async</td><td>The async context managing the operation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">request_id</td><td>ID returned from <a class="el" href="group__async__io.html#gae0ecf4f023555d16b855d39841521f2b" title="Submit an asynchronous send operation on a socket.">SocketAsync_send()</a> or <a class="el" href="group__async__io.html#ga46adb5a1db31901afa5d1d6514e41b64" title="Submit an asynchronous receive operation on a socket.">SocketAsync_recv()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if cancel request accepted (may still complete), -1 if invalid ID or already done.</dd></dl>
<h2><a class="anchor" id="autotoc_md524"></a>
Return Values</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Value   </th><th class="markdownTableHeadNone">Meaning    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">0   </td><td class="markdownTableBodyNone">Cancel initiated (check callback for ECANCELED confirmation)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">-1   </td><td class="markdownTableBodyNone">Request not found, already completed/cancelled, or invalid ID   </td></tr>
</table>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">None</td><td>- Non-throwing; returns -1 on errors.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Thread Safety\n Yes - Atomic operation with internal locking.</dt><dd></dd></dl>
<h2><a class="anchor" id="autotoc_md525"></a>
Usage Example</h2>
<div class="fragment"><div class="line"><span class="comment">// Cancel a pending request (e.g., on timeout)</span></div>
<div class="line"><span class="keywordtype">unsigned</span> req_id = <span class="comment">/* from send/recv */</span>;</div>
<div class="line"><span class="keywordtype">int</span> cancelled = <a class="code hl_function" href="group__async__io.html#ga275aefb76cdeb48b9b9330a777a2bb8c">SocketAsync_cancel</a>(async, req_id);</div>
<div class="line"><span class="keywordflow">if</span> (cancelled == 0) {</div>
<div class="line">    printf(<span class="stringliteral">&quot;Cancel requested for req %u\n&quot;</span>, req_id);</div>
<div class="line">    <span class="comment">// Callback will receive err == ECANCELED</span></div>
<div class="line">} <span class="keywordflow">else</span> {</div>
<div class="line">    printf(<span class="stringliteral">&quot;Cancel failed: req %u not pending\n&quot;</span>, req_id);</div>
<div class="line">}</div>
<div class="ttc" id="agroup__async__io_html_ga275aefb76cdeb48b9b9330a777a2bb8c"><div class="ttname"><a href="group__async__io.html#ga275aefb76cdeb48b9b9330a777a2bb8c">SocketAsync_cancel</a></div><div class="ttdeci">int SocketAsync_cancel(SocketAsync_T async, unsigned request_id)</div><div class="ttdoc">Cancel a pending asynchronous I/O operation by request ID.</div></div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>Even after successful cancel (return 0), the callback may fire with success if completion raced with cancel. Always check err in callback for ECANCELED.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Frequent cancels may impact performance due to backend overhead (e.g., io_uring CQE signaling).</dd></dl>
<dl class="section user"><dt>Complexity\n O(1) average - Hash table lookup for request; worst O(n) if collisions.</dt><dd></dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__async__io.html#gae0ecf4f023555d16b855d39841521f2b" title="Submit an asynchronous send operation on a socket.">SocketAsync_send()</a> - Obtains request_id to cancel. </dd>
<dd>
<a class="el" href="group__async__io.html#ga46adb5a1db31901afa5d1d6514e41b64" title="Submit an asynchronous receive operation on a socket.">SocketAsync_recv()</a> - Similar for recv ops. </dd>
<dd>
<a class="el" href="group__async__io.html#gad6644a0c3153b65fa217ecbc45b5b8f9" title="Completion callback invoked when an async I/O operation finishes.">SocketAsync_Callback</a> - Handles ECANCELED in err param. </dd>
<dd>
<a class="el" href="group__async__io.html#ga0d3a7b456b962c6abf4dfd91859492e0" title="Destroy an asynchronous I/O context and release associated resources.">SocketAsync_free()</a> - Cancels all pending on context destruction. </dd>
<dd>
<a class="el" href="ASYNC__IO_8md.html">docs/ASYNC_IO.md</a>#cancellation - Best practices and race conditions. </dd></dl>

</div>
</div>
<a id="ga0d3a7b456b962c6abf4dfd91859492e0" name="ga0d3a7b456b962c6abf4dfd91859492e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0d3a7b456b962c6abf4dfd91859492e0">&#9670;&#160;</a></span>SocketAsync_free()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SocketAsync_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__async__io.html#structSocketAsync__T">SocketAsync_T</a> *&#160;</td>
          <td class="paramname"><em>async</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destroy an asynchronous I/O context and release associated resources. </p>
<p>Cleans up the async I/O context, freeing platform-specific resources such as io_uring rings, kqueue file descriptors, or internal polling structures. Any pending operations are cancelled, and their callbacks may be invoked with an error code indicating cancellation (e.g., ECANCELED or EINTR).</p>
<p>This function is idempotent and safe to call multiple times or with NULL. Internal synchronization ensures thread-safety during cleanup.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">async</td><td>Pointer to the <a class="el" href="group__async__io.html#structSocketAsync__T" title="Core structure for asynchronous I/O context management.">SocketAsync_T</a> instance. Set to NULL on success.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">None</td><td>- Does not throw exceptions; errors are logged internally if cleanup fails.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Thread Safety\n Yes - Can be called concurrently from any thread. Cancels pending operations</dt><dd>atomically and waits for in-flight operations where necessary. However, avoid concurrent calls with active submissions for best performance.</dd></dl>
<h2><a class="anchor" id="autotoc_md516"></a>
Usage Example</h2>
<div class="fragment"><div class="line"><span class="comment">// Paired with SocketAsync_new() for standalone context</span></div>
<div class="line"><a class="code hl_typedef" href="group__foundation.html#gac1ed22b9df4eff7a3398cac608c090cc">Arena_T</a> arena = <a class="code hl_function" href="group__foundation.html#ga6a6d6890eb6ed1248ae1a5f0c677c7a4">Arena_new</a>();</div>
<div class="line"><a class="code hl_struct" href="group__async__io.html#structSocketAsync__T">SocketAsync_T</a> async;</div>
<div class="line"><a class="code hl_define" href="group__foundation.html#gad2746371528bdf15c3910b7bf217dac0">TRY</a> {</div>
<div class="line">    async = <a class="code hl_function" href="group__async__io.html#ga1c4916e173cffa9153c983a4fd0d0d56">SocketAsync_new</a>(arena);</div>
<div class="line">    <span class="comment">// ... use async for send/recv operations ...</span></div>
<div class="line">} <a class="code hl_define" href="group__foundation.html#ga0e2a75478cd44f1666a6aca626c5c50b">FINALLY</a> {</div>
<div class="line">    <a class="code hl_function" href="group__async__io.html#ga0d3a7b456b962c6abf4dfd91859492e0">SocketAsync_free</a>(&amp;async);  <span class="comment">// Cancels pending ops, invokes callbacks with error</span></div>
<div class="line">} <a class="code hl_define" href="group__foundation.html#gae6628ac788ad213363b89dba9868420b">END_TRY</a>;</div>
<div class="line"><a class="code hl_function" href="group__foundation.html#ga6842e66018614df08139e67826cf3e0d">Arena_dispose</a>(&amp;arena);</div>
<div class="ttc" id="agroup__foundation_html_ga0e2a75478cd44f1666a6aca626c5c50b"><div class="ttname"><a href="group__foundation.html#ga0e2a75478cd44f1666a6aca626c5c50b">FINALLY</a></div><div class="ttdeci">#define FINALLY</div><div class="ttdoc">Define cleanup code that executes regardless of exceptions.</div><div class="ttdef"><b>Definition</b> <a href="Except_8h_source.html#l01251">Except.h:1251</a></div></div>
<div class="ttc" id="agroup__foundation_html_gad2746371528bdf15c3910b7bf217dac0"><div class="ttname"><a href="group__foundation.html#gad2746371528bdf15c3910b7bf217dac0">TRY</a></div><div class="ttdeci">#define TRY</div><div class="ttdoc">Start a TRY/EXCEPT/FINALLY exception handling block.</div><div class="ttdef"><b>Definition</b> <a href="Except_8h_source.html#l00927">Except.h:927</a></div></div>
<div class="ttc" id="agroup__foundation_html_gae6628ac788ad213363b89dba9868420b"><div class="ttname"><a href="group__foundation.html#gae6628ac788ad213363b89dba9868420b">END_TRY</a></div><div class="ttdeci">#define END_TRY</div><div class="ttdoc">Complete a TRY/EXCEPT/FINALLY exception handling block.</div><div class="ttdef"><b>Definition</b> <a href="Except_8h_source.html#l01358">Except.h:1358</a></div></div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>If the async context was obtained via <a class="el" href="group__event__system.html#ga665b3363d16ab859ec60e69a792d1ff0" title="Get async I/O context associated with poll instance.">SocketPoll_get_async()</a>, do NOT call this function directly. The poll instance manages the lifetime - free the SocketPoll_T instead to avoid double-free or resource leaks.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Pending callbacks may execute after free() returns, with error codes. Ensure callback code handles cancellation gracefully (check err != 0).</dd></dl>
<dl class="section user"><dt>Complexity\n O(P) where P is number of pending operations - time to cancel and notify.</dt><dd></dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__async__io.html#ga1c4916e173cffa9153c983a4fd0d0d56" title="Create a new standalone asynchronous I/O context.">SocketAsync_new()</a> - Creation counterpart. </dd>
<dd>
<a class="el" href="group__async__io.html#ga275aefb76cdeb48b9b9330a777a2bb8c" title="Cancel a pending asynchronous I/O operation by request ID.">SocketAsync_cancel()</a> - Cancel specific operations before full cleanup. </dd>
<dd>
<a class="el" href="group__event__system.html#ga665b3363d16ab859ec60e69a792d1ff0" title="Get async I/O context associated with poll instance.">SocketPoll_get_async()</a> - For poll-managed contexts (preferred). </dd>
<dd>
<a class="el" href="group__async__io.html#ga1cc05d5d1dd032943b57a03da3061da7" title="Poll and process completed asynchronous I/O operations.">SocketAsync_process_completions()</a> - Flush completions before free <a class="el" href="group__reconnect__private.html#ga0450dbfcd56214ed2989e6ff4d97b25d" title="Generate uniform random double in [0.0, 1.0) for jitter in backoff calculations.">if</a> needed. </dd>
<dd>
<a class="el" href="ASYNC__IO_8md.html">docs/ASYNC_IO.md</a> - Resource management best practices. </dd></dl>

</div>
</div>
<a id="ga0f304bcb93351c8555f9afa74fa9e665" name="ga0f304bcb93351c8555f9afa74fa9e665"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0f304bcb93351c8555f9afa74fa9e665">&#9670;&#160;</a></span>SocketAsync_is_available()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int SocketAsync_is_available </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__async__io.html#structSocketAsync__T">SocketAsync_T</a>&#160;</td>
          <td class="paramname"><em>async</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Query if native asynchronous I/O backend is operational. </p>
<p>Returns whether the async context uses a true asynchronous backend (e.g., io_uring, kqueue AIO) or fallback mode (edge-triggered polling with manual I/O). Native async enables kernel-level async processing, zero-copy, and higher throughput.</p>
<p>Fallback mode (return 0) means operations are queued but require manual completion via <a class="el" href="group__core__io.html#ga23ace6e065fe4b9a01db8caa6513515b" title="Send data.">Socket_send()</a>/recv() in events, simulating async behavior. Flags like zero-copy are unavailable in fallback.</p>
<p>Call this after <a class="el" href="group__async__io.html#ga1c4916e173cffa9153c983a4fd0d0d56" title="Create a new standalone asynchronous I/O context.">SocketAsync_new()</a> to determine capabilities and adjust application logic (e.g., enable/disable optimizations).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">async</td><td>Const reference to async context.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if native async I/O available and initialized, 0 if fallback or error.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">None.</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Thread Safety\n Yes - Read-only query.</dt><dd></dd></dl>
<h2><a class="anchor" id="autotoc_md529"></a>
Usage Example</h2>
<div class="fragment"><div class="line"><a class="code hl_struct" href="group__async__io.html#structSocketAsync__T">SocketAsync_T</a> async = <a class="code hl_function" href="group__async__io.html#ga1c4916e173cffa9153c983a4fd0d0d56">SocketAsync_new</a>(arena);</div>
<div class="line"><span class="keywordflow">if</span> (<a class="code hl_function" href="group__async__io.html#ga0f304bcb93351c8555f9afa74fa9e665">SocketAsync_is_available</a>(async)) {</div>
<div class="line">    printf(<span class="stringliteral">&quot;Native async supported\n&quot;</span>);</div>
<div class="line">    <span class="comment">// Enable advanced features like zero-copy</span></div>
<div class="line">} <span class="keywordflow">else</span> {</div>
<div class="line">    printf(<span class="stringliteral">&quot;Fallback mode - manual I/O required\n&quot;</span>);</div>
<div class="line">    <span class="comment">// Adjust for lower performance</span></div>
<div class="line">}</div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span> *backend = <a class="code hl_function" href="group__async__io.html#gafae22c23e82d55f6fa3eaf74c0c37f5d">SocketAsync_backend_name</a>(async);</div>
<div class="line">printf(<span class="stringliteral">&quot;Backend: %s\n&quot;</span>, backend);</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>Availability checked at init time; may change if backend fails (rare). Re-check after errors in process_completions().</dd></dl>
<dl class="section user"><dt>Complexity\n O(1) - Simple state check.</dt><dd></dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__async__io.html#gafae22c23e82d55f6fa3eaf74c0c37f5d" title="Retrieve the name of the active asynchronous backend.">SocketAsync_backend_name()</a> - Get specific backend details. </dd>
<dd>
<a class="el" href="group__async__io.html#gae66259c675b6f9658c95d34e1fbfefdf" title="Bit flags to control behavior of asynchronous I/O operations.">SocketAsync_Flags</a> - Flags requiring native support (e.g., ZERO_COPY). </dd>
<dd>
<a class="el" href="ASYNC__IO_8md.html">docs/ASYNC_IO.md</a>#fallback-mode - Handling and limitations. </dd></dl>

</div>
</div>
<a id="ga1c4916e173cffa9153c983a4fd0d0d56" name="ga1c4916e173cffa9153c983a4fd0d0d56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1c4916e173cffa9153c983a4fd0d0d56">&#9670;&#160;</a></span>SocketAsync_new()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__async__io.html#structSocketAsync__T">SocketAsync_T</a> SocketAsync_new </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__foundation.html#gac1ed22b9df4eff7a3398cac608c090cc">Arena_T</a>&#160;</td>
          <td class="paramname"><em>arena</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a new standalone asynchronous I/O context. </p>
<p>Creates and initializes a platform-optimized asynchronous I/O backend for high-performance, non-blocking send and receive operations. The backend automatically selects the best available mechanism based on the platform:</p><ul>
<li>Linux (kernel 5.1+): io_uring for true async I/O with zero-copy support</li>
<li>macOS/FreeBSD: kqueue with edge-triggered polling and AIO where available</li>
<li>Other POSIX: Fallback to efficient edge-triggered polling</li>
</ul>
<p>Standalone contexts require manual calls to <a class="el" href="group__async__io.html#ga1cc05d5d1dd032943b57a03da3061da7" title="Poll and process completed asynchronous I/O operations.">SocketAsync_process_completions()</a> to poll for and process operation completions. This mode is suitable for custom event loops or testing. For production event-driven applications, prefer <a class="el" href="group__event__system.html#ga665b3363d16ab859ec60e69a792d1ff0" title="Get async I/O context associated with poll instance.">SocketPoll_get_async()</a> which integrates seamlessly with <a class="el" href="group__event__system.html#gaa3d47365dd18329d50ee636284839738" title="Block and wait for I/O events or timeout on registered sockets.">SocketPoll_wait()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">arena</td><td>Arena_T used for internal memory allocations. The arena must outlive the lifetime of the async context to avoid use-after-free issues.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>New <a class="el" href="group__async__io.html#structSocketAsync__T" title="Core structure for asynchronous I/O context management.">SocketAsync_T</a> instance, ready for operation submission.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">SocketAsync_Failed</td><td>On backend initialization failure, including:<ul>
<li>System resource limits (e.g., RLIMIT_NOFILE too low)</li>
<li>Insufficient privileges (e.g., io_uring requires CAP_SYS_NICE on some setups)</li>
<li>Unsupported kernel version or missing libraries (e.g., liburing)</li>
<li>Memory allocation failures via arena</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Thread Safety\n Yes - creation is thread-safe; resulting context supports concurrent submission</dt><dd>and processing from multiple threads via internal synchronization.</dd></dl>
<h2><a class="anchor" id="autotoc_md514"></a>
Usage Example: Standalone Context</h2>
<div class="fragment"><div class="line"><span class="comment">// Standalone usage - requires manual completion processing</span></div>
<div class="line"><a class="code hl_typedef" href="group__foundation.html#gac1ed22b9df4eff7a3398cac608c090cc">Arena_T</a> arena = <a class="code hl_function" href="group__foundation.html#ga6a6d6890eb6ed1248ae1a5f0c677c7a4">Arena_new</a>();</div>
<div class="line"><a class="code hl_struct" href="group__async__io.html#structSocketAsync__T">SocketAsync_T</a> async = NULL;</div>
<div class="line"><a class="code hl_define" href="group__foundation.html#gad2746371528bdf15c3910b7bf217dac0">TRY</a> {</div>
<div class="line">    async = <a class="code hl_function" href="group__async__io.html#ga1c4916e173cffa9153c983a4fd0d0d56">SocketAsync_new</a>(arena);</div>
<div class="line">    <span class="keywordflow">if</span> (!<a class="code hl_function" href="group__async__io.html#ga0f304bcb93351c8555f9afa74fa9e665">SocketAsync_is_available</a>(async)) {</div>
<div class="line">        fprintf(stderr, <span class="stringliteral">&quot;Warning: Async I/O unavailable, fallback mode enabled\n&quot;</span>);</div>
<div class="line">        fprintf(stderr, <span class="stringliteral">&quot;Backend: %s\n&quot;</span>, <a class="code hl_function" href="group__async__io.html#gafae22c23e82d55f6fa3eaf74c0c37f5d">SocketAsync_backend_name</a>(async));</div>
<div class="line">    }</div>
<div class="line">    <span class="comment">// Submit operations here...</span></div>
<div class="line">    <span class="comment">// In your main loop:</span></div>
<div class="line">    <span class="comment">// int completed = SocketAsync_process_completions(async, 10); // 10ms timeout</span></div>
<div class="line">} <a class="code hl_define" href="group__foundation.html#gab5e72fc2bd41014c75e0ace4feabfe8e">EXCEPT</a>(<a class="code hl_variable" href="group__async__io.html#ga55b9b96eff9c17f45ff5bfb37f431075">SocketAsync_Failed</a>) {</div>
<div class="line">    fprintf(stderr, <span class="stringliteral">&quot;Failed to init async: %s\n&quot;</span>, Except_message(<a class="code hl_variable" href="group__foundation.html#ga3d38c6361ecf1c4873bbcb2de8a50874">Except_stack</a>));</div>
<div class="line">} <a class="code hl_define" href="group__foundation.html#ga0e2a75478cd44f1666a6aca626c5c50b">FINALLY</a> {</div>
<div class="line">    <a class="code hl_function" href="group__async__io.html#ga0d3a7b456b962c6abf4dfd91859492e0">SocketAsync_free</a>(&amp;async);</div>
<div class="line">} <a class="code hl_define" href="group__foundation.html#gae6628ac788ad213363b89dba9868420b">END_TRY</a>;</div>
<div class="line"><a class="code hl_function" href="group__foundation.html#ga6842e66018614df08139e67826cf3e0d">Arena_dispose</a>(&amp;arena);</div>
<div class="ttc" id="agroup__async__io_html_ga55b9b96eff9c17f45ff5bfb37f431075"><div class="ttname"><a href="group__async__io.html#ga55b9b96eff9c17f45ff5bfb37f431075">SocketAsync_Failed</a></div><div class="ttdeci">const Except_T SocketAsync_Failed</div><div class="ttdoc">Module-specific exception for fatal async I/O errors.</div></div>
<div class="ttc" id="agroup__foundation_html_ga3d38c6361ecf1c4873bbcb2de8a50874"><div class="ttname"><a href="group__foundation.html#ga3d38c6361ecf1c4873bbcb2de8a50874">Except_stack</a></div><div class="ttdeci">Except_Frame * Except_stack</div><div class="ttdoc">Thread-local exception stack for TRY/EXCEPT/FINALLY blocks.</div></div>
<div class="ttc" id="agroup__foundation_html_gab5e72fc2bd41014c75e0ace4feabfe8e"><div class="ttname"><a href="group__foundation.html#gab5e72fc2bd41014c75e0ace4feabfe8e">EXCEPT</a></div><div class="ttdeci">#define EXCEPT(e)</div><div class="ttdoc">Catch a specific exception type within a TRY block.</div><div class="ttdef"><b>Definition</b> <a href="Except_8h_source.html#l01035">Except.h:1035</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md515"></a>
Recommended: Integrated with SocketPoll</h2>
<div class="fragment"><div class="line">SocketPoll_T poll = <a class="code hl_function" href="group__event__system.html#gac1fbd1a09d564f7988b0e427e5707ca7">SocketPoll_new</a>(1024); <span class="comment">// Create event poll</span></div>
<div class="line"><a class="code hl_struct" href="group__async__io.html#structSocketAsync__T">SocketAsync_T</a> async = <a class="code hl_function" href="group__event__system.html#ga665b3363d16ab859ec60e69a792d1ff0">SocketPoll_get_async</a>(poll); <span class="comment">// Get integrated async context</span></div>
<div class="line"><span class="keywordflow">if</span> (async &amp;&amp; <a class="code hl_function" href="group__async__io.html#ga0f304bcb93351c8555f9afa74fa9e665">SocketAsync_is_available</a>(async)) {</div>
<div class="line">    <span class="comment">// Completions auto-processed during SocketPoll_wait()</span></div>
<div class="line">    <span class="comment">// Submit async operations using this async context</span></div>
<div class="line">}</div>
<div class="line"><span class="comment">// async lifetime tied to poll - free poll to cleanup</span></div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>Standalone contexts require periodic calls to <a class="el" href="group__async__io.html#ga1cc05d5d1dd032943b57a03da3061da7" title="Poll and process completed asynchronous I/O operations.">SocketAsync_process_completions()</a> to handle operation completions and invoke callbacks. Neglecting this leads to pending operations never completing.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>The provided arena must remain valid for the entire lifetime of the async context. Early disposal causes memory corruption or crashes.</dd></dl>
<dl class="section user"><dt>Complexity\n O(1) - Initialization time is constant, though backend setup (e.g., ring allocation)</dt><dd>may involve small fixed overhead.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__event__system.html#ga665b3363d16ab859ec60e69a792d1ff0" title="Get async I/O context associated with poll instance.">SocketPoll_get_async()</a> - Recommended for most applications with event loops. </dd>
<dd>
<a class="el" href="group__async__io.html#ga0d3a7b456b962c6abf4dfd91859492e0" title="Destroy an asynchronous I/O context and release associated resources.">SocketAsync_free()</a> - Corresponding cleanup function. </dd>
<dd>
<a class="el" href="group__async__io.html#gae0ecf4f023555d16b855d39841521f2b" title="Submit an asynchronous send operation on a socket.">SocketAsync_send()</a> - Example of operation submission. </dd>
<dd>
<a class="el" href="group__async__io.html#ga46adb5a1db31901afa5d1d6514e41b64" title="Submit an asynchronous receive operation on a socket.">SocketAsync_recv()</a> - Receive operation submission. </dd>
<dd>
<a class="el" href="group__async__io.html#ga1cc05d5d1dd032943b57a03da3061da7" title="Poll and process completed asynchronous I/O operations.">SocketAsync_process_completions()</a> - Manual completion processing for standalone mode. </dd>
<dd>
<a class="el" href="group__async__io.html#ga0f304bcb93351c8555f9afa74fa9e665" title="Query if native asynchronous I/O backend is operational.">SocketAsync_is_available()</a> - Verify backend capabilities after creation. </dd>
<dd>
<a class="el" href="ASYNC__IO_8md.html">docs/ASYNC_IO.md</a> - Comprehensive guide, examples, and performance tuning. </dd></dl>

</div>
</div>
<a id="ga1cc05d5d1dd032943b57a03da3061da7" name="ga1cc05d5d1dd032943b57a03da3061da7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1cc05d5d1dd032943b57a03da3061da7">&#9670;&#160;</a></span>SocketAsync_process_completions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int SocketAsync_process_completions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__async__io.html#structSocketAsync__T">SocketAsync_T</a>&#160;</td>
          <td class="paramname"><em>async</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Poll and process completed asynchronous I/O operations. </p>
<p>Drains the async backend's completion queue (e.g., io_uring CQE ring, kqueue events) and invokes callbacks for finished operations. This must be called regularly for standalone contexts to ensure timely callback delivery and resource recycling.</p>
<p>In integrated mode (<a class="el" href="group__event__system.html#ga665b3363d16ab859ec60e69a792d1ff0" title="Get async I/O context associated with poll instance.">SocketPoll_get_async()</a>), this is invoked automatically during <a class="el" href="group__event__system.html#gaa3d47365dd18329d50ee636284839738" title="Block and wait for I/O events or timeout on registered sockets.">SocketPoll_wait()</a>. For standalone, call in your main loop with appropriate timeout to balance responsiveness and CPU usage.</p>
<p>Returns the number of callbacks invoked. Negative return indicates error (rare, e.g., backend corruption).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">async</td><td>The async context to process completions for. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout_ms</td><td>Maximum wait time in ms before returning (0=non-blocking, -1=block indefinitely - avoid in event loops).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of completions processed (&gt;=0), or -1 on error (check errno).</dd></dl>
<h2><a class="anchor" id="autotoc_md526"></a>
Return Values</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Value   </th><th class="markdownTableHeadNone">Meaning    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">&gt; 0   </td><td class="markdownTableBodyNone">Number of callbacks invoked this call    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">0   </td><td class="markdownTableBodyNone">No completions ready within timeout    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">-1   </td><td class="markdownTableBodyNone">Processing error (e.g., backend failure); errno set   </td></tr>
</table>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">None</td><td>- Errors returned via return value/errno, not exceptions.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Thread Safety\n Yes - Internal mutex serializes access; safe concurrent calls (but inefficient).</dt><dd></dd></dl>
<h2><a class="anchor" id="autotoc_md527"></a>
Usage Example: Standalone Mode</h2>
<div class="fragment"><div class="line"><span class="comment">// In main loop for standalone async context</span></div>
<div class="line"><span class="keywordflow">while</span> (<a class="code hl_variable" href="http__server_8c.html#af1f449cc09f8d36befcce07bc38c29c0">running</a>) {</div>
<div class="line">    <span class="comment">// Submit new operations as needed...</span></div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Process completions non-blocking</span></div>
<div class="line">    <span class="keywordtype">int</span> processed = <a class="code hl_function" href="group__async__io.html#ga1cc05d5d1dd032943b57a03da3061da7">SocketAsync_process_completions</a>(async, 0);</div>
<div class="line">    <span class="keywordflow">if</span> (processed &lt; 0) {</div>
<div class="line">        <a class="code hl_define" href="SocketUtil_8h.html#a16642c35dec627aeb4976538671b1552">SOCKET_LOG_ERROR_MSG</a>(<span class="stringliteral">&quot;Completion processing failed: %s&quot;</span>, strerror(errno));</div>
<div class="line">        <span class="comment">// Handle error, e.g., recreate async</span></div>
<div class="line">    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (processed &gt; 0) {</div>
<div class="line">        <a class="code hl_define" href="SocketUtil_8h.html#a7853a630bcaead9d41536ccbfd598f6d">SOCKET_LOG_DEBUG_MSG</a>(<span class="stringliteral">&quot;Processed %d completions&quot;</span>, processed);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Other loop work (e.g., poll other fds)</span></div>
<div class="line">    usleep(1000);  <span class="comment">// Yield CPU if no events</span></div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md528"></a>
Integrated Mode (Automatic)</h2>
<p>No manual call needed: </p><div class="fragment"><div class="line"><a class="code hl_function" href="group__event__system.html#gaa3d47365dd18329d50ee636284839738">SocketPoll_wait</a>(poll, &amp;events, timeout);  <span class="comment">// Auto-processes async completions</span></div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>For high-throughput, use small timeouts or non-blocking to avoid latency. Batch multiple calls if backend supports (e.g., process up to N completions).</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Blocking indefinitely (timeout_ms = -1) in event loops causes starvation. Use only in dedicated worker threads.</dd></dl>
<dl class="section user"><dt>Complexity\n O(C + B) where C is completions processed, B backend poll overhead.</dt><dd></dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__event__system.html#gaa3d47365dd18329d50ee636284839738" title="Block and wait for I/O events or timeout on registered sockets.">SocketPoll_wait()</a> - Automatic processing in event-driven apps. </dd>
<dd>
<a class="el" href="group__async__io.html#gad6644a0c3153b65fa217ecbc45b5b8f9" title="Completion callback invoked when an async I/O operation finishes.">SocketAsync_Callback</a> - Invoked for each processed completion. </dd>
<dd>
<a class="el" href="group__async__io.html#ga1c4916e173cffa9153c983a4fd0d0d56" title="Create a new standalone asynchronous I/O context.">SocketAsync_new()</a> - Standalone contexts require this call. </dd>
<dd>
<a class="el" href="ASYNC__IO_8md.html">docs/ASYNC_IO.md</a>#processing-completions - Tuning and batching tips. </dd></dl>

</div>
</div>
<a id="ga46adb5a1db31901afa5d1d6514e41b64" name="ga46adb5a1db31901afa5d1d6514e41b64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga46adb5a1db31901afa5d1d6514e41b64">&#9670;&#160;</a></span>SocketAsync_recv()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned SocketAsync_recv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__async__io.html#structSocketAsync__T">SocketAsync_T</a>&#160;</td>
          <td class="paramname"><em>async</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Socket_T&#160;</td>
          <td class="paramname"><em>socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__async__io.html#gad6644a0c3153b65fa217ecbc45b5b8f9">SocketAsync_Callback</a>&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__async__io.html#gae66259c675b6f9658c95d34e1fbfefdf">SocketAsync_Flags</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Submit an asynchronous receive operation on a socket. </p>
<p>Queues an asynchronous receive (read) operation for incoming data on the socket. Data is received into the provided buffer up to the specified length. Completion is notified via callback with the number of bytes received: positive for success, 0 for EOF (connection closed gracefully), negative for errors.</p>
<p>Supports platform-optimized async receive mechanisms, including zero-copy where available (e.g., io_uring RECV_ZC). Partial receives are reported via bytes &lt; len; resubmit for more data if needed (e.g., for stream protocols).</p>
<p>Buffer safety: The buf must not be freed or modified until the callback executes. In fallback mode, manual recv via <a class="el" href="group__core__io.html#ga95db343f47445925cecd6b20054518e9" title="Receive data.">Socket_recv()</a> is required during socket-readable events.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">async</td><td>Async context for operation queuing and backend submission. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">socket</td><td>Non-blocking Socket_T to receive data from. Must be connected. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>Buffer to store received data. Valid until callback. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>Maximum bytes to receive (buffer size). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cb</td><td>Completion callback invoked with receive results. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">user_data</td><td>User-supplied data for callback context. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>Operation modifiers (e.g., ASYNC_FLAG_ZERO_COPY for efficiency; some flags backend-dependent or reserved for future).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Request ID (&gt;0 success, 0 failure). See return table below.</dd></dl>
<h2><a class="anchor" id="autotoc_md521"></a>
Return Values</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Value   </th><th class="markdownTableHeadNone">Meaning    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">&gt; 0   </td><td class="markdownTableBodyNone">Request queued/submitted successfully    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">0   </td><td class="markdownTableBodyNone">Failed to queue (e.g., invalid args, full queue); errno set   </td></tr>
</table>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">SocketAsync_Failed</td><td>Fatal errors during submission (e.g., bad socket, OOM). Non-fatal issues return 0.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Thread Safety\n Yes - Safe for concurrent submissions; internal locking used.</dt><dd></dd></dl>
<h2><a class="anchor" id="autotoc_md522"></a>
Basic Usage</h2>
<div class="fragment"><div class="line"><span class="comment">// Receive callback</span></div>
<div class="line"><span class="keywordtype">void</span> recv_complete(Socket_T socket, ssize_t bytes, <span class="keywordtype">int</span> err, <span class="keywordtype">void</span> *user_data) {</div>
<div class="line">    <span class="keywordtype">char</span> *buffer = (<span class="keywordtype">char</span> *)user_data;</div>
<div class="line">    <span class="keywordflow">if</span> (err != 0) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Recv error: %s\n&quot;</span>, strerror(err));</div>
<div class="line">        <a class="code hl_function" href="group__core__io.html#ga74ad7a9bb8deaf499c59d90d6e411f37">Socket_free</a>(&amp;socket);  <span class="comment">// e.g., close on error</span></div>
<div class="line">        free(buffer);</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (bytes == 0) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;EOF - connection closed\n&quot;</span>);</div>
<div class="line">        <a class="code hl_function" href="group__core__io.html#ga74ad7a9bb8deaf499c59d90d6e411f37">Socket_free</a>(&amp;socket);</div>
<div class="line">        free(buffer);</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="comment">// Process received data</span></div>
<div class="line">    printf(<span class="stringliteral">&quot;Received %zd bytes: %.20s...\n&quot;</span>, bytes, buffer);</div>
<div class="line">    <span class="comment">// Resubmit for more data if stream not complete</span></div>
<div class="line">    <a class="code hl_struct" href="group__async__io.html#structSocketAsync__T">SocketAsync_T</a> async = get_async_context(); <span class="comment">// pseudocode</span></div>
<div class="line">    <a class="code hl_function" href="group__async__io.html#ga46adb5a1db31901afa5d1d6514e41b64">SocketAsync_recv</a>(async, socket, buffer, 4096, recv_complete, buffer, <a class="code hl_enumvalue" href="group__async__io.html#ggae66259c675b6f9658c95d34e1fbfefdfa3b607e56f470ff08783c2f3385c1041c">ASYNC_FLAG_NONE</a>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Initial receive submission (e.g., after accept)</span></div>
<div class="line"><span class="keywordtype">char</span> *recv_buf = malloc(4096);</div>
<div class="line"><span class="keywordtype">unsigned</span> req_id = <a class="code hl_function" href="group__async__io.html#ga46adb5a1db31901afa5d1d6514e41b64">SocketAsync_recv</a>(async, client_socket, recv_buf, 4096,</div>
<div class="line">                                   recv_complete, recv_buf, <a class="code hl_enumvalue" href="group__async__io.html#ggae66259c675b6f9658c95d34e1fbfefdfa3b607e56f470ff08783c2f3385c1041c">ASYNC_FLAG_NONE</a>);</div>
<div class="line"><span class="keywordflow">if</span> (req_id == 0) {</div>
<div class="line">    free(recv_buf);</div>
<div class="line">    <span class="comment">// Handle failure</span></div>
<div class="line">}</div>
<div class="ttc" id="agroup__async__io_html_ga46adb5a1db31901afa5d1d6514e41b64"><div class="ttname"><a href="group__async__io.html#ga46adb5a1db31901afa5d1d6514e41b64">SocketAsync_recv</a></div><div class="ttdeci">unsigned SocketAsync_recv(SocketAsync_T async, Socket_T socket, void *buf, size_t len, SocketAsync_Callback cb, void *user_data, SocketAsync_Flags flags)</div><div class="ttdoc">Submit an asynchronous receive operation on a socket.</div></div>
<div class="ttc" id="agroup__async__io_html_ggae66259c675b6f9658c95d34e1fbfefdfa3b607e56f470ff08783c2f3385c1041c"><div class="ttname"><a href="group__async__io.html#ggae66259c675b6f9658c95d34e1fbfefdfa3b607e56f470ff08783c2f3385c1041c">ASYNC_FLAG_NONE</a></div><div class="ttdeci">@ ASYNC_FLAG_NONE</div><div class="ttdoc">Default operation with no special features enabled.</div><div class="ttdef"><b>Definition</b> <a href="SocketAsync_8h_source.html#l00297">SocketAsync.h:297</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md523"></a>
Handling Partial Receives and EOF</h2>
<p>In the callback:</p><ul>
<li>bytes &gt; 0: Partial or full data received; process and resubmit if more expected</li>
<li>bytes == 0: Graceful EOF; close socket if appropriate</li>
<li>bytes &lt; 0 or err != 0: Error; check err for details (e.g., ECONNRESET)</li>
</ul>
<dl class="section warning"><dt>Warning</dt><dd>buf is [out] - data written by kernel/user-space recv. App must handle overlapping resubmits carefully to avoid data races.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Flags like ASYNC_FLAG_ZERO_COPY may be supported for recv in future backends or specific platforms; currently limited use - check <a class="el" href="group__async__io.html#gafae22c23e82d55f6fa3eaf74c0c37f5d" title="Retrieve the name of the active asynchronous backend.">SocketAsync_backend_name()</a>.</dd></dl>
<dl class="section user"><dt>Complexity\n O(1) amortized - Quick queue operation; backend submit may batch.</dt><dd></dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__async__io.html#gae0ecf4f023555d16b855d39841521f2b" title="Submit an asynchronous send operation on a socket.">SocketAsync_send()</a> - Companion send operation. </dd>
<dd>
<a class="el" href="group__async__io.html#gad6644a0c3153b65fa217ecbc45b5b8f9" title="Completion callback invoked when an async I/O operation finishes.">SocketAsync_Callback</a> - Callback signature and <a class="el" href="SocketHappyEyeballs-private_8h.html#a11614f44ef4d939bdd984953346a7572">error</a> codes. </dd>
<dd>
<a class="el" href="group__async__io.html#gae66259c675b6f9658c95d34e1fbfefdf" title="Bit flags to control behavior of asynchronous I/O operations.">SocketAsync_Flags</a> - Potential flags for recv (expanding support). </dd>
<dd>
<a class="el" href="group__async__io.html#ga275aefb76cdeb48b9b9330a777a2bb8c" title="Cancel a pending asynchronous I/O operation by request ID.">SocketAsync_cancel()</a> - Abort pending recv. </dd>
<dd>
<a class="el" href="ASYNC__IO_8md.html">docs/ASYNC_IO.md</a>#async-receive - Fallback mode and echo server example. </dd></dl>

</div>
</div>
<a id="gae0ecf4f023555d16b855d39841521f2b" name="gae0ecf4f023555d16b855d39841521f2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae0ecf4f023555d16b855d39841521f2b">&#9670;&#160;</a></span>SocketAsync_send()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned SocketAsync_send </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__async__io.html#structSocketAsync__T">SocketAsync_T</a>&#160;</td>
          <td class="paramname"><em>async</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Socket_T&#160;</td>
          <td class="paramname"><em>socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__async__io.html#gad6644a0c3153b65fa217ecbc45b5b8f9">SocketAsync_Callback</a>&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__async__io.html#gae66259c675b6f9658c95d34e1fbfefdf">SocketAsync_Flags</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Submit an asynchronous send operation on a socket. </p>
<p>Queues an asynchronous send operation for the specified socket. The operation is submitted to the platform's async backend (io_uring, kqueue, etc.) immediately if supported, or queued for fallback processing otherwise. Upon completion (success, partial transfer, or error), the provided callback is invoked with the results.</p>
<p>Supports advanced features like zero-copy transmission (for large payloads) and urgent prioritization for low-latency needs. Partial sends are possible and reported via the callback's bytes parameter; resubmit remaining data as needed.</p>
<p>In fallback mode (no native async support), the operation is not submitted to the kernel but tracked internally. The application must manually perform the send using <a class="el" href="group__core__io.html#ga23ace6e065fe4b9a01db8caa6513515b" title="Send data.">Socket_send()</a> during event processing and invoke the callback accordingly.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">async</td><td>Async context obtained from <a class="el" href="group__async__io.html#ga1c4916e173cffa9153c983a4fd0d0d56" title="Create a new standalone asynchronous I/O context.">SocketAsync_new()</a> or <a class="el" href="group__event__system.html#ga665b3363d16ab859ec60e69a792d1ff0" title="Get async I/O context associated with poll instance.">SocketPoll_get_async()</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">socket</td><td>Non-blocking Socket_T to send data on. Must be connected and valid. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>Pointer to data buffer to send. Must remain valid until callback invocation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>Number of bytes to send from buf. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cb</td><td>Completion callback function, invoked when operation finishes. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">user_data</td><td>Arbitrary user data passed unchanged to the callback. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>Bitwise OR of SocketAsync_Flags to control operation behavior (e.g., ASYNC_FLAG_ZERO_COPY for efficient large transfers).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Request identifier (&gt;0) on successful queuing/submission, 0 on failure.</dd></dl>
<h2><a class="anchor" id="autotoc_md517"></a>
Return Values</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Value   </th><th class="markdownTableHeadNone">Meaning    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">&gt; 0   </td><td class="markdownTableBodyNone">Unique request ID for tracking/cancellation    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">0   </td><td class="markdownTableBodyNone">Submission failed (e.g., queue full, invalid params); check <a class="el" href="group__foundation.html#ga46f8d730d28e8c5cbd55e3cbe4c83945" title="Socket_geterrorcode - Convert last errno to normalized SocketErrorCode.">Socket_geterrorcode()</a>   </td></tr>
</table>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">SocketAsync_Failed</td><td>On fatal submission errors (e.g., invalid socket, resource exhaustion). Transient failures return 0 without throwing.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Thread Safety\n Yes - Internal mutex protects request queue and submission. Concurrent</dt><dd>submissions from multiple threads are serialized safely.</dd></dl>
<h2><a class="anchor" id="autotoc_md518"></a>
Basic Usage</h2>
<div class="fragment"><div class="line"><span class="comment">// Define completion callback</span></div>
<div class="line"><span class="keywordtype">void</span> send_complete(Socket_T socket, ssize_t bytes, <span class="keywordtype">int</span> err, <span class="keywordtype">void</span> *user_data) {</div>
<div class="line">    <span class="keywordflow">if</span> (err != 0) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Send error: %s (errno=%d)\n&quot;</span>, strerror(err), err);</div>
<div class="line">        <span class="comment">// Handle error, e.g., close socket</span></div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (bytes &gt; 0) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Successfully sent %zd bytes\n&quot;</span>, bytes);</div>
<div class="line">        <span class="comment">// If bytes &lt; requested len, resubmit remainder</span></div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Send completed with 0 bytes (unlikely)\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Submit async send</span></div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span> *message = <span class="stringliteral">&quot;Hello, asynchronous world!&quot;</span>;</div>
<div class="line"><span class="keywordtype">unsigned</span> req_id = <a class="code hl_function" href="group__async__io.html#gae0ecf4f023555d16b855d39841521f2b">SocketAsync_send</a>(async, client_socket, message, strlen(message),</div>
<div class="line">                                   send_complete, NULL, <a class="code hl_enumvalue" href="group__async__io.html#ggae66259c675b6f9658c95d34e1fbfefdfa3b607e56f470ff08783c2f3385c1041c">ASYNC_FLAG_NONE</a>);</div>
<div class="line"><span class="keywordflow">if</span> (req_id == 0) {</div>
<div class="line">    <span class="comment">// Handle submission failure</span></div>
<div class="line">    perror(<span class="stringliteral">&quot;SocketAsync_send failed&quot;</span>);</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md519"></a>
Advanced: Zero-Copy for Large Data</h2>
<div class="fragment"><div class="line"><span class="comment">// For large payloads, enable zero-copy if backend supports it</span></div>
<div class="line"><span class="keywordflow">if</span> (<a class="code hl_function" href="group__async__io.html#ga0f304bcb93351c8555f9afa74fa9e665">SocketAsync_is_available</a>(async)) {  <span class="comment">// Ensure native async</span></div>
<div class="line">    <span class="keywordtype">unsigned</span> req_id = <a class="code hl_function" href="group__async__io.html#gae0ecf4f023555d16b855d39841521f2b">SocketAsync_send</a>(async, socket, large_file_buf, file_size,</div>
<div class="line">                                       cb, user_data, <a class="code hl_enumvalue" href="group__async__io.html#ggae66259c675b6f9658c95d34e1fbfefdfa5b1a5dc7d9ed8ace5643e4cef11cb50d">ASYNC_FLAG_ZERO_COPY</a>);</div>
<div class="line">    <span class="comment">// Zero-copy reduces CPU overhead for bulk transfers</span></div>
<div class="line">}</div>
<div class="ttc" id="agroup__async__io_html_ggae66259c675b6f9658c95d34e1fbfefdfa5b1a5dc7d9ed8ace5643e4cef11cb50d"><div class="ttname"><a href="group__async__io.html#ggae66259c675b6f9658c95d34e1fbfefdfa5b1a5dc7d9ed8ace5643e4cef11cb50d">ASYNC_FLAG_ZERO_COPY</a></div><div class="ttdeci">@ ASYNC_FLAG_ZERO_COPY</div><div class="ttdoc">Request zero-copy I/O to minimize data copying.</div><div class="ttdef"><b>Definition</b> <a href="SocketAsync_8h_source.html#l00311">SocketAsync.h:311</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md520"></a>
Error Handling in Callback</h2>
<p>Common errors in callback (err parameter):</p><ul>
<li>EAGAIN/EWOULDBLOCK: Temporary, retry possible in fallback mode</li>
<li>ECONNRESET: Peer closed connection</li>
<li>ENOMEM: Out of kernel buffers</li>
<li>ECANCELED: Operation cancelled via <a class="el" href="group__async__io.html#ga275aefb76cdeb48b9b9330a777a2bb8c" title="Cancel a pending asynchronous I/O operation by request ID.">SocketAsync_cancel()</a></li>
</ul>
<dl class="section warning"><dt>Warning</dt><dd>The buf must remain valid and unmodified until the callback is invoked. Do not free or alter buf in other threads before completion.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>In fallback mode, manually drive I/O: poll socket for writability, call <a class="el" href="group__core__io.html#ga23ace6e065fe4b9a01db8caa6513515b" title="Send data.">Socket_send()</a>, then invoke cb with results. See <a class="el" href="ASYNC__IO_8md.html">docs/ASYNC_IO.md</a> for details.</dd>
<dd>
Partial sends (bytes &lt; len) require application logic to resubmit the remainder. Track sent bytes in user_data if needed for multi-part sends.</dd></dl>
<dl class="section user"><dt>Complexity\n O(1) amortized - Constant time queue insertion/submission; occasional</dt><dd>backend flush may be O(batch size).</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__async__io.html#ga46adb5a1db31901afa5d1d6514e41b64" title="Submit an asynchronous receive operation on a socket.">SocketAsync_recv()</a> - Counterpart for receive operations. </dd>
<dd>
<a class="el" href="group__async__io.html#ga275aefb76cdeb48b9b9330a777a2bb8c" title="Cancel a pending asynchronous I/O operation by request ID.">SocketAsync_cancel()</a> - Cancel a pending send by req_id. </dd>
<dd>
<a class="el" href="group__async__io.html#gae66259c675b6f9658c95d34e1fbfefdf" title="Bit flags to control behavior of asynchronous I/O operations.">SocketAsync_Flags</a> - Details on available flags and backend support. </dd>
<dd>
<a class="el" href="group__event__system.html#gaa3d47365dd18329d50ee636284839738" title="Block and wait for I/O events or timeout on registered sockets.">SocketPoll_wait()</a> - Processes completions automatically in event loop. </dd>
<dd>
<a class="el" href="ASYNC__IO_8md.html">docs/ASYNC_IO.md</a>#async-send - Examples and fallback handling. </dd></dl>

</div>
</div>
<a id="gae3383dd7df82083ec8d7f72fbae76cb5" name="gae3383dd7df82083ec8d7f72fbae76cb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae3383dd7df82083ec8d7f72fbae76cb5">&#9670;&#160;</a></span>SocketHappyEyeballs_cancel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SocketHappyEyeballs_cancel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__async__io.html#structSocketHE__T">SocketHE_T</a>&#160;</td>
          <td class="paramname"><em>he</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cancel an in-progress Happy Eyeballs operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">he</td><td>Happy Eyeballs context. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Thread Safety\n No.</dt><dd></dd></dl>
<p>Cancels DNS requests and closes all pending connection attempts. After cancel, state becomes HE_STATE_CANCELLED.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__async__io.html#ga3307a26e1e23ff4be5d2e33895e6ae79" title="Get the current state of the Happy Eyeballs operation.">SocketHappyEyeballs_state()</a> to confirm cancellation. </dd>
<dd>
<a class="el" href="group__async__io.html#ga5426942471b0a00d69094f1c8787523f" title="Free the Happy Eyeballs context and release resources.">SocketHappyEyeballs_free()</a> to clean up resources. </dd></dl>

</div>
</div>
<a id="ga3a5b3e45e53cfda16c76fec1cd4fd637" name="ga3a5b3e45e53cfda16c76fec1cd4fd637"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3a5b3e45e53cfda16c76fec1cd4fd637">&#9670;&#160;</a></span>SocketHappyEyeballs_config_defaults()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SocketHappyEyeballs_config_defaults </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__async__io.html#structSocketHE__Config__T">SocketHE_Config_T</a> *&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize Happy Eyeballs configuration with default values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">config</td><td>Configuration structure to initialize. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Thread Safety\n Yes.</dt><dd></dd></dl>
<h2><a class="anchor" id="autotoc_md591"></a>
Usage Example</h2>
<div class="fragment"><div class="line"><a class="code hl_struct" href="group__async__io.html#structSocketHE__Config__T">SocketHE_Config_T</a> config;</div>
<div class="line"><a class="code hl_function" href="group__async__io.html#ga3a5b3e45e53cfda16c76fec1cd4fd637">SocketHappyEyeballs_config_defaults</a>(&amp;config);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Customize specific fields:</span></div>
<div class="line">config.<a class="code hl_variable" href="group__async__io.html#a718ced26ae9d5f1a9c51980686007af9">first_attempt_delay_ms</a> = 300;  <span class="comment">// 300ms before fallback (vs default 250ms)</span></div>
<div class="line">config.<a class="code hl_variable" href="group__async__io.html#a30f77ee5bd25329726485101935e8a2a">total_timeout_ms</a> = 15000;      <span class="comment">// Overall 15s timeout</span></div>
<div class="line">config.<a class="code hl_variable" href="group__async__io.html#ae94ef758ca842d9231733fbc9b910e2f">dns_timeout_ms</a> = 0;            <span class="comment">// Use total timeout for DNS</span></div>
<div class="line">config.<a class="code hl_variable" href="group__async__io.html#a844dbed92f4e7fbcedd41f78089d4edc">max_attempts</a> = 4;              <span class="comment">// More attempts if needed</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Pass to connect() or start():</span></div>
<div class="line"><span class="comment">// Socket_T sock = SocketHappyEyeballs_connect(&quot;host&quot;, port, &amp;config);</span></div>
<div class="ttc" id="agroup__async__io_html_a30f77ee5bd25329726485101935e8a2a"><div class="ttname"><a href="group__async__io.html#a30f77ee5bd25329726485101935e8a2a">SocketHE_Config_T::total_timeout_ms</a></div><div class="ttdeci">int total_timeout_ms</div><div class="ttdef"><b>Definition</b> <a href="SocketHappyEyeballs_8h_source.html#l00147">SocketHappyEyeballs.h:147</a></div></div>
<div class="ttc" id="agroup__async__io_html_a718ced26ae9d5f1a9c51980686007af9"><div class="ttname"><a href="group__async__io.html#a718ced26ae9d5f1a9c51980686007af9">SocketHE_Config_T::first_attempt_delay_ms</a></div><div class="ttdeci">int first_attempt_delay_ms</div><div class="ttdef"><b>Definition</b> <a href="SocketHappyEyeballs_8h_source.html#l00145">SocketHappyEyeballs.h:145</a></div></div>
<div class="ttc" id="agroup__async__io_html_a844dbed92f4e7fbcedd41f78089d4edc"><div class="ttname"><a href="group__async__io.html#a844dbed92f4e7fbcedd41f78089d4edc">SocketHE_Config_T::max_attempts</a></div><div class="ttdeci">int max_attempts</div><div class="ttdef"><b>Definition</b> <a href="SocketHappyEyeballs_8h_source.html#l00150">SocketHappyEyeballs.h:150</a></div></div>
<div class="ttc" id="agroup__async__io_html_ae94ef758ca842d9231733fbc9b910e2f"><div class="ttname"><a href="group__async__io.html#ae94ef758ca842d9231733fbc9b910e2f">SocketHE_Config_T::dns_timeout_ms</a></div><div class="ttdeci">int dns_timeout_ms</div><div class="ttdef"><b>Definition</b> <a href="SocketHappyEyeballs_8h_source.html#l00148">SocketHappyEyeballs.h:148</a></div></div>
<div class="ttc" id="agroup__async__io_html_ga3a5b3e45e53cfda16c76fec1cd4fd637"><div class="ttname"><a href="group__async__io.html#ga3a5b3e45e53cfda16c76fec1cd4fd637">SocketHappyEyeballs_config_defaults</a></div><div class="ttdeci">void SocketHappyEyeballs_config_defaults(SocketHE_Config_T *config)</div><div class="ttdoc">Initialize Happy Eyeballs configuration with default values.</div></div>
<div class="ttc" id="agroup__async__io_html_structSocketHE__Config__T"><div class="ttname"><a href="group__async__io.html#structSocketHE__Config__T">SocketHE_Config_T</a></div><div class="ttdoc">Happy Eyeballs configuration structure.</div><div class="ttdef"><b>Definition</b> <a href="SocketHappyEyeballs_8h_source.html#l00143">SocketHappyEyeballs.h:144</a></div></div>
</div><!-- fragment --><p>Sets all fields to their default values as per RFC 8305 recommendations.</p>
<h2><a class="anchor" id="autotoc_md592"></a>
Default Values Table</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Field   </th><th class="markdownTableHeadNone">Default Value   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">first_attempt_delay_ms   </td><td class="markdownTableBodyNone">250   </td><td class="markdownTableBodyNone">Delay before fallback family attempt (RFC 8305)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">attempt_timeout_ms   </td><td class="markdownTableBodyNone">5000   </td><td class="markdownTableBodyNone">Per-connection timeout    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">total_timeout_ms   </td><td class="markdownTableBodyNone">30000   </td><td class="markdownTableBodyNone">Overall operation timeout    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">dns_timeout_ms   </td><td class="markdownTableBodyNone">5000   </td><td class="markdownTableBodyNone">DNS resolution timeout (0 = use total)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">prefer_ipv6   </td><td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">IPv6 preferred (RFC standard)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">max_attempts   </td><td class="markdownTableBodyNone">2   </td><td class="markdownTableBodyNone">Simultaneous attempts (RFC 8305)   </td></tr>
</table>
<dl class="section user"><dt>Complexity\n O(1) - constant time, no allocations or loops</dt><dd></dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__async__io.html#structSocketHE__Config__T" title="Happy Eyeballs configuration structure.">SocketHE_Config_T</a> for structure details. </dd>
<dd>
<a class="el" href="group__async__io.html#ga5ef2e9ba01aa72f8a3ae864a1ba58bc3" title="Perform synchronous Happy Eyeballs connection to host (RFC 8305 compliant).">SocketHappyEyeballs_connect()</a>, <a class="el" href="group__async__io.html#gaac613520b1e674db06e60155150fef63" title="Start asynchronous Happy Eyeballs connection.">SocketHappyEyeballs_start()</a> for usage. </dd>
<dd>
<a class="el" href="ASYNC__IO_8md.html">docs/ASYNC_IO.md</a> for RFC 8305 details. </dd></dl>

</div>
</div>
<a id="ga5ef2e9ba01aa72f8a3ae864a1ba58bc3" name="ga5ef2e9ba01aa72f8a3ae864a1ba58bc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5ef2e9ba01aa72f8a3ae864a1ba58bc3">&#9670;&#160;</a></span>SocketHappyEyeballs_connect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Socket_T SocketHappyEyeballs_connect </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__async__io.html#structSocketHE__Config__T">SocketHE_Config_T</a> *&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Perform synchronous Happy Eyeballs connection to host (RFC 8305 compliant). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">host</td><td>Hostname or IP address to connect to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">port</td><td>Port number (1-65535). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">config</td><td>Configuration options (NULL for defaults). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Connected Socket_T on success (caller owns, must <a class="el" href="group__core__io.html#ga74ad7a9bb8deaf499c59d90d6e411f37" title="Dispose of a socket instance and close the underlying file descriptor.">Socket_free()</a>). </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">SocketHE_Failed</td><td>on DNS failure, connection timeout, or all attempts fail. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Thread Safety\n Yes - creates internal resources, safe from any thread.</dt><dd></dd></dl>
<h2><a class="anchor" id="autotoc_md587"></a>
Usage Example</h2>
<div class="fragment"><div class="line"><a class="code hl_struct" href="group__async__io.html#structSocketHE__Config__T">SocketHE_Config_T</a> config;</div>
<div class="line"><a class="code hl_function" href="group__async__io.html#ga3a5b3e45e53cfda16c76fec1cd4fd637">SocketHappyEyeballs_config_defaults</a>(&amp;config);</div>
<div class="line"><span class="comment">// Optional customization:</span></div>
<div class="line"><span class="comment">// config.total_timeout_ms = 10000;  // 10s timeout</span></div>
<div class="line"><span class="comment">// config.prefer_ipv6 = 0;            // Prefer IPv4 first</span></div>
<div class="line"> </div>
<div class="line"><a class="code hl_define" href="group__foundation.html#gad2746371528bdf15c3910b7bf217dac0">TRY</a> {</div>
<div class="line">    Socket_T sock = <a class="code hl_function" href="group__async__io.html#ga5ef2e9ba01aa72f8a3ae864a1ba58bc3">SocketHappyEyeballs_connect</a>(<span class="stringliteral">&quot;example.com&quot;</span>, 443, &amp;config);</div>
<div class="line">    <span class="comment">// sock is connected (blocking mode); use for TLS/HTTP/etc.</span></div>
<div class="line">    <span class="comment">// ... Socket_send(), Socket_recv(), etc. ...</span></div>
<div class="line">    <a class="code hl_function" href="group__core__io.html#ga74ad7a9bb8deaf499c59d90d6e411f37">Socket_free</a>(&amp;sock);</div>
<div class="line">} <a class="code hl_define" href="group__foundation.html#gab5e72fc2bd41014c75e0ace4feabfe8e">EXCEPT</a>(<a class="code hl_variable" href="group__async__io.html#ga2189771ae05195653ab16170d72a251d">SocketHE_Failed</a>) {</div>
<div class="line">    <span class="comment">// Connection failed: DNS error, timeout, or no route</span></div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *err = <a class="code hl_function" href="group__foundation.html#gac71a25566cdc9e11eaecb16c966081db">Socket_GetLastError</a>();</div>
<div class="line">    fprintf(stderr, <span class="stringliteral">&quot;Failed to connect: %s\n&quot;</span>, err ? err : <span class="stringliteral">&quot;Unknown error&quot;</span>);</div>
<div class="line">} <a class="code hl_define" href="group__foundation.html#gae6628ac788ad213363b89dba9868420b">END_TRY</a>;</div>
<div class="ttc" id="agroup__async__io_html_ga2189771ae05195653ab16170d72a251d"><div class="ttname"><a href="group__async__io.html#ga2189771ae05195653ab16170d72a251d">SocketHE_Failed</a></div><div class="ttdeci">const Except_T SocketHE_Failed</div><div class="ttdoc">Exception raised on Happy Eyeballs failures.</div></div>
<div class="ttc" id="agroup__async__io_html_ga5ef2e9ba01aa72f8a3ae864a1ba58bc3"><div class="ttname"><a href="group__async__io.html#ga5ef2e9ba01aa72f8a3ae864a1ba58bc3">SocketHappyEyeballs_connect</a></div><div class="ttdeci">Socket_T SocketHappyEyeballs_connect(const char *host, int port, const SocketHE_Config_T *config)</div><div class="ttdoc">Perform synchronous Happy Eyeballs connection to host (RFC 8305 compliant).</div></div>
<div class="ttc" id="agroup__foundation_html_gac71a25566cdc9e11eaecb16c966081db"><div class="ttname"><a href="group__foundation.html#gac71a25566cdc9e11eaecb16c966081db">Socket_GetLastError</a></div><div class="ttdeci">const char * Socket_GetLastError(void)</div><div class="ttdoc">Socket_GetLastError - Retrieve the most recent formatted error message.</div></div>
</div><!-- fragment --><p>Implements blocking Happy Eyeballs algorithm: resolves DNS, races IPv6/IPv4 connections, returns first successful socket. Socket is in blocking mode.</p>
<p>Blocks up to total_timeout_ms (default 30s). For non-blocking, use <a class="el" href="group__async__io.html#gaac613520b1e674db06e60155150fef63" title="Start asynchronous Happy Eyeballs connection.">SocketHappyEyeballs_start()</a> with event loop.</p>
<dl class="section warning"><dt>Warning</dt><dd>Long-blocking call; unsuitable for event loops without timeouts. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__async__io.html#gaac613520b1e674db06e60155150fef63" title="Start asynchronous Happy Eyeballs connection.">SocketHappyEyeballs_start()</a> for asynchronous version. </dd>
<dd>
<a class="el" href="group__async__io.html#ga3a5b3e45e53cfda16c76fec1cd4fd637" title="Initialize Happy Eyeballs configuration with default values.">SocketHappyEyeballs_config_defaults()</a> for config setup. </dd>
<dd>
<a class="el" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a> for underlying DNS resolution. </dd>
<dd>
<a class="el" href="ASYNC__IO_8md.html">docs/ASYNC_IO.md</a> "Happy Eyeballs" section for details. </dd></dl>

</div>
</div>
<a id="gafd216882131853124a2894e7aed8b039" name="gafd216882131853124a2894e7aed8b039"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafd216882131853124a2894e7aed8b039">&#9670;&#160;</a></span>SocketHappyEyeballs_error()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char * SocketHappyEyeballs_error </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__async__io.html#structSocketHE__T">SocketHE_T</a>&#160;</td>
          <td class="paramname"><em>he</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the error message for a failed Happy Eyeballs operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">he</td><td>Happy Eyeballs context. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error message string, or NULL if not in FAILED state. </dd></dl>
<dl class="section user"><dt>Thread Safety\n No.</dt><dd></dd></dl>
<p>The returned string is valid until <a class="el" href="group__async__io.html#ga5426942471b0a00d69094f1c8787523f" title="Free the Happy Eyeballs context and release resources.">SocketHappyEyeballs_free()</a> is called.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__async__io.html#ga3307a26e1e23ff4be5d2e33895e6ae79" title="Get the current state of the Happy Eyeballs operation.">SocketHappyEyeballs_state()</a> to check <a class="el" href="group__reconnect__private.html#ga0450dbfcd56214ed2989e6ff4d97b25d" title="Generate uniform random double in [0.0, 1.0) for jitter in backoff calculations.">if</a> FAILED. </dd>
<dd>
<a class="el" href="group__async__io.html#ga2189771ae05195653ab16170d72a251d" title="Exception raised on Happy Eyeballs failures.">SocketHE_Failed</a> for general exception. </dd></dl>

</div>
</div>
<a id="ga5426942471b0a00d69094f1c8787523f" name="ga5426942471b0a00d69094f1c8787523f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5426942471b0a00d69094f1c8787523f">&#9670;&#160;</a></span>SocketHappyEyeballs_free()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SocketHappyEyeballs_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__async__io.html#structSocketHE__T">SocketHE_T</a> *&#160;</td>
          <td class="paramname"><em>he</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Free the Happy Eyeballs context and release resources. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">he</td><td>Pointer to context (set to NULL on success). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Thread Safety\n No.</dt><dd></dd></dl>
<p>Releases all resources. If operation is still in progress, it will be cancelled first. Safe to call with NULL or *he == NULL.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__async__io.html#gaac613520b1e674db06e60155150fef63" title="Start asynchronous Happy Eyeballs connection.">SocketHappyEyeballs_start()</a> for creation. </dd>
<dd>
<a class="el" href="group__async__io.html#gae3383dd7df82083ec8d7f72fbae76cb5" title="Cancel an in-progress Happy Eyeballs operation.">SocketHappyEyeballs_cancel()</a> for explicit cancellation. </dd></dl>

</div>
</div>
<a id="ga120f34eb8ef4b3f902a029b800577663" name="ga120f34eb8ef4b3f902a029b800577663"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga120f34eb8ef4b3f902a029b800577663">&#9670;&#160;</a></span>SocketHappyEyeballs_next_timeout_ms()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int SocketHappyEyeballs_next_timeout_ms </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__async__io.html#structSocketHE__T">SocketHE_T</a>&#160;</td>
          <td class="paramname"><em>he</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get milliseconds until the next Happy Eyeballs timer expiry. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">he</td><td>Happy Eyeballs context. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Milliseconds until next timeout, or -1 if no pending timers. </dd></dl>
<dl class="section user"><dt>Thread Safety\n No.</dt><dd></dd></dl>
<p>Use this as the timeout argument to <a class="el" href="group__event__system.html#gaa3d47365dd18329d50ee636284839738" title="Block and wait for I/O events or timeout on registered sockets.">SocketPoll_wait()</a> for efficient event loop integration. Returns the minimum of:</p><ul>
<li>Time until total timeout expires</li>
<li>Time until fallback timer fires</li>
</ul>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__event__system.html#gaa3d47365dd18329d50ee636284839738" title="Block and wait for I/O events or timeout on registered sockets.">SocketPoll_wait()</a> for usage in event loops. </dd>
<dd>
<a class="el" href="group__async__io.html#ga84e7ceec1f0f61c40664e76db29336de" title="Process events and advance the Happy Eyeballs state machine.">SocketHappyEyeballs_process()</a> for timer handling. </dd></dl>

</div>
</div>
<a id="ga0a9452621088791eecef4112e36e4176" name="ga0a9452621088791eecef4112e36e4176"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0a9452621088791eecef4112e36e4176">&#9670;&#160;</a></span>SocketHappyEyeballs_poll()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int SocketHappyEyeballs_poll </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__async__io.html#structSocketHE__T">SocketHE_T</a>&#160;</td>
          <td class="paramname"><em>he</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if Happy Eyeballs operation is complete. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">he</td><td>Happy Eyeballs context. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if complete (success, failure, or cancelled), 0 if in progress. </dd></dl>
<dl class="section user"><dt>Thread Safety\n No.</dt><dd></dd></dl>
<h2><a class="anchor" id="autotoc_md589"></a>
Usage Example</h2>
<div class="fragment"><div class="line"><span class="comment">// Check completion status in event loop</span></div>
<div class="line"><span class="keywordflow">if</span> (<a class="code hl_function" href="group__async__io.html#ga0a9452621088791eecef4112e36e4176">SocketHappyEyeballs_poll</a>(he)) {</div>
<div class="line">    <a class="code hl_enumeration" href="group__async__io.html#gac1b193256ec44f27e6f0f307b0c2e524">SocketHE_State</a> <a class="code hl_variable" href="SocketHappyEyeballs-private_8h.html#a701136b6320d53560cfe228535884502">state</a> = <a class="code hl_function" href="group__async__io.html#ga3307a26e1e23ff4be5d2e33895e6ae79">SocketHappyEyeballs_state</a>(he);</div>
<div class="line">    <span class="keywordflow">switch</span> (<a class="code hl_variable" href="SocketHappyEyeballs-private_8h.html#a701136b6320d53560cfe228535884502">state</a>) {</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="group__async__io.html#ggac1b193256ec44f27e6f0f307b0c2e524afc61138380fa654235b963249af25d21">HE_STATE_CONNECTED</a>:</div>
<div class="line">        <span class="comment">// Success: get socket</span></div>
<div class="line">        Socket_T sock = <a class="code hl_function" href="group__async__io.html#gaeedc2998806b4e465a999688333bae1d">SocketHappyEyeballs_result</a>(he);</div>
<div class="line">        <span class="comment">// sock ownership transferred; add to your poll or use</span></div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="group__async__io.html#ggac1b193256ec44f27e6f0f307b0c2e524a4c6d8bc45fa1b7e19329162553fa9519">HE_STATE_FAILED</a>:</div>
<div class="line">        <span class="comment">// Failure: get error</span></div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">char</span> *err = <a class="code hl_function" href="group__async__io.html#gafd216882131853124a2894e7aed8b039">SocketHappyEyeballs_error</a>(he);</div>
<div class="line">        <a class="code hl_define" href="SocketUtil_8h.html#a16642c35dec627aeb4976538671b1552">SOCKET_LOG_ERROR_MSG</a>(<span class="stringliteral">&quot;HE failed: %s&quot;</span>, err);</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="group__async__io.html#ggac1b193256ec44f27e6f0f307b0c2e524a888ca7f61cc029908d4ef63b7ca96bd8">HE_STATE_CANCELLED</a>:</div>
<div class="line">        <span class="comment">// Cancelled by user</span></div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">default</span>:</div>
<div class="line">        <span class="comment">// Should not reach here if poll() returned true</span></div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line">    <a class="code hl_function" href="group__async__io.html#ga5426942471b0a00d69094f1c8787523f">SocketHappyEyeballs_free</a>(&amp;he);</div>
<div class="line">} <span class="keywordflow">else</span> {</div>
<div class="line">    <span class="comment">// Still in progress: continue polling</span></div>
<div class="line">}</div>
<div class="ttc" id="agroup__async__io_html_ga0a9452621088791eecef4112e36e4176"><div class="ttname"><a href="group__async__io.html#ga0a9452621088791eecef4112e36e4176">SocketHappyEyeballs_poll</a></div><div class="ttdeci">int SocketHappyEyeballs_poll(SocketHE_T he)</div><div class="ttdoc">Check if Happy Eyeballs operation is complete.</div></div>
<div class="ttc" id="agroup__async__io_html_ga3307a26e1e23ff4be5d2e33895e6ae79"><div class="ttname"><a href="group__async__io.html#ga3307a26e1e23ff4be5d2e33895e6ae79">SocketHappyEyeballs_state</a></div><div class="ttdeci">SocketHE_State SocketHappyEyeballs_state(SocketHE_T he)</div><div class="ttdoc">Get the current state of the Happy Eyeballs operation.</div></div>
<div class="ttc" id="agroup__async__io_html_ga5426942471b0a00d69094f1c8787523f"><div class="ttname"><a href="group__async__io.html#ga5426942471b0a00d69094f1c8787523f">SocketHappyEyeballs_free</a></div><div class="ttdeci">void SocketHappyEyeballs_free(SocketHE_T *he)</div><div class="ttdoc">Free the Happy Eyeballs context and release resources.</div></div>
<div class="ttc" id="agroup__async__io_html_gac1b193256ec44f27e6f0f307b0c2e524"><div class="ttname"><a href="group__async__io.html#gac1b193256ec44f27e6f0f307b0c2e524">SocketHE_State</a></div><div class="ttdeci">SocketHE_State</div><div class="ttdoc">State enumeration for Happy Eyeballs connection progress.</div><div class="ttdef"><b>Definition</b> <a href="SocketHappyEyeballs_8h_source.html#l00115">SocketHappyEyeballs.h:116</a></div></div>
<div class="ttc" id="agroup__async__io_html_gaeedc2998806b4e465a999688333bae1d"><div class="ttname"><a href="group__async__io.html#gaeedc2998806b4e465a999688333bae1d">SocketHappyEyeballs_result</a></div><div class="ttdeci">Socket_T SocketHappyEyeballs_result(SocketHE_T he)</div><div class="ttdoc">Get the connected socket from a completed Happy Eyeballs operation.</div></div>
<div class="ttc" id="agroup__async__io_html_gafd216882131853124a2894e7aed8b039"><div class="ttname"><a href="group__async__io.html#gafd216882131853124a2894e7aed8b039">SocketHappyEyeballs_error</a></div><div class="ttdeci">const char * SocketHappyEyeballs_error(SocketHE_T he)</div><div class="ttdoc">Get the error message for a failed Happy Eyeballs operation.</div></div>
<div class="ttc" id="agroup__async__io_html_ggac1b193256ec44f27e6f0f307b0c2e524a4c6d8bc45fa1b7e19329162553fa9519"><div class="ttname"><a href="group__async__io.html#ggac1b193256ec44f27e6f0f307b0c2e524a4c6d8bc45fa1b7e19329162553fa9519">HE_STATE_FAILED</a></div><div class="ttdeci">@ HE_STATE_FAILED</div><div class="ttdef"><b>Definition</b> <a href="SocketHappyEyeballs_8h_source.html#l00121">SocketHappyEyeballs.h:121</a></div></div>
<div class="ttc" id="agroup__async__io_html_ggac1b193256ec44f27e6f0f307b0c2e524a888ca7f61cc029908d4ef63b7ca96bd8"><div class="ttname"><a href="group__async__io.html#ggac1b193256ec44f27e6f0f307b0c2e524a888ca7f61cc029908d4ef63b7ca96bd8">HE_STATE_CANCELLED</a></div><div class="ttdeci">@ HE_STATE_CANCELLED</div><div class="ttdef"><b>Definition</b> <a href="SocketHappyEyeballs_8h_source.html#l00123">SocketHappyEyeballs.h:122</a></div></div>
<div class="ttc" id="agroup__async__io_html_ggac1b193256ec44f27e6f0f307b0c2e524afc61138380fa654235b963249af25d21"><div class="ttname"><a href="group__async__io.html#ggac1b193256ec44f27e6f0f307b0c2e524afc61138380fa654235b963249af25d21">HE_STATE_CONNECTED</a></div><div class="ttdeci">@ HE_STATE_CONNECTED</div><div class="ttdef"><b>Definition</b> <a href="SocketHappyEyeballs_8h_source.html#l00120">SocketHappyEyeballs.h:120</a></div></div>
</div><!-- fragment --><p>Non-blocking check for completion. Returns 1 upon reaching terminal state (CONNECTED, FAILED, CANCELLED). Always pair with <a class="el" href="group__async__io.html#ga3307a26e1e23ff4be5d2e33895e6ae79" title="Get the current state of the Happy Eyeballs operation.">SocketHappyEyeballs_state()</a> to determine outcome.</p>
<dl class="section user"><dt>Complexity\n O(1) - fast state query, no side effects or I/O</dt><dd></dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__async__io.html#ga3307a26e1e23ff4be5d2e33895e6ae79" title="Get the current state of the Happy Eyeballs operation.">SocketHappyEyeballs_state()</a> to check outcome. </dd>
<dd>
<a class="el" href="group__async__io.html#ga84e7ceec1f0f61c40664e76db29336de" title="Process events and advance the Happy Eyeballs state machine.">SocketHappyEyeballs_process()</a> which must be called regularly. </dd>
<dd>
<a class="el" href="group__async__io.html#gaac613520b1e674db06e60155150fef63" title="Start asynchronous Happy Eyeballs connection.">SocketHappyEyeballs_start()</a> for initiating the operation. </dd></dl>

</div>
</div>
<a id="ga84e7ceec1f0f61c40664e76db29336de" name="ga84e7ceec1f0f61c40664e76db29336de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga84e7ceec1f0f61c40664e76db29336de">&#9670;&#160;</a></span>SocketHappyEyeballs_process()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SocketHappyEyeballs_process </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__async__io.html#structSocketHE__T">SocketHE_T</a>&#160;</td>
          <td class="paramname"><em>he</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Process events and advance the Happy Eyeballs state machine. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">he</td><td>Happy Eyeballs context. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Thread Safety\n No.</dt><dd></dd></dl>
<h2><a class="anchor" id="autotoc_md590"></a>
Usage Example</h2>
<div class="fragment"><div class="line"><span class="comment">// Typical integration in event loop after SocketPoll_wait()</span></div>
<div class="line"><a class="code hl_struct" href="group__event__system.html#structSocketEvent__T">SocketEvent_T</a> *events = NULL;</div>
<div class="line"><span class="keywordtype">int</span> nfds = <a class="code hl_function" href="group__event__system.html#gaa3d47365dd18329d50ee636284839738">SocketPoll_wait</a>(poll, &amp;events, timeout_ms);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Handle other registered events first</span></div>
<div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nfds; ++i) {</div>
<div class="line">    <a class="code hl_struct" href="group__event__system.html#structSocketEvent__T">SocketEvent_T</a> *ev = &amp;events[i];</div>
<div class="line">    <span class="comment">// ... handle ev-&gt;socket events (read/write/error) ...</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Advance Happy Eyeballs state machine</span></div>
<div class="line"><a class="code hl_function" href="group__async__io.html#ga84e7ceec1f0f61c40664e76db29336de">SocketHappyEyeballs_process</a>(he);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Check for completion after processing</span></div>
<div class="line"><span class="keywordflow">if</span> (<a class="code hl_function" href="group__async__io.html#ga0a9452621088791eecef4112e36e4176">SocketHappyEyeballs_poll</a>(he)) {</div>
<div class="line">    <a class="code hl_enumeration" href="group__async__io.html#gac1b193256ec44f27e6f0f307b0c2e524">SocketHE_State</a> <a class="code hl_variable" href="SocketHappyEyeballs-private_8h.html#a701136b6320d53560cfe228535884502">state</a> = <a class="code hl_function" href="group__async__io.html#ga3307a26e1e23ff4be5d2e33895e6ae79">SocketHappyEyeballs_state</a>(he);</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code hl_variable" href="SocketHappyEyeballs-private_8h.html#a701136b6320d53560cfe228535884502">state</a> == <a class="code hl_enumvalue" href="group__async__io.html#ggac1b193256ec44f27e6f0f307b0c2e524afc61138380fa654235b963249af25d21">HE_STATE_CONNECTED</a>) {</div>
<div class="line">        Socket_T sock = <a class="code hl_function" href="group__async__io.html#gaeedc2998806b4e465a999688333bae1d">SocketHappyEyeballs_result</a>(he);</div>
<div class="line">        <span class="comment">// Connected! Add to poll or use synchronously</span></div>
<div class="line">    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="SocketHappyEyeballs-private_8h.html#a701136b6320d53560cfe228535884502">state</a> == <a class="code hl_enumvalue" href="group__async__io.html#ggac1b193256ec44f27e6f0f307b0c2e524a4c6d8bc45fa1b7e19329162553fa9519">HE_STATE_FAILED</a>) {</div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">char</span> *err = <a class="code hl_function" href="group__async__io.html#gafd216882131853124a2894e7aed8b039">SocketHappyEyeballs_error</a>(he);</div>
<div class="line">        <span class="comment">// Log error and retry or fail</span></div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="agroup__async__io_html_ga84e7ceec1f0f61c40664e76db29336de"><div class="ttname"><a href="group__async__io.html#ga84e7ceec1f0f61c40664e76db29336de">SocketHappyEyeballs_process</a></div><div class="ttdeci">void SocketHappyEyeballs_process(SocketHE_T he)</div><div class="ttdoc">Process events and advance the Happy Eyeballs state machine.</div></div>
<div class="ttc" id="agroup__event__system_html_structSocketEvent__T"><div class="ttname"><a href="group__event__system.html#structSocketEvent__T">SocketEvent_T</a></div><div class="ttdoc">Event notification structure returned by polling operations.</div><div class="ttdef"><b>Definition</b> <a href="SocketPoll_8h_source.html#l00187">SocketPoll.h:188</a></div></div>
</div><!-- fragment --><p>Call after <a class="el" href="group__event__system.html#gaa3d47365dd18329d50ee636284839738" title="Block and wait for I/O events or timeout on registered sockets.">SocketPoll_wait()</a> returns. This function:</p><ul>
<li>Checks DNS completion and processes results</li>
<li>Checks connection attempt completion</li>
<li>Starts fallback attempts after delay</li>
<li>Handles timeouts and state transitions</li>
</ul>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__async__io.html#ga0a9452621088791eecef4112e36e4176" title="Check if Happy Eyeballs operation is complete.">SocketHappyEyeballs_poll()</a> to check for completion. </dd>
<dd>
<a class="el" href="group__event__system.html#gaa3d47365dd18329d50ee636284839738" title="Block and wait for I/O events or timeout on registered sockets.">SocketPoll_wait()</a> for event waiting. </dd>
<dd>
<a class="el" href="group__async__io.html#gaac613520b1e674db06e60155150fef63" title="Start asynchronous Happy Eyeballs connection.">SocketHappyEyeballs_start()</a> for setup. </dd></dl>
<dl class="section user"><dt>Complexity\n O(k) where k is number of pending connection attempts (typically small, &lt;= max_attempts)</dt><dd></dd></dl>

</div>
</div>
<a id="gaeedc2998806b4e465a999688333bae1d" name="gaeedc2998806b4e465a999688333bae1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaeedc2998806b4e465a999688333bae1d">&#9670;&#160;</a></span>SocketHappyEyeballs_result()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Socket_T SocketHappyEyeballs_result </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__async__io.html#structSocketHE__T">SocketHE_T</a>&#160;</td>
          <td class="paramname"><em>he</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the connected socket from a completed Happy Eyeballs operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">he</td><td>Happy Eyeballs context. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Connected socket, or NULL if failed/cancelled/pending. </dd></dl>
<dl class="section user"><dt>Thread Safety\n No.</dt><dd></dd></dl>
<p>Transfers socket ownership to caller. Caller must <a class="el" href="group__core__io.html#ga74ad7a9bb8deaf499c59d90d6e411f37" title="Dispose of a socket instance and close the underlying file descriptor.">Socket_free()</a> when done. The returned socket is in blocking mode. Can only be called once per successful connection - subsequent calls return NULL.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__async__io.html#ga3307a26e1e23ff4be5d2e33895e6ae79" title="Get the current state of the Happy Eyeballs operation.">SocketHappyEyeballs_state()</a> to verify success. </dd>
<dd>
<a class="el" href="group__core__io.html#ga74ad7a9bb8deaf499c59d90d6e411f37" title="Dispose of a socket instance and close the underlying file descriptor.">Socket_free()</a> for cleanup. </dd>
<dd>
<a class="el" href="group__async__io.html#ga5ef2e9ba01aa72f8a3ae864a1ba58bc3" title="Perform synchronous Happy Eyeballs connection to host (RFC 8305 compliant).">SocketHappyEyeballs_connect()</a> synchronous equivalent. </dd></dl>

</div>
</div>
<a id="gaac613520b1e674db06e60155150fef63" name="gaac613520b1e674db06e60155150fef63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaac613520b1e674db06e60155150fef63">&#9670;&#160;</a></span>SocketHappyEyeballs_start()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__async__io.html#structSocketHE__T">SocketHE_T</a> SocketHappyEyeballs_start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a>&#160;</td>
          <td class="paramname"><em>dns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SocketPoll_T&#160;</td>
          <td class="paramname"><em>poll</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__async__io.html#structSocketHE__Config__T">SocketHE_Config_T</a> *&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Start asynchronous Happy Eyeballs connection. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dns</td><td>DNS resolver instance (caller-owned, must outlive operation). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">poll</td><td>Poll instance for connection monitoring (caller-owned). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">host</td><td>Hostname or IP address to connect to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">port</td><td>Port number (1-65535). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">config</td><td>Configuration options (NULL for defaults). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Happy Eyeballs context handle. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">SocketHE_Failed</td><td>on initialization failure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Thread Safety\n No - operate from single thread.</dt><dd></dd></dl>
<h2><a class="anchor" id="autotoc_md588"></a>
Usage Example</h2>
<div class="fragment"><div class="line"><span class="comment">// Assume dns and poll are initialized elsewhere</span></div>
<div class="line"><span class="comment">// SocketDNS_T dns = SocketDNS_new();</span></div>
<div class="line"><span class="comment">// SocketPoll_T poll = SocketPoll_new(1024);</span></div>
<div class="line"> </div>
<div class="line"><a class="code hl_struct" href="group__async__io.html#structSocketHE__Config__T">SocketHE_Config_T</a> config;</div>
<div class="line"><a class="code hl_function" href="group__async__io.html#ga3a5b3e45e53cfda16c76fec1cd4fd637">SocketHappyEyeballs_config_defaults</a>(&amp;config);</div>
<div class="line"> </div>
<div class="line"><a class="code hl_struct" href="group__async__io.html#structSocketHE__T">SocketHE_T</a> he = <a class="code hl_function" href="group__async__io.html#gaac613520b1e674db06e60155150fef63">SocketHappyEyeballs_start</a>(dns, poll, <span class="stringliteral">&quot;example.com&quot;</span>, 443, &amp;config);</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">while</span> (!<a class="code hl_function" href="group__async__io.html#ga0a9452621088791eecef4112e36e4176">SocketHappyEyeballs_poll</a>(he)) {</div>
<div class="line">    <span class="keywordtype">int</span> timeout_ms = <a class="code hl_function" href="group__async__io.html#ga120f34eb8ef4b3f902a029b800577663">SocketHappyEyeballs_next_timeout_ms</a>(he);</div>
<div class="line">    <span class="keywordflow">if</span> (timeout_ms &lt; 0) timeout_ms = 100;  <span class="comment">// Fallback poll interval</span></div>
<div class="line"> </div>
<div class="line">    <a class="code hl_struct" href="group__event__system.html#structSocketEvent__T">SocketEvent_T</a> *events;</div>
<div class="line">    <span class="keywordtype">int</span> nfds = <a class="code hl_function" href="group__event__system.html#gaa3d47365dd18329d50ee636284839738">SocketPoll_wait</a>(poll, &amp;events, timeout_ms);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Process other poll events first...</span></div>
<div class="line">    <span class="comment">// ... handle events ...</span></div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="group__async__io.html#ga84e7ceec1f0f61c40664e76db29336de">SocketHappyEyeballs_process</a>(he);  <span class="comment">// Advance HE state</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (<a class="code hl_function" href="group__async__io.html#ga3307a26e1e23ff4be5d2e33895e6ae79">SocketHappyEyeballs_state</a>(he) == <a class="code hl_enumvalue" href="group__async__io.html#ggac1b193256ec44f27e6f0f307b0c2e524afc61138380fa654235b963249af25d21">HE_STATE_CONNECTED</a>) {</div>
<div class="line">    Socket_T sock = <a class="code hl_function" href="group__async__io.html#gaeedc2998806b4e465a999688333bae1d">SocketHappyEyeballs_result</a>(he);</div>
<div class="line">    <span class="comment">// Use sock...</span></div>
<div class="line">    <a class="code hl_function" href="group__core__io.html#ga74ad7a9bb8deaf499c59d90d6e411f37">Socket_free</a>(&amp;sock);</div>
<div class="line">} <span class="keywordflow">else</span> {</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *err = <a class="code hl_function" href="group__async__io.html#gafd216882131853124a2894e7aed8b039">SocketHappyEyeballs_error</a>(he);</div>
<div class="line">    <span class="comment">// Handle failure</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code hl_function" href="group__async__io.html#ga5426942471b0a00d69094f1c8787523f">SocketHappyEyeballs_free</a>(&amp;he);</div>
<div class="ttc" id="agroup__async__io_html_ga120f34eb8ef4b3f902a029b800577663"><div class="ttname"><a href="group__async__io.html#ga120f34eb8ef4b3f902a029b800577663">SocketHappyEyeballs_next_timeout_ms</a></div><div class="ttdeci">int SocketHappyEyeballs_next_timeout_ms(SocketHE_T he)</div><div class="ttdoc">Get milliseconds until the next Happy Eyeballs timer expiry.</div></div>
<div class="ttc" id="agroup__async__io_html_gaac613520b1e674db06e60155150fef63"><div class="ttname"><a href="group__async__io.html#gaac613520b1e674db06e60155150fef63">SocketHappyEyeballs_start</a></div><div class="ttdeci">SocketHE_T SocketHappyEyeballs_start(SocketDNS_T dns, SocketPoll_T poll, const char *host, int port, const SocketHE_Config_T *config)</div><div class="ttdoc">Start asynchronous Happy Eyeballs connection.</div></div>
</div><!-- fragment --><p>Starts asynchronous Happy Eyeballs connection. Caller must:</p><ol type="1">
<li>Call <a class="el" href="group__async__io.html#ga84e7ceec1f0f61c40664e76db29336de" title="Process events and advance the Happy Eyeballs state machine.">SocketHappyEyeballs_process()</a> after each poll wait</li>
<li>Check <a class="el" href="group__async__io.html#ga0a9452621088791eecef4112e36e4176" title="Check if Happy Eyeballs operation is complete.">SocketHappyEyeballs_poll()</a> for completion</li>
<li>Call <a class="el" href="group__async__io.html#gaeedc2998806b4e465a999688333bae1d" title="Get the connected socket from a completed Happy Eyeballs operation.">SocketHappyEyeballs_result()</a> to get socket</li>
<li>Call <a class="el" href="group__async__io.html#ga5426942471b0a00d69094f1c8787523f" title="Free the Happy Eyeballs context and release resources.">SocketHappyEyeballs_free()</a> to release context</li>
</ol>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__async__io.html#ga5ef2e9ba01aa72f8a3ae864a1ba58bc3" title="Perform synchronous Happy Eyeballs connection to host (RFC 8305 compliant).">SocketHappyEyeballs_connect()</a> for synchronous version. </dd>
<dd>
<a class="el" href="group__async__io.html#ga3a5b3e45e53cfda16c76fec1cd4fd637" title="Initialize Happy Eyeballs configuration with default values.">SocketHappyEyeballs_config_defaults()</a> for config setup. </dd>
<dd>
<a class="el" href="group__dns.html#structSocketDNS__T">SocketDNS</a> for DNS integration. </dd>
<dd>
SocketPoll for event loop integration. </dd></dl>

</div>
</div>
<a id="ga3307a26e1e23ff4be5d2e33895e6ae79" name="ga3307a26e1e23ff4be5d2e33895e6ae79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3307a26e1e23ff4be5d2e33895e6ae79">&#9670;&#160;</a></span>SocketHappyEyeballs_state()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__async__io.html#gac1b193256ec44f27e6f0f307b0c2e524">SocketHE_State</a> SocketHappyEyeballs_state </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__async__io.html#structSocketHE__T">SocketHE_T</a>&#160;</td>
          <td class="paramname"><em>he</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the current state of the Happy Eyeballs operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">he</td><td>Happy Eyeballs context. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Current state (SocketHE_State enum). </dd></dl>
<dl class="section user"><dt>Thread Safety\n No.</dt><dd></dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__async__io.html#gac1b193256ec44f27e6f0f307b0c2e524" title="State enumeration for Happy Eyeballs connection progress.">SocketHE_State</a> for possible values. </dd>
<dd>
<a class="el" href="group__async__io.html#ga0a9452621088791eecef4112e36e4176" title="Check if Happy Eyeballs operation is complete.">SocketHappyEyeballs_poll()</a> to wait for completion. </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="gabf6dc3901a5139f2f7f093db3003b798" name="gabf6dc3901a5139f2f7f093db3003b798"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabf6dc3901a5139f2f7f093db3003b798">&#9670;&#160;</a></span>addr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct addrinfo* addr</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Single connection attempt structure in Happy Eyeballs racing. </p>
<p>Represents one parallel connection try to a resolved address in the IPv4/IPv6 racing algorithm (RFC 8305). Multiple instances are created and managed concurrently to minimize connection latency. Allocated from the owning <a class="el" href="group__async__io.html#a5169929482a5d5802c28ce9a8564083a">SocketHE_T::arena</a> for efficient, bulk memory management; linked via <a class="el" href="SocketHappyEyeballs-private_8h.html#a8cfef7a67b323a611a42e8eab03eed22">next</a> in a singly-linked list for O(1) append/removal.</p>
<p>Lifecycle Management:</p><ul>
<li>Created internally by <a class="el" href="group__async__io.html#structSocketHE__T" title="Main opaque context for Happy Eyeballs (RFC 8305) dual-stack connection racing.">SocketHE_T</a> when initiating connect(2) to a specific address.</li>
<li>Progress tracked via <a class="el" href="SocketHappyEyeballs-private_8h.html#a701136b6320d53560cfe228535884502">state</a> transitions during <a class="el" href="group__async__io.html#ga84e7ceec1f0f61c40664e76db29336de" title="Process events and advance the Happy Eyeballs state machine.">SocketHappyEyeballs_process()</a>.</li>
<li>On success: ::socket may become the winner (transferred to caller) or closed on loss.</li>
<li>On failure/timeout: ::socket closed, <a class="el" href="SocketHappyEyeballs-private_8h.html#a11614f44ef4d939bdd984953346a7572">error</a> set, state to FAILED.</li>
<li>Destroyed automatically via Arena_clear/dispose in owning context.</li>
</ul>
<p>Thread Safety Characteristics:</p><ul>
<li>No - internal opaque structure; concurrent access from multiple threads leads to undefined behavior.</li>
<li>All modifications protected by owning <a class="el" href="group__async__io.html#structSocketHE__T" title="Main opaque context for Happy Eyeballs (RFC 8305) dual-stack connection racing.">SocketHE_T</a>'s internal synchronization (if implemented).</li>
</ul>
<p>Related Types and Functions:</p><ul>
<li>Integrated with <a class="el" href="group__async__io.html#ada23c08d9d2867a7f02b9e7f03697fae">SocketHE_T::attempts</a> list and SocketHE_AddressEntry_T for address selection.</li>
<li>State machine driven by internal connection polling logic.</li>
<li>Error reporting via <a class="el" href="SocketHappyEyeballs-private_8h.html#a11614f44ef4d939bdd984953346a7572">error</a> for post-mortem analysis.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Fields are private implementation details; direct manipulation corrupts the state machine. </dd>
<dd>
<a class="el" href="group__async__io.html#gabf6dc3901a5139f2f7f093db3003b798" title="Single connection attempt structure in Happy Eyeballs racing.">addr</a> borrows reference from ::resolved in <a class="el" href="group__async__io.html#structSocketHE__T" title="Main opaque context for Happy Eyeballs (RFC 8305) dual-stack connection racing.">SocketHE_T</a>; lifetime tied to context. </dd>
<dd>
<a class="el" href="SocketHappyEyeballs-private_8h.html#a11614f44ef4d939bdd984953346a7572">error</a> captures exact errno from connect(2), sendmmsg(2), or poll(2) failures. </dd>
<dd>
<a class="el" href="SocketHappyEyeballs-private_8h.html#ad2a2dd6f82dee045d069868263a0081f">start_time_ms</a> uses <a class="el" href="group__foundation.html#ga264bfa9d1cf07aa22446a4df6c4936bf" title="Socket_get_monotonic_ms - Get current monotonic time in milliseconds.">Socket_get_monotonic_ms()</a> for accurate elapsed time calculations. </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>External closure of ::socket invalidates attempt state; avoid concurrent I/O. </dd>
<dd>
Reuse of freed attempts undefined; rely on arena management.</dd></dl>
<dl class="section user"><dt>Complexity\n O(1) access and update - direct field access, no lookups.</dt><dd></dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__async__io.html#ga9ceb0606fea5b72366bbd21ff047c84f" title="State enumeration for individual Happy Eyeballs connection attempts.">SocketHE_AttemptState</a> for detailed <a class="el" href="SocketHappyEyeballs-private_8h.html#a701136b6320d53560cfe228535884502">state</a> transitions. </dd>
<dd>
<a class="el" href="group__async__io.html#ada23c08d9d2867a7f02b9e7f03697fae">SocketHE_T::attempts</a> for list integration and iteration. </dd>
<dd>
<a class="el" href="SocketHappyEyeballs_8h.html" title="Happy Eyeballs (RFC 8305) implementation for fast dual-stack connections.">SocketHappyEyeballs.h</a> for public-facing connection API. </dd>
<dd>
Socket_T for underlying socket operations and ownership rules. </dd>
<dd>
<a class="el" href="group__foundation.html#ga264bfa9d1cf07aa22446a4df6c4936bf" title="Socket_get_monotonic_ms - Get current monotonic time in milliseconds.">Socket_get_monotonic_ms()</a> for timing source. </dd>
<dd>
<a class="el" href="ASYNC__IO_8md.html">docs/ASYNC_IO.md</a>#happy-eyeballs-connection-racing for algorithm context. typedef struct SocketHE_Attempt { Socket_T socket; /**&lt; Socket instance (NULL <a class="el" href="group__reconnect__private.html#ga0450dbfcd56214ed2989e6ff4d97b25d" title="Generate uniform random double in [0.0, 1.0) for jitter in backoff calculations.">if</a> failed or completed). Target address (borrowed reference from DNS results). </dd></dl>

<p class="definition">Definition at line <a class="el" href="SocketHappyEyeballs-private_8h_source.html#l00150">150</a> of file <a class="el" href="SocketHappyEyeballs-private_8h_source.html">SocketHappyEyeballs-private.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="SocketCommon_8h_source.html#l00971">SocketCommon_check_bound_by_family()</a>, <a class="el" href="SocketCommon_8h_source.html#l00932">SocketCommon_check_bound_ipv4()</a>, <a class="el" href="SocketCommon_8h_source.html#l00945">SocketCommon_check_bound_ipv6()</a>, and <a class="el" href="SocketCommon_8h_source.html#l00958">SocketCommon_check_bound_unix()</a>.</p>

</div>
</div>
<a id="ga4417150d9f858949bd9ea8794995ebcc" name="ga4417150d9f858949bd9ea8794995ebcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4417150d9f858949bd9ea8794995ebcc">&#9670;&#160;</a></span>family</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int family</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wrapper structure for resolved addresses in Happy Eyeballs address preference ordering. </p>
<p>Implements RFC 8305 §4.2 address sorting and interleaving logic: prefers configured family (IPv6 default), tracks attempted addresses to avoid duplicates, wraps struct addrinfo for simplified list management and iteration. Used internally to select next address for connection attempts during racing phase.</p>
<p>Lifecycle Management:</p><ul>
<li>Created from SocketDNS results during resolution phase in <a class="el" href="group__async__io.html#structSocketHE__T" title="Main opaque context for Happy Eyeballs (RFC 8305) dual-stack connection racing.">SocketHE_T</a>.</li>
<li>Sorted by family preference and address order (stable sort preserves DNS order).</li>
<li><a class="el" href="SocketHappyEyeballs-private_8h.html#aac39ea8065d9b2b99c2b8a4a7c4ca130">tried</a> flag updated when attempt starts for that address.</li>
<li>List persists until operation completes or context freed; addresses freed via freeaddrinfo() on ::resolved.</li>
</ul>
<p>Thread Safety Characteristics:</p><ul>
<li>No - internal structure; access serialized by owning <a class="el" href="group__async__io.html#structSocketHE__T" title="Main opaque context for Happy Eyeballs (RFC 8305) dual-stack connection racing.">SocketHE_T</a> thread.</li>
<li>List modifications (if any) protected internally.</li>
</ul>
<p>Related Types and Functions:</p><ul>
<li>Derived from struct addrinfo * in <a class="el" href="group__async__io.html#ad946a43e291746a30778e019e7e8c822">SocketHE_T::resolved</a>.</li>
<li>Used to populate SocketHE_Attempt_T::addr during racing.</li>
<li>Interleaved via <a class="el" href="group__async__io.html#adbefa04345a18fb2d494db017da0a30f">SocketHE_T::next_ipv6</a> / ::next_ipv4 pointers for dual-stack racing.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd><a class="el" href="group__async__io.html#gabf6dc3901a5139f2f7f093db3003b798" title="Single connection attempt structure in Happy Eyeballs racing.">addr</a> is borrowed from global resolved list; do not free individually. </dd>
<dd>
Sorting prefers IPv6 (default) but configurable via <a class="el" href="group__async__io.html#a2286078d8352300a92ddd005f756ae8b">SocketHE_Config_T::prefer_ipv6</a>. </dd>
<dd>
<a class="el" href="group__async__io.html#ga4417150d9f858949bd9ea8794995ebcc" title="Wrapper structure for resolved addresses in Happy Eyeballs address preference ordering.">family</a> extracted for quick filtering; matches <a class="el" href="group__async__io.html#gabf6dc3901a5139f2f7f093db3003b798" title="Single connection attempt structure in Happy Eyeballs racing.">addr</a>-&gt;ai_family. </dd>
<dd>
<a class="el" href="SocketHappyEyeballs-private_8h.html#aac39ea8065d9b2b99c2b8a4a7c4ca130">tried</a> prevents re-attempting failed addresses in same operation. </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Modifying <a class="el" href="SocketHappyEyeballs-private_8h.html#aac39ea8065d9b2b99c2b8a4a7c4ca130">tried</a> externally may cause duplicate attempts or skips.</dd></dl>
<dl class="section user"><dt>Complexity\n O(n log n) initial sort - stable sort by family and address; O(1) iteration.</dt><dd></dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__async__io.html#a6c4cf3aa4f9960ef00dbd7bfb664d15f">SocketHE_T::addresses</a> for sorted list head. </dd>
<dd>
<a class="el" href="group__async__io.html#adbefa04345a18fb2d494db017da0a30f">SocketHE_T::next_ipv6</a> and ::next_ipv4 for race interleaving logic. </dd>
<dd>
<a class="el" href="SocketDNS_8h.html" title="Asynchronous DNS resolution API for non-blocking network applications.">SocketDNS.h</a> and <a class="el" href="group__dns.html#ga380629d9c1650963341d1fe1dacd3253" title="Start asynchronous DNS resolution.">SocketDNS_resolve()</a> for address resolution source. </dd>
<dd>
struct addrinfo for wrapped address details. </dd>
<dd>
<a class="el" href="group__async__io.html#a2286078d8352300a92ddd005f756ae8b">SocketHE_Config_T::prefer_ipv6</a> for preference configuration. </dd>
<dd>
<a class="el" href="ASYNC__IO_8md.html">docs/ASYNC_IO.md</a>#address-selection for RFC 8305 details. typedef struct SocketHE_AddressEntry { struct addrinfo *addr; /**&lt; Borrowed pointer to resolved address info. Address <a class="el" href="group__async__io.html#ga4417150d9f858949bd9ea8794995ebcc" title="Wrapper structure for resolved addresses in Happy Eyeballs address preference ordering.">family</a>: AF_INET or AF_INET6. </dd></dl>

<p class="definition">Definition at line <a class="el" href="SocketHappyEyeballs-private_8h_source.html#l00202">202</a> of file <a class="el" href="SocketHappyEyeballs-private_8h_source.html">SocketHappyEyeballs-private.h</a>.</p>

</div>
</div>
<a id="ga55b9b96eff9c17f45ff5bfb37f431075" name="ga55b9b96eff9c17f45ff5bfb37f431075"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga55b9b96eff9c17f45ff5bfb37f431075">&#9670;&#160;</a></span>SocketAsync_Failed</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="group__foundation.html#structExcept__T">Except_T</a> SocketAsync_Failed</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Module-specific exception for fatal async I/O errors. </p>
<p>Raised by TRY/EXCEPT blocks in async operations for irrecoverable failures. Non-fatal/transient errors (e.g., queue full, EAGAIN) are signaled via return values (0/-1) and errno instead of exceptions to avoid overhead in hot paths.</p>
<p>Common triggers:</p><ul>
<li><b>Initialization</b>: Backend setup fails (e.g., io_uring_queue_init returns -1, insufficient mem/privs, kernel too old)</li>
<li><b>Submission</b>: Invalid socket/params, arena alloc fail, internal corruption</li>
<li><b>Runtime</b>: Backend resource exhaustion, ring overflow, platform bugs</li>
<li><b>Cleanup</b>: Free errors (e.g., pending ops can't cancel)</li>
</ul>
<p>Use Except_message() or <a class="el" href="group__foundation.html#gac71a25566cdc9e11eaecb16c966081db" title="Socket_GetLastError - Retrieve the most recent formatted error message.">Socket_GetLastError()</a> for details. Always pair with <a class="el" href="group__async__io.html#ga0f304bcb93351c8555f9afa74fa9e665" title="Query if native asynchronous I/O backend is operational.">SocketAsync_is_available()</a> post-error to check recovery.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="Except_8h.html" title="Structured exception handling for C with TRY/EXCEPT/FINALLY blocks.">core/Except.h</a> - Exception handling framework (TRY/EXCEPT/RAISE). </dd>
<dd>
<a class="el" href="group__async__io.html#ga1c4916e173cffa9153c983a4fd0d0d56" title="Create a new standalone asynchronous I/O context.">SocketAsync_new()</a> - Throws on backend init failure. </dd>
<dd>
<a class="el" href="group__async__io.html#gae0ecf4f023555d16b855d39841521f2b" title="Submit an asynchronous send operation on a socket.">SocketAsync_send()</a> / <a class="el" href="group__async__io.html#ga46adb5a1db31901afa5d1d6514e41b64" title="Submit an asynchronous receive operation on a socket.">SocketAsync_recv()</a> - Throws on submit failures. </dd>
<dd>
<a class="el" href="group__async__io.html#ga0d3a7b456b962c6abf4dfd91859492e0" title="Destroy an asynchronous I/O context and release associated resources.">SocketAsync_free()</a> - May log but typically non-throwing. </dd>
<dd>
<a class="el" href="group__foundation.html#ga46f8d730d28e8c5cbd55e3cbe4c83945" title="Socket_geterrorcode - Convert last errno to normalized SocketErrorCode.">Socket_geterrorcode()</a> - For non-exception errno errors. </dd></dl>

</div>
</div>
<a id="ga2189771ae05195653ab16170d72a251d" name="ga2189771ae05195653ab16170d72a251d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2189771ae05195653ab16170d72a251d">&#9670;&#160;</a></span>SocketHE_Failed</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="group__foundation.html#structExcept__T">Except_T</a> SocketHE_Failed</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Exception raised on Happy Eyeballs failures. </p>
<p>Thrown by <a class="el" href="group__async__io.html#ga5ef2e9ba01aa72f8a3ae864a1ba58bc3" title="Perform synchronous Happy Eyeballs connection to host (RFC 8305 compliant).">SocketHappyEyeballs_connect()</a> and <a class="el" href="group__async__io.html#gaac613520b1e674db06e60155150fef63" title="Start asynchronous Happy Eyeballs connection.">SocketHappyEyeballs_start()</a> on initialization or operation failures such as DNS errors, timeouts, etc.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__async__io.html#gafd216882131853124a2894e7aed8b039" title="Get the error message for a failed Happy Eyeballs operation.">SocketHappyEyeballs_error()</a> for detailed <a class="el" href="SocketHappyEyeballs-private_8h.html#a11614f44ef4d939bdd984953346a7572">error</a> message on failure. </dd>
<dd>
docs/ERROR_HANDLING.md for exception handling. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<hr class="footer"/>
<footer class="footer">
  <div style="max-width: 960px; margin: 0 auto; padding: 40px 24px;">
    <div style="display: flex; justify-content: space-between; align-items: flex-start; flex-wrap: wrap; gap: 40px;">
      <!-- Brand -->
      <div style="flex: 1; min-width: 200px;">
        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 12px;">
          <div style="width: 24px; height: 24px; background: linear-gradient(135deg, #3b82f6, #8b5cf6); border-radius: 6px;"></div>
          <span style="font-size: 1rem; font-weight: 600; color: #f7f9fa;">Socket Library</span>
        </div>
        <p style="color: #8b98a5; font-size: 0.8125rem; line-height: 1.6; margin: 0;">
          High-performance socket toolkit for POSIX systems with exception-based error handling and TLS 1.3 support.
        </p>
      </div>
      <!-- Links -->
      <div style="display: flex; gap: 48px; flex-wrap: wrap;">
        <div>
          <h4 style="font-size: 0.75rem; font-weight: 600; color: #f7f9fa; text-transform: uppercase; letter-spacing: 0.05em; margin: 0 0 12px 0;">Documentation</h4>
          <ul style="list-style: none; padding: 0; margin: 0;">
            <li style="margin: 6px 0;"><a href="index.html" style="color: #8b98a5; text-decoration: none; font-size: 0.8125rem;">Getting Started</a></li>
            <li style="margin: 6px 0;"><a href="annotated.html" style="color: #8b98a5; text-decoration: none; font-size: 0.8125rem;">Data Structures</a></li>
            <li style="margin: 6px 0;"><a href="globals.html" style="color: #8b98a5; text-decoration: none; font-size: 0.8125rem;">API Reference</a></li>
          </ul>
        </div>
        <div>
          <h4 style="font-size: 0.75rem; font-weight: 600; color: #f7f9fa; text-transform: uppercase; letter-spacing: 0.05em; margin: 0 0 12px 0;">Resources</h4>
          <ul style="list-style: none; padding: 0; margin: 0;">
            <li style="margin: 6px 0;"><a href="files.html" style="color: #8b98a5; text-decoration: none; font-size: 0.8125rem;">Header Files</a></li>
            <li style="margin: 6px 0;"><a href="https://x.com/tetsuocorp" target="_blank" style="color: #8b98a5; text-decoration: none; font-size: 0.8125rem;">Twitter/X</a></li>
          </ul>
        </div>
      </div>
    </div>
    <!-- Bottom -->
    <div style="margin-top: 32px; padding-top: 24px; border-top: 1px solid #30363d; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 16px;">
      <div style="display: flex; align-items: center; gap: 12px;">
        <span style="font-size: 0.75rem; font-weight: 500; color: #10b981; background: rgba(16, 185, 129, 0.1); padding: 4px 8px; border-radius: 4px;">C11</span>
        <span style="font-size: 0.75rem; font-weight: 500; color: #3b82f6; background: rgba(59, 130, 246, 0.1); padding: 4px 8px; border-radius: 4px;">POSIX</span>
        <span style="font-size: 0.75rem; font-weight: 500; color: #8b5cf6; background: rgba(139, 92, 246, 0.1); padding: 4px 8px; border-radius: 4px;">TLS 1.3</span>
      </div>
      <div style="color: #6e7681; font-size: 0.75rem; display: flex; align-items: center; gap: 8px;">
        <span>© 2025 Tetsuo Corporation</span>
        <span style="color: #30363d;">·</span>
        <a href="https://opensource.org/licenses/MIT" target="_blank" style="color: #8b98a5; text-decoration: none;">MIT License</a>
      </div>
    </div>
  </div>
</footer>
</body>
</html>
