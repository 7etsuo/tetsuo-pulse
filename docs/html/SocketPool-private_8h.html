<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="High-performance, exception-driven socket toolkit for POSIX systems">
<meta name="keywords" content="socket, networking, C, POSIX, TCP, UDP, TLS, async, high-performance, library">
<meta name="author" content="Tetsuo Corporation">
<meta name="theme-color" content="#3b82f6">
<title>SocketPool-private.h File Reference</title>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="socket-theme.css" rel="stylesheet" type="text/css"/>
<link href="socket-theme.css" rel="stylesheet" type="text/css"/>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><defs><linearGradient id='g' x1='0%25' y1='0%25' x2='100%25' y2='100%25'><stop offset='0%25' stop-color='%233b82f6'/><stop offset='100%25' stop-color='%238b5cf6'/></linearGradient></defs><rect width='100' height='100' rx='20' fill='url(%23g)'/><text x='50' y='68' font-size='50' text-anchor='middle' fill='white' font-family='sans-serif' font-weight='bold'>S</text></svg>">
</head>
<body>
<div id="top">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Socket Library<span id="projectnumber">1.0.0</span></div>
   <div id="projectbrief">High-performance, exception-driven socket toolkit for POSIX systems</div>
  </td>
  <td style="text-align: right; padding: 20px; vertical-align: middle;">
    <div style="display: flex; gap: 8px; justify-content: flex-end; flex-wrap: wrap; align-items: center;">
      <a href="index.html" class="quick-link">Home</a>
      <a href="annotated.html" class="quick-link">Structures</a>
      <a href="files.html" class="quick-link">Files</a>
      <a href="globals.html" class="quick-link">API</a>
    </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('SocketPool-private_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">SocketPool-private.h File Reference<div class="ingroups"><a class="el" href="group__connection__mgmt.html">Connection Management Modules</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Private implementation details and internal structures for SocketPool module.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;pthread.h&gt;</code><br />
<code>#include &lt;stdatomic.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;time.h&gt;</code><br />
<code>#include &quot;<a class="el" href="Arena_8h_source.html">core/Arena.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Except_8h_source.html">core/Except.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="SocketConfig_8h_source.html">core/SocketConfig.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="SocketIPTracker_8h_source.html">core/SocketIPTracker.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="SocketRateLimit_8h_source.html">core/SocketRateLimit.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="SocketUtil_8h_source.html">core/SocketUtil.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="SocketPool_8h_source.html">pool/SocketPool.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Socket_8h_source.html">socket/Socket.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="SocketBuf_8h_source.html">socket/SocketBuf.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="SocketTLSContext_8h_source.html">tls/SocketTLSContext.h</a>&quot;</code><br />
<code>#include &lt;openssl/ssl.h&gt;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for SocketPool-private.h:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="SocketPool-private_8h__incl.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</div>
<p><a href="SocketPool-private_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:structConnection" id="r_structConnection"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__connection__mgmt.html#structConnection">Connection_T</a></td></tr>
<tr class="memdesc:structConnection"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal structure representing a pooled connection slot.  <a href="group__connection__mgmt.html#structConnection">More...</a><br /></td></tr>
<tr class="separator:structConnection"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structAsyncConnectContext" id="r_structAsyncConnectContext"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__connection__mgmt.html#structAsyncConnectContext">AsyncConnectContext_T</a></td></tr>
<tr class="memdesc:structAsyncConnectContext"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal context structure for tracking asynchronous connect operations.  <a href="group__connection__mgmt.html#structAsyncConnectContext">More...</a><br /></td></tr>
<tr class="separator:structAsyncConnectContext"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structSocketPool__T" id="r_structSocketPool__T"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SocketPool-private_8h.html#structSocketPool__T">SocketPool_T</a></td></tr>
<tr class="separator:structSocketPool__T"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gae461bf5ddae6eda683926a6303af87f6" id="r_gae461bf5ddae6eda683926a6303af87f6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__connection__mgmt.html#gae461bf5ddae6eda683926a6303af87f6">SOCKET_LOG_COMPONENT</a>&#160;&#160;&#160;&quot;SocketPool&quot;</td></tr>
<tr class="memdesc:gae461bf5ddae6eda683926a6303af87f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default log component for all SocketPool implementation files.  <br /></td></tr>
<tr class="separator:gae461bf5ddae6eda683926a6303af87f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga019e030e52afae45ed11af4470267f3d" id="r_ga019e030e52afae45ed11af4470267f3d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__connection__mgmt.html#ga019e030e52afae45ed11af4470267f3d">POOL_LOCK</a>(p)</td></tr>
<tr class="memdesc:ga019e030e52afae45ed11af4470267f3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Acquire pool mutex.  <br /></td></tr>
<tr class="separator:ga019e030e52afae45ed11af4470267f3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab23175b8e98780e2f7f52a917e7d0862" id="r_gab23175b8e98780e2f7f52a917e7d0862"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__connection__mgmt.html#gab23175b8e98780e2f7f52a917e7d0862">POOL_UNLOCK</a>(p)</td></tr>
<tr class="memdesc:gab23175b8e98780e2f7f52a917e7d0862"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release pool mutex.  <br /></td></tr>
<tr class="separator:gab23175b8e98780e2f7f52a917e7d0862"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4a354a257cb7d9a1f7cd2befa6d72d0f" id="r_ga4a354a257cb7d9a1f7cd2befa6d72d0f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__connection__mgmt.html#ga4a354a257cb7d9a1f7cd2befa6d72d0f">SOCKET_HASH_SIZE</a>&#160;&#160;&#160;<a class="el" href="group__foundation.html#ga9aab9f1282519c6c66aca1271deffe84">SOCKET_HASH_TABLE_SIZE</a></td></tr>
<tr class="memdesc:ga4a354a257cb7d9a1f7cd2befa6d72d0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Alias for the library's central hash table size configuration.  <br /></td></tr>
<tr class="separator:ga4a354a257cb7d9a1f7cd2befa6d72d0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf1430b907c84491b37ab7b18f7fd75a4" id="r_gaf1430b907c84491b37ab7b18f7fd75a4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__connection__mgmt.html#gaf1430b907c84491b37ab7b18f7fd75a4">RAISE_POOL_ERROR</a>(exception)</td></tr>
<tr class="memdesc:gaf1430b907c84491b37ab7b18f7fd75a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Raise exception with detailed error message.  <br /></td></tr>
<tr class="separator:gaf1430b907c84491b37ab7b18f7fd75a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac9e22f6917e11a16763e27d6ec2a5ccb" id="r_gac9e22f6917e11a16763e27d6ec2a5ccb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__connection__mgmt.html#gac9e22f6917e11a16763e27d6ec2a5ccb">RAISE_POOL_MSG</a>(exception,  fmt, ...)</td></tr>
<tr class="memdesc:gac9e22f6917e11a16763e27d6ec2a5ccb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Format error message (without errno) and raise.  <br /></td></tr>
<tr class="separator:gac9e22f6917e11a16763e27d6ec2a5ccb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5125f82ee57c3f482b9371081caa3b0d" id="r_ga5125f82ee57c3f482b9371081caa3b0d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__connection__mgmt.html#ga5125f82ee57c3f482b9371081caa3b0d">RAISE_POOL_FMT</a>(exception,  fmt, ...)</td></tr>
<tr class="memdesc:ga5125f82ee57c3f482b9371081caa3b0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Format error message (with errno) and raise.  <br /></td></tr>
<tr class="separator:ga5125f82ee57c3f482b9371081caa3b0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0acb682b8260ab1c60b918599864e2e5" id="r_ga0acb682b8260ab1c60b918599864e2e5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__connection__mgmt.html#ga0acb682b8260ab1c60b918599864e2e5">T</a>&#160;&#160;&#160;<a class="el" href="SocketPool-private_8h.html#structSocketPool__T">SocketPool_T</a></td></tr>
<tr class="memdesc:ga0acb682b8260ab1c60b918599864e2e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Core internal structure defining the complete SocketPool state.  <br /></td></tr>
<tr class="separator:ga0acb682b8260ab1c60b918599864e2e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga88ab86be313053fde04989b904bb957a" id="r_ga88ab86be313053fde04989b904bb957a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__connection__mgmt.html#ga88ab86be313053fde04989b904bb957a">SocketPool_connections_initialize_slot</a> (struct <a class="el" href="group__connection__mgmt.html#structConnection">Connection</a> *conn)</td></tr>
<tr class="memdesc:ga88ab86be313053fde04989b904bb957a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate and zero-initialize array of connection structures.  <br /></td></tr>
<tr class="separator:ga88ab86be313053fde04989b904bb957a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0baf2c21ed54520dcaab3460a9a987f7" id="r_ga0baf2c21ed54520dcaab3460a9a987f7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__connection__mgmt.html#ga0baf2c21ed54520dcaab3460a9a987f7">SocketPool_connections_alloc_buffers</a> (<a class="el" href="group__foundation.html#gac1ed22b9df4eff7a3398cac608c090cc">Arena_T</a> arena, size_t bufsize, Connection_T conn)</td></tr>
<tr class="memdesc:ga0baf2c21ed54520dcaab3460a9a987f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate input/output buffers for connection.  <br /></td></tr>
<tr class="separator:ga0baf2c21ed54520dcaab3460a9a987f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga344c2ab8a3e0b099bd74e65cc97cb66f" id="r_ga344c2ab8a3e0b099bd74e65cc97cb66f"><td class="memItemLeft" align="right" valign="top">Connection_T&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__connection__mgmt.html#ga344c2ab8a3e0b099bd74e65cc97cb66f">find_slot</a> (<a class="el" href="SocketPool-private_8h.html#structSocketPool__T">SocketPool_T</a> pool, const Socket_T socket)</td></tr>
<tr class="memdesc:ga344c2ab8a3e0b099bd74e65cc97cb66f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find connection slot by socket (internal).  <br /></td></tr>
<tr class="separator:ga344c2ab8a3e0b099bd74e65cc97cb66f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga122ba4bb8b8c2ed5400b544deefe8903" id="r_ga122ba4bb8b8c2ed5400b544deefe8903"><td class="memItemLeft" align="right" valign="top">Connection_T&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__connection__mgmt.html#ga122ba4bb8b8c2ed5400b544deefe8903">find_free_slot</a> (const <a class="el" href="SocketPool-private_8h.html#structSocketPool__T">SocketPool_T</a> pool)</td></tr>
<tr class="memdesc:ga122ba4bb8b8c2ed5400b544deefe8903"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find first available free connection slot.  <br /></td></tr>
<tr class="separator:ga122ba4bb8b8c2ed5400b544deefe8903"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaae4e8594fc75b148281c6b7874c279d3" id="r_gaae4e8594fc75b148281c6b7874c279d3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__connection__mgmt.html#gaae4e8594fc75b148281c6b7874c279d3">check_pool_full</a> (const <a class="el" href="SocketPool-private_8h.html#structSocketPool__T">SocketPool_T</a> pool)</td></tr>
<tr class="memdesc:gaae4e8594fc75b148281c6b7874c279d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if pool has reached maximum capacity.  <br /></td></tr>
<tr class="separator:gaae4e8594fc75b148281c6b7874c279d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8d3db0f18f008462c96cd8dc85be8c40" id="r_ga8d3db0f18f008462c96cd8dc85be8c40"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__connection__mgmt.html#ga8d3db0f18f008462c96cd8dc85be8c40">remove_from_free_list</a> (<a class="el" href="SocketPool-private_8h.html#structSocketPool__T">SocketPool_T</a> pool, Connection_T conn)</td></tr>
<tr class="memdesc:ga8d3db0f18f008462c96cd8dc85be8c40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove connection from free list.  <br /></td></tr>
<tr class="separator:ga8d3db0f18f008462c96cd8dc85be8c40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7024a2a77a04587e061d67a1172cdbfc" id="r_ga7024a2a77a04587e061d67a1172cdbfc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__connection__mgmt.html#ga7024a2a77a04587e061d67a1172cdbfc">return_to_free_list</a> (<a class="el" href="SocketPool-private_8h.html#structSocketPool__T">SocketPool_T</a> pool, Connection_T conn)</td></tr>
<tr class="memdesc:ga7024a2a77a04587e061d67a1172cdbfc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return connection to free list.  <br /></td></tr>
<tr class="separator:ga7024a2a77a04587e061d67a1172cdbfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7821321479544a6e24fb4c2946e22c60" id="r_ga7821321479544a6e24fb4c2946e22c60"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__connection__mgmt.html#ga7821321479544a6e24fb4c2946e22c60">prepare_free_slot</a> (<a class="el" href="SocketPool-private_8h.html#structSocketPool__T">SocketPool_T</a> pool, Connection_T conn)</td></tr>
<tr class="memdesc:ga7821321479544a6e24fb4c2946e22c60"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare free slot for new connection.  <br /></td></tr>
<tr class="separator:ga7821321479544a6e24fb4c2946e22c60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae1541da7f1233af52ca75bb932074851" id="r_gae1541da7f1233af52ca75bb932074851"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__connection__mgmt.html#gae1541da7f1233af52ca75bb932074851">update_existing_slot</a> (Connection_T conn, time_t now)</td></tr>
<tr class="memdesc:gae1541da7f1233af52ca75bb932074851"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update existing connection slot activity.  <br /></td></tr>
<tr class="separator:gae1541da7f1233af52ca75bb932074851"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac073c8a892a77bae682cec8398d10518" id="r_gac073c8a892a77bae682cec8398d10518"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__connection__mgmt.html#gac073c8a892a77bae682cec8398d10518">insert_into_hash_table</a> (<a class="el" href="SocketPool-private_8h.html#structSocketPool__T">SocketPool_T</a> pool, Connection_T conn, Socket_T socket)</td></tr>
<tr class="memdesc:gac073c8a892a77bae682cec8398d10518"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert connection into hash table.  <br /></td></tr>
<tr class="separator:gac073c8a892a77bae682cec8398d10518"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5426648c6c6a14ebaff48ee2160856c3" id="r_ga5426648c6c6a14ebaff48ee2160856c3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__connection__mgmt.html#ga5426648c6c6a14ebaff48ee2160856c3">increment_pool_count</a> (<a class="el" href="SocketPool-private_8h.html#structSocketPool__T">SocketPool_T</a> pool)</td></tr>
<tr class="memdesc:ga5426648c6c6a14ebaff48ee2160856c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increment active connection count.  <br /></td></tr>
<tr class="separator:ga5426648c6c6a14ebaff48ee2160856c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6c55ecf49e5103925192159127088241" id="r_ga6c55ecf49e5103925192159127088241"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__connection__mgmt.html#ga6c55ecf49e5103925192159127088241">initialize_connection</a> (Connection_T conn, Socket_T socket, time_t now)</td></tr>
<tr class="memdesc:ga6c55ecf49e5103925192159127088241"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize connection with socket and timestamp.  <br /></td></tr>
<tr class="separator:ga6c55ecf49e5103925192159127088241"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae5693c260bb02fb1c779d497b35eb6db" id="r_gae5693c260bb02fb1c779d497b35eb6db"><td class="memItemLeft" align="right" valign="top">Connection_T&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__connection__mgmt.html#gae5693c260bb02fb1c779d497b35eb6db">find_or_create_slot</a> (<a class="el" href="SocketPool-private_8h.html#structSocketPool__T">SocketPool_T</a> pool, Socket_T socket, time_t now)</td></tr>
<tr class="memdesc:gae5693c260bb02fb1c779d497b35eb6db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find existing connection or create new slot.  <br /></td></tr>
<tr class="separator:gae5693c260bb02fb1c779d497b35eb6db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9710c881ae321ed9da843ca815ca0733" id="r_ga9710c881ae321ed9da843ca815ca0733"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__connection__mgmt.html#ga9710c881ae321ed9da843ca815ca0733">remove_from_hash_table</a> (<a class="el" href="SocketPool-private_8h.html#structSocketPool__T">SocketPool_T</a> pool, Connection_T conn, Socket_T socket)</td></tr>
<tr class="memdesc:ga9710c881ae321ed9da843ca815ca0733"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove connection from hash table.  <br /></td></tr>
<tr class="separator:ga9710c881ae321ed9da843ca815ca0733"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacf51388d2a06f1d1b1caa4d55fe29159" id="r_gacf51388d2a06f1d1b1caa4d55fe29159"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__connection__mgmt.html#gacf51388d2a06f1d1b1caa4d55fe29159">SocketPool_connections_reset_slot</a> (Connection_T conn)</td></tr>
<tr class="memdesc:gacf51388d2a06f1d1b1caa4d55fe29159"><td class="mdescLeft">&#160;</td><td class="mdescRight">Securely clear (zero) connection's input/output buffers.  <br /></td></tr>
<tr class="separator:gacf51388d2a06f1d1b1caa4d55fe29159"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5374f9969a32eb12ea7794b1f1a20d77" id="r_ga5374f9969a32eb12ea7794b1f1a20d77"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__connection__mgmt.html#ga5374f9969a32eb12ea7794b1f1a20d77">decrement_pool_count</a> (<a class="el" href="SocketPool-private_8h.html#structSocketPool__T">SocketPool_T</a> pool)</td></tr>
<tr class="memdesc:ga5374f9969a32eb12ea7794b1f1a20d77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decrement active connection count.  <br /></td></tr>
<tr class="separator:ga5374f9969a32eb12ea7794b1f1a20d77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga93e4d3464b3def2864e59849788aaf11" id="r_ga93e4d3464b3def2864e59849788aaf11"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__connection__mgmt.html#ga93e4d3464b3def2864e59849788aaf11">validate_saved_session</a> (Connection_T conn, time_t now)</td></tr>
<tr class="memdesc:ga93e4d3464b3def2864e59849788aaf11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validate TLS session for reuse.  <br /></td></tr>
<tr class="separator:ga93e4d3464b3def2864e59849788aaf11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3eec83919427223173cdaae6f1b36b8a" id="r_ga3eec83919427223173cdaae6f1b36b8a"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__connection__mgmt.html#ga3eec83919427223173cdaae6f1b36b8a">socketpool_hash</a> (const Socket_T socket)</td></tr>
<tr class="memdesc:ga3eec83919427223173cdaae6f1b36b8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate temporary buffer for bulk cleanup operations from arena.  <br /></td></tr>
<tr class="separator:ga3eec83919427223173cdaae6f1b36b8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaab8dfea746f7edd426d43574e437ffc7" id="r_gaab8dfea746f7edd426d43574e437ffc7"><td class="memItemLeft" align="right" valign="top">time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__connection__mgmt.html#gaab8dfea746f7edd426d43574e437ffc7">safe_time</a> (void)</td></tr>
<tr class="memdesc:gaab8dfea746f7edd426d43574e437ffc7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get current time with error handling.  <br /></td></tr>
<tr class="separator:gaab8dfea746f7edd426d43574e437ffc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0c16fe70b77643b386b314b1c5e23575" id="r_ga0c16fe70b77643b386b314b1c5e23575"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__connection__mgmt.html#ga0c16fe70b77643b386b314b1c5e23575">socketpool_enforce_range</a> (size_t val, size_t minv, size_t maxv)</td></tr>
<tr class="memdesc:ga0c16fe70b77643b386b314b1c5e23575"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clamp value to min/max bounds.  <br /></td></tr>
<tr class="separator:ga0c16fe70b77643b386b314b1c5e23575"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga63eed07eef58937549d0d7139d869189" id="r_ga63eed07eef58937549d0d7139d869189"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__connection__mgmt.html#ga63eed07eef58937549d0d7139d869189">socketpool_enforce_max_connections</a> (size_t maxconns)</td></tr>
<tr class="memdesc:ga63eed07eef58937549d0d7139d869189"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enforce maximum connection limit.  <br /></td></tr>
<tr class="separator:ga63eed07eef58937549d0d7139d869189"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf2f4277a3a98a8ce25680796876e17a9" id="r_gaf2f4277a3a98a8ce25680796876e17a9"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__connection__mgmt.html#gaf2f4277a3a98a8ce25680796876e17a9">socketpool_enforce_buffer_size</a> (size_t bufsize)</td></tr>
<tr class="memdesc:gaf2f4277a3a98a8ce25680796876e17a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enforce buffer size limits.  <br /></td></tr>
<tr class="separator:gaf2f4277a3a98a8ce25680796876e17a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gaeea0045572d9693e0579e265d0e00981" id="r_gaeea0045572d9693e0579e265d0e00981"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__foundation.html#structExcept__T">Except_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__connection__mgmt.html#gaeea0045572d9693e0579e265d0e00981">SocketPool_DetailedException</a></td></tr>
<tr class="memdesc:gaeea0045572d9693e0579e265d0e00981"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thread-local exception for detailed error messages.  <br /></td></tr>
<tr class="separator:gaeea0045572d9693e0579e265d0e00981"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Private implementation details and internal structures for SocketPool module. </p>
<p>NOT FOR PUBLIC USE** - Internal header shared across SocketPool source files (SocketPool-*.c). Defines opaque structures, thread-local exceptions, helper macros (RAISE_POOL_*), and utility functions for connection management, hashing, and lifecycle operations.</p>
<p>KEY COMPONENTS:</p><ul>
<li>struct <a class="el" href="group__connection__mgmt.html#structConnection" title="Internal structure representing a pooled connection slot.">Connection</a>: Pre-allocated slot with socket, buffers, timestamps, TLS/reconnect state</li>
<li>struct <a class="el" href="group__connection__mgmt.html#structAsyncConnectContext" title="Internal context structure for tracking asynchronous connect operations.">AsyncConnectContext</a>: Tracks pending DNS+connect operations</li>
<li>struct <a class="el" href="SocketPool-private_8h.html#structSocketPool__T">SocketPool_T</a>: Full pool state (connections array, hash table, mutex, stats, etc.)</li>
<li>Exception macros: RAISE_POOL_ERROR, RAISE_POOL_MSG, RAISE_POOL_FMT for consistent error handling</li>
<li>Hashing: <a class="el" href="group__connection__mgmt.html#ga3eec83919427223173cdaae6f1b36b8a" title="Allocate temporary buffer for bulk cleanup operations from arena.">socketpool_hash()</a> using library-wide SOCKET_HASH_SIZE</li>
<li>Utilities: Slot allocation/reset, buffer management, free list/hash table ops</li>
</ul>
<p>USAGE GUIDELINES:</p><ul>
<li>Include only from SocketPool implementation files (.c in src/pool/)</li>
<li>Use RAISE_POOL_* macros for exceptions with detailed errno/context</li>
<li>All operations assume pool mutex protection (except atomic fields)</li>
<li>Memory from pool arena; no manual free() for internal allocations</li>
<li>Thread-local SocketPool_DetailedException defined in SocketPool-core.c</li>
</ul>
<p>DEPENDENCIES:</p><ul>
<li>Foundation (<a class="el" href="group__foundation.html">Core Foundation Modules</a>): Arena, Except, SocketConfig, SocketUtil</li>
<li>Core I/O (<a class="el" href="group__core__io.html">Core I/O Modules</a>): Socket, SocketBuf, SocketDNS</li>
<li>Utilities (<a class="el" href="group__utilities.html">Utilities</a>): SocketRateLimit, SocketIPTracker</li>
<li>Security (<a class="el" href="group__security.html">Security Modules</a>): SocketSYNProtect (optional)</li>
<li><a class="el" href="group__connection__mgmt.html#structConnection" title="Internal structure representing a pooled connection slot.">Connection</a> Mgmt (<a class="el" href="group__connection__mgmt.html">Connection Management Modules</a>): SocketReconnect (optional)</li>
<li>TLS (<a class="el" href="group__security.html">Security Modules</a>): SocketTLSContext (conditional on SOCKET_HAS_TLS)</li>
</ul>
<p>IMPLEMENTATION NOTES:</p><ul>
<li>Multi-file split: core.c (init/free), connections.c (add/remove/lookup), etc.</li>
<li>Hash table: FD-based with golden ratio multiplier for distribution</li>
<li>Free list: Doubly-linked for O(1) allocation/deallocation</li>
<li>Stats: Atomic counters for monitoring (total_added, removed, reused, etc.)</li>
<li>Drain: Atomic state with monotonic deadlines for graceful shutdown</li>
</ul>
<dl class="section warning"><dt>Warning</dt><dd>Direct use from application code undefined; may change without notice. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Regenerate docs with <code>make doc</code> after changes to validate links.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="SocketPool_8h.html" title="Connection pooling with automatic lifecycle management.">SocketPool.h</a> for complete public API documentation and examples. </dd>
<dd>
src/pool/ for split implementation files (core.c, connections.c, drain.c, etc.). </dd>
<dd>
docs/POOL.md (if exists) or README.md for architectural overview. </dd>
<dd>
<a class="el" href="group__connection__mgmt.html">Connection Management Group</a> for module relationships. </dd>
<dd>
Doxyfile for documentation generation configuration. </dd></dl>

<p class="definition">Definition in file <a class="el" href="SocketPool-private_8h_source.html">SocketPool-private.h</a>.</p>
</div><hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="structSocketPool__T" id="structSocketPool__T"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structSocketPool__T">&#9670;&#160;</a></span>SocketPool_T</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct SocketPool_T</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="SocketPool-private_8h_source.html#l00525">525</a> of file <a class="el" href="SocketPool-private_8h_source.html">SocketPool-private.h</a>.</p>
</div><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for SocketPool_T:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="structSocketPool__T__coll__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a8eecd1c1251371977511a2eb0c0c7c22" name="a8eecd1c1251371977511a2eb0c0c7c22"></a><a class="el" href="group__foundation.html#gac1ed22b9df4eff7a3398cac608c090cc">Arena_T</a></td>
<td class="fieldname">
arena</td>
<td class="fielddoc">
<p>Memory arena for all allocations </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a2f4c0d201b4a464af8abd4f1f24559b1" name="a2f4c0d201b4a464af8abd4f1f24559b1"></a>AsyncConnectContext_T</td>
<td class="fieldname">
async_ctx</td>
<td class="fielddoc">
<p>Linked list of pending async connects </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a1355cb6f8e688318e0bdc1fd42e2a5fb" name="a1355cb6f8e688318e0bdc1fd42e2a5fb"></a>size_t</td>
<td class="fieldname">
async_pending_count</td>
<td class="fielddoc">
<p>Count of pending async connects (security limit) </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a36adb60bec352e0d65f4b2bd74d5ca71" name="a36adb60bec352e0d65f4b2bd74d5ca71"></a>size_t</td>
<td class="fieldname">
bufsize</td>
<td class="fielddoc">
<p>Buffer size per connection </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a347fc05d66c715fbf2a594f15f65abfd" name="a347fc05d66c715fbf2a594f15f65abfd"></a>Socket_T *</td>
<td class="fieldname">
cleanup_buffer</td>
<td class="fielddoc">
<p>Buffer for cleanup operations </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a2c08206e111ba43657c9caadeb5d1131" name="a2c08206e111ba43657c9caadeb5d1131"></a>int64_t</td>
<td class="fieldname">
cleanup_interval_ms</td>
<td class="fielddoc">
<p>Interval between cleanup runs </p>
</td></tr>
<tr><td class="fieldtype">
<a id="ae44fbc805e4bbf62016630e93d62dbbf" name="ae44fbc805e4bbf62016630e93d62dbbf"></a><a class="el" href="group__utilities.html#structSocketRateLimit__T">SocketRateLimit_T</a></td>
<td class="fieldname">
conn_limiter</td>
<td class="fielddoc">
<p><a class="el" href="group__connection__mgmt.html#structConnection" title="Internal structure representing a pooled connection slot.">Connection</a> rate limiter (NULL if disabled) </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a5a941bde63d21211b61fce7891f8ef90" name="a5a941bde63d21211b61fce7891f8ef90"></a>struct <a class="el" href="group__connection__mgmt.html#structConnection">Connection</a> *</td>
<td class="fieldname">
connections</td>
<td class="fielddoc">
<p>Pre-allocated connection array </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a78ca32e074acc98d6ce35e9b711ad4d9" name="a78ca32e074acc98d6ce35e9b711ad4d9"></a>size_t</td>
<td class="fieldname">
count</td>
<td class="fielddoc">
<p>Active connection count </p>
</td></tr>
<tr><td class="fieldtype">
<a id="ab7ff8f2bd4e9aec2a001b509e3973fb5" name="ab7ff8f2bd4e9aec2a001b509e3973fb5"></a><a class="el" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a></td>
<td class="fieldname">
dns</td>
<td class="fielddoc">
<p>Internal DNS resolver (lazy init) </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a8aa9e1dc18cee7173fba0b2daaa00d01" name="a8aa9e1dc18cee7173fba0b2daaa00d01"></a><a class="el" href="group__connection__mgmt.html#gad7679db7b1be62e465d9896944f3ad20">SocketPool_DrainCallback</a></td>
<td class="fieldname">
drain_cb</td>
<td class="fielddoc">
<p>Drain completion callback </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a0744f36147900593669b82182010a3a8" name="a0744f36147900593669b82182010a3a8"></a>void *</td>
<td class="fieldname">
drain_cb_data</td>
<td class="fielddoc">
<p>User data for drain callback </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a9f0354d73f0d9efba266c6e2fd4dc020" name="a9f0354d73f0d9efba266c6e2fd4dc020"></a>int64_t</td>
<td class="fieldname">
drain_deadline_ms</td>
<td class="fielddoc">
<p>Monotonic deadline for forced shutdown </p>
</td></tr>
<tr><td class="fieldtype">
<a id="aca425db9d88c550ff2103458baaab68e" name="aca425db9d88c550ff2103458baaab68e"></a>Connection_T</td>
<td class="fieldname">
free_list</td>
<td class="fielddoc">
<p>Linked list of free slots </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a8f974d685068c8496066af1ed0821087" name="a8f974d685068c8496066af1ed0821087"></a>Connection_T *</td>
<td class="fieldname">
hash_table</td>
<td class="fielddoc">
<p>Hash table for O(1) lookup </p>
</td></tr>
<tr><td class="fieldtype">
<a id="ae4aab2865fdf71868bedd09217299262" name="ae4aab2865fdf71868bedd09217299262"></a><a class="el" href="group__connection__mgmt.html#ga18f3ff7614b9968e5cc27f2017a0f058">SocketPool_IdleCallback</a></td>
<td class="fieldname">
idle_cb</td>
<td class="fielddoc">
<p>Callback when connection becomes idle </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a75a197974e3b46331c0e442323ea7af9" name="a75a197974e3b46331c0e442323ea7af9"></a>void *</td>
<td class="fieldname">
idle_cb_data</td>
<td class="fielddoc">
<p>User data for idle callback </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a2a06a66f461ba2602e2ea915cdcf82d7" name="a2a06a66f461ba2602e2ea915cdcf82d7"></a>time_t</td>
<td class="fieldname">
idle_timeout_sec</td>
<td class="fielddoc">
<p>Idle timeout in seconds (0 = disabled) </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a70b567f98102e00a15e49f691737e259" name="a70b567f98102e00a15e49f691737e259"></a><a class="el" href="group__ip__tracker.html#ga763b573474982e2761d5b7fbdf9155fc">SocketIPTracker_T</a></td>
<td class="fieldname">
ip_tracker</td>
<td class="fielddoc">
<p>Per-IP connection tracker (NULL if disabled) </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a4aa52b23aceb8ec9648e2907f756fe3a" name="a4aa52b23aceb8ec9648e2907f756fe3a"></a>int64_t</td>
<td class="fieldname">
last_cleanup_ms</td>
<td class="fielddoc">
<p>Last cleanup timestamp (monotonic) </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a4d735806f8bf8a418e4b74ef7e95e622" name="a4d735806f8bf8a418e4b74ef7e95e622"></a>size_t</td>
<td class="fieldname">
maxconns</td>
<td class="fielddoc">
<p>Maximum connections </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a3c53be2accaa3ad82788183f5f4f4b68" name="a3c53be2accaa3ad82788183f5f4f4b68"></a>pthread_mutex_t</td>
<td class="fieldname">
mutex</td>
<td class="fielddoc">
<p>Thread safety mutex </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a6404d56a4f4a9f9511156c0691d72780" name="a6404d56a4f4a9f9511156c0691d72780"></a>int</td>
<td class="fieldname">
reconnect_enabled</td>
<td class="fielddoc">
<p>1 if default reconnection enabled </p>
</td></tr>
<tr><td class="fieldtype">
<a id="aeae8b51ab10fe67e879480cc78d20476" name="aeae8b51ab10fe67e879480cc78d20476"></a><a class="el" href="group__connection__mgmt.html#structSocketReconnect__Policy__T">SocketReconnect_Policy_T</a></td>
<td class="fieldname">
reconnect_policy</td>
<td class="fielddoc">
<p>Default reconnection policy </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a8466e4a1af18acbc44ff29240b0c7ef7" name="a8466e4a1af18acbc44ff29240b0c7ef7"></a><a class="el" href="group__connection__mgmt.html#ga6ec7b7f0dae3b1366f32f93294dc8b4a">SocketPool_ResizeCallback</a></td>
<td class="fieldname">
resize_cb</td>
<td class="fielddoc">
<p>Pool resize notification callback </p>
</td></tr>
<tr><td class="fieldtype">
<a id="ad0868c7658a00864e21c7054a5bf1992" name="ad0868c7658a00864e21c7054a5bf1992"></a>void *</td>
<td class="fieldname">
resize_cb_data</td>
<td class="fielddoc">
<p>User data for resize callback </p>
</td></tr>
<tr><td class="fieldtype">
<a id="ad043ddef4cce2ae0f517d418495c21e3" name="ad043ddef4cce2ae0f517d418495c21e3"></a>_Atomic int</td>
<td class="fieldname">
state</td>
<td class="fielddoc">
<p>SocketPool_State (C11 atomic for lock-free reads) </p>
</td></tr>
<tr><td class="fieldtype">
<a id="ab5d46b03aeaf20d5c6724dfab9541de9" name="ab5d46b03aeaf20d5c6724dfab9541de9"></a>uint64_t</td>
<td class="fieldname">
stats_health_checks</td>
<td class="fielddoc">
<p>Total health checks performed </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a94233284f3ca5adb9c9299c36e4b6ce5" name="a94233284f3ca5adb9c9299c36e4b6ce5"></a>uint64_t</td>
<td class="fieldname">
stats_health_failures</td>
<td class="fielddoc">
<p>Total health check failures </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a7ce1afaa2d14fd7c7037993aae7f6a8e" name="a7ce1afaa2d14fd7c7037993aae7f6a8e"></a>uint64_t</td>
<td class="fieldname">
stats_idle_cleanups</td>
<td class="fielddoc">
<p>Total connections cleaned up due to idle </p>
</td></tr>
<tr><td class="fieldtype">
<a id="ae370911687e035271da6d49576315e5b" name="ae370911687e035271da6d49576315e5b"></a>int64_t</td>
<td class="fieldname">
stats_start_time_ms</td>
<td class="fielddoc">
<p>Statistics window start time </p>
</td></tr>
<tr><td class="fieldtype">
<a id="abd64aa74838e7da9f97bef7a99d8fd9a" name="abd64aa74838e7da9f97bef7a99d8fd9a"></a>uint64_t</td>
<td class="fieldname">
stats_total_added</td>
<td class="fielddoc">
<p>Total connections added </p>
</td></tr>
<tr><td class="fieldtype">
<a id="ab609f4132419c547c8a17caa4862b96c" name="ab609f4132419c547c8a17caa4862b96c"></a>uint64_t</td>
<td class="fieldname">
stats_total_removed</td>
<td class="fielddoc">
<p>Total connections removed </p>
</td></tr>
<tr><td class="fieldtype">
<a id="aad37d926506bd6cc431e83bbcee8f80c" name="aad37d926506bd6cc431e83bbcee8f80c"></a>uint64_t</td>
<td class="fieldname">
stats_total_reused</td>
<td class="fielddoc">
<p>Total connections reused </p>
</td></tr>
<tr><td class="fieldtype">
<a id="ac04e56e81484c15944fcc155039da523" name="ac04e56e81484c15944fcc155039da523"></a>uint64_t</td>
<td class="fieldname">
stats_validation_failures</td>
<td class="fielddoc">
<p>Total validation callback failures </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a4f51e6cca23c2d0185439efc846bf9aa" name="a4f51e6cca23c2d0185439efc846bf9aa"></a><a class="el" href="group__security.html#structSocketSYNProtect__T">SocketSYNProtect_T</a></td>
<td class="fieldname">
syn_protect</td>
<td class="fielddoc">
<p>SYN flood protection (NULL if disabled) </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a38904aef4f6141087141896eabba7938" name="a38904aef4f6141087141896eabba7938"></a><a class="el" href="group__connection__mgmt.html#ga9a848b27d2034b028ceb2febdc6471b5">SocketPool_ValidationCallback</a></td>
<td class="fieldname">
validation_cb</td>
<td class="fielddoc">
<p><a class="el" href="group__connection__mgmt.html#structConnection" title="Internal structure representing a pooled connection slot.">Connection</a> validation callback </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a3cc09277be4c9086e29fe107c3f1cdbb" name="a3cc09277be4c9086e29fe107c3f1cdbb"></a>void *</td>
<td class="fieldname">
validation_cb_data</td>
<td class="fielddoc">
<p>User data for validation callback </p>
</td></tr>
</table>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<hr class="footer"/>
<footer class="footer">
  <div style="max-width: 960px; margin: 0 auto; padding: 40px 24px;">
    <div style="display: flex; justify-content: space-between; align-items: flex-start; flex-wrap: wrap; gap: 40px;">
      <!-- Brand -->
      <div style="flex: 1; min-width: 200px;">
        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 12px;">
          <div style="width: 24px; height: 24px; background: linear-gradient(135deg, #3b82f6, #8b5cf6); border-radius: 6px;"></div>
          <span style="font-size: 1rem; font-weight: 600; color: #f7f9fa;">Socket Library</span>
        </div>
        <p style="color: #8b98a5; font-size: 0.8125rem; line-height: 1.6; margin: 0;">
          High-performance socket toolkit for POSIX systems with exception-based error handling and TLS 1.3 support.
        </p>
      </div>
      <!-- Links -->
      <div style="display: flex; gap: 48px; flex-wrap: wrap;">
        <div>
          <h4 style="font-size: 0.75rem; font-weight: 600; color: #f7f9fa; text-transform: uppercase; letter-spacing: 0.05em; margin: 0 0 12px 0;">Documentation</h4>
          <ul style="list-style: none; padding: 0; margin: 0;">
            <li style="margin: 6px 0;"><a href="index.html" style="color: #8b98a5; text-decoration: none; font-size: 0.8125rem;">Getting Started</a></li>
            <li style="margin: 6px 0;"><a href="annotated.html" style="color: #8b98a5; text-decoration: none; font-size: 0.8125rem;">Data Structures</a></li>
            <li style="margin: 6px 0;"><a href="globals.html" style="color: #8b98a5; text-decoration: none; font-size: 0.8125rem;">API Reference</a></li>
          </ul>
        </div>
        <div>
          <h4 style="font-size: 0.75rem; font-weight: 600; color: #f7f9fa; text-transform: uppercase; letter-spacing: 0.05em; margin: 0 0 12px 0;">Resources</h4>
          <ul style="list-style: none; padding: 0; margin: 0;">
            <li style="margin: 6px 0;"><a href="files.html" style="color: #8b98a5; text-decoration: none; font-size: 0.8125rem;">Header Files</a></li>
            <li style="margin: 6px 0;"><a href="https://x.com/tetsuocorp" target="_blank" style="color: #8b98a5; text-decoration: none; font-size: 0.8125rem;">Twitter/X</a></li>
          </ul>
        </div>
      </div>
    </div>
    <!-- Bottom -->
    <div style="margin-top: 32px; padding-top: 24px; border-top: 1px solid #30363d; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 16px;">
      <div style="display: flex; align-items: center; gap: 12px;">
        <span style="font-size: 0.75rem; font-weight: 500; color: #10b981; background: rgba(16, 185, 129, 0.1); padding: 4px 8px; border-radius: 4px;">C11</span>
        <span style="font-size: 0.75rem; font-weight: 500; color: #3b82f6; background: rgba(59, 130, 246, 0.1); padding: 4px 8px; border-radius: 4px;">POSIX</span>
        <span style="font-size: 0.75rem; font-weight: 500; color: #8b5cf6; background: rgba(139, 92, 246, 0.1); padding: 4px 8px; border-radius: 4px;">TLS 1.3</span>
      </div>
      <div style="color: #6e7681; font-size: 0.75rem; display: flex; align-items: center; gap: 8px;">
        <span> 2025 Tetsuo Corporation</span>
        <span style="color: #30363d;"></span>
        <a href="https://opensource.org/licenses/MIT" target="_blank" style="color: #8b98a5; text-decoration: none;">MIT License</a>
      </div>
    </div>
  </div>
</footer>
</body>
</html>
