<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="High-performance, exception-driven socket toolkit for POSIX systems">
<meta name="keywords" content="socket, networking, C, POSIX, TCP, UDP, TLS, async, high-performance, library">
<meta name="author" content="Tetsuo Corporation">
<meta name="theme-color" content="#3b82f6">
<title>SocketDNS.h File Reference</title>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="socket-theme.css" rel="stylesheet" type="text/css"/>
<link href="socket-theme.css" rel="stylesheet" type="text/css"/>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><defs><linearGradient id='g' x1='0%25' y1='0%25' x2='100%25' y2='100%25'><stop offset='0%25' stop-color='%233b82f6'/><stop offset='100%25' stop-color='%238b5cf6'/></linearGradient></defs><rect width='100' height='100' rx='20' fill='url(%23g)'/><text x='50' y='68' font-size='50' text-anchor='middle' fill='white' font-family='sans-serif' font-weight='bold'>S</text></svg>">
</head>
<body>
<div id="top">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Socket Library<span id="projectnumber">1.0.0</span></div>
   <div id="projectbrief">High-performance, exception-driven socket toolkit for POSIX systems</div>
  </td>
  <td style="text-align: right; padding: 20px; vertical-align: middle;">
    <div style="display: flex; gap: 8px; justify-content: flex-end; flex-wrap: wrap; align-items: center;">
      <a href="index.html" class="quick-link">Home</a>
      <a href="annotated.html" class="quick-link">Structures</a>
      <a href="files.html" class="quick-link">Files</a>
      <a href="globals.html" class="quick-link">API</a>
    </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('SocketDNS_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">SocketDNS.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="Except_8h_source.html">core/Except.h</a>&quot;</code><br />
<code>#include &lt;netdb.h&gt;</code><br />
<code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;sys/socket.h&gt;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for SocketDNS.h:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="SocketDNS_8h__incl.svg" width="419" height="183"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div><div class="textblock"><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> This graph shows which files directly or indirectly include this file:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="SocketDNS_8h__dep__incl.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</div>
<p><a href="SocketDNS_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a0acb682b8260ab1c60b918599864e2e5" id="r_a0acb682b8260ab1c60b918599864e2e5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SocketDNS_8h.html#a0acb682b8260ab1c60b918599864e2e5">T</a>&#160;&#160;&#160;<a class="el" href="SocketDNS_8h.html#ac9190fe07142a017f86dae46145cb2fd">SocketDNS_T</a></td></tr>
<tr class="memdesc:a0acb682b8260ab1c60b918599864e2e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Async DNS Resolution.  <br /></td></tr>
<tr class="separator:a0acb682b8260ab1c60b918599864e2e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9ba864e1a3353563283aa17b57abd88" id="r_aa9ba864e1a3353563283aa17b57abd88"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SocketDNS_8h.html#aa9ba864e1a3353563283aa17b57abd88">Request_T</a>&#160;&#160;&#160;<a class="el" href="SocketDNS_8h.html#a2d39e79bb7d4fa2271b6158750267c13">SocketDNS_Request_T</a></td></tr>
<tr class="separator:aa9ba864e1a3353563283aa17b57abd88"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ac9190fe07142a017f86dae46145cb2fd" id="r_ac9190fe07142a017f86dae46145cb2fd"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="SocketDNS_8h.html#ac9190fe07142a017f86dae46145cb2fd">SocketDNS_T</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SocketDNS_8h.html#ac9190fe07142a017f86dae46145cb2fd">SocketDNS_T</a></td></tr>
<tr class="separator:ac9190fe07142a017f86dae46145cb2fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d39e79bb7d4fa2271b6158750267c13" id="r_a2d39e79bb7d4fa2271b6158750267c13"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="SocketDNS_8h.html#a2d39e79bb7d4fa2271b6158750267c13">SocketDNS_Request_T</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SocketDNS_8h.html#a2d39e79bb7d4fa2271b6158750267c13">SocketDNS_Request_T</a></td></tr>
<tr class="separator:a2d39e79bb7d4fa2271b6158750267c13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09004bbc0b6c4d606530226f9fff912a" id="r_a09004bbc0b6c4d606530226f9fff912a"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SocketDNS_8h.html#a09004bbc0b6c4d606530226f9fff912a">SocketDNS_Callback</a>) (<a class="el" href="SocketDNS_8h.html#a2d39e79bb7d4fa2271b6158750267c13">SocketDNS_Request_T</a> req, struct addrinfo *result, int error, void *data)</td></tr>
<tr class="memdesc:a09004bbc0b6c4d606530226f9fff912a"><td class="mdescLeft">&#160;</td><td class="mdescRight">SocketDNS_Callback - Callback function for async DNS resolution @req: Request handle for this resolution.  <br /></td></tr>
<tr class="separator:a09004bbc0b6c4d606530226f9fff912a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a799f4d96c77eef54ecb9be5523b591fd" id="r_a799f4d96c77eef54ecb9be5523b591fd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="SocketDNS_8h.html#ac9190fe07142a017f86dae46145cb2fd">SocketDNS_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SocketDNS_8h.html#a799f4d96c77eef54ecb9be5523b591fd">SocketDNS_new</a> (void)</td></tr>
<tr class="memdesc:a799f4d96c77eef54ecb9be5523b591fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">SocketDNS_new - Create a new async DNS resolver Returns: New DNS resolver instance Raises: SocketDNS_Failed on initialization failure Thread-safe: Yes - returns new instance Creates a thread pool for DNS resolution.  <br /></td></tr>
<tr class="separator:a799f4d96c77eef54ecb9be5523b591fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdc83f21f67b5b8557f35d7ffa4c839c" id="r_abdc83f21f67b5b8557f35d7ffa4c839c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SocketDNS_8h.html#abdc83f21f67b5b8557f35d7ffa4c839c">SocketDNS_free</a> (<a class="el" href="SocketDNS_8h.html#ac9190fe07142a017f86dae46145cb2fd">SocketDNS_T</a> *dns)</td></tr>
<tr class="memdesc:abdc83f21f67b5b8557f35d7ffa4c839c"><td class="mdescLeft">&#160;</td><td class="mdescRight">SocketDNS_free - Free a DNS resolver @dns: Pointer to resolver (will be set to NULL) Drains pending requests, signals worker threads to stop, and joins threads.  <br /></td></tr>
<tr class="separator:abdc83f21f67b5b8557f35d7ffa4c839c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4df82b60dff42e9104a19062074a2f5" id="r_ac4df82b60dff42e9104a19062074a2f5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="SocketDNS_8h.html#a2d39e79bb7d4fa2271b6158750267c13">SocketDNS_Request_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SocketDNS_8h.html#ac4df82b60dff42e9104a19062074a2f5">SocketDNS_resolve</a> (<a class="el" href="SocketDNS_8h.html#ac9190fe07142a017f86dae46145cb2fd">SocketDNS_T</a> dns, const char *host, int port, <a class="el" href="SocketDNS_8h.html#a09004bbc0b6c4d606530226f9fff912a">SocketDNS_Callback</a> callback, void *data)</td></tr>
<tr class="memdesc:ac4df82b60dff42e9104a19062074a2f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">SocketDNS_resolve - Start async DNS resolution @dns: DNS resolver instance @host: Hostname or IP address to resolve (NULL for wildcard bind with AI_PASSIVE) @port: Port number (0 if not needed) @callback: Completion callback (NULL for SocketPoll integration) @data: User data passed to callback Returns: Request handle (never NULL) Raises: SocketDNS_Failed on queue full or invalid parameters Thread-safe: Yes - protected by internal mutex Starts asynchronous DNS resolution.  <br /></td></tr>
<tr class="separator:ac4df82b60dff42e9104a19062074a2f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1d672627973547345ad91e2e83f30b6" id="r_ae1d672627973547345ad91e2e83f30b6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SocketDNS_8h.html#ae1d672627973547345ad91e2e83f30b6">SocketDNS_cancel</a> (<a class="el" href="SocketDNS_8h.html#ac9190fe07142a017f86dae46145cb2fd">SocketDNS_T</a> dns, <a class="el" href="SocketDNS_8h.html#a2d39e79bb7d4fa2271b6158750267c13">SocketDNS_Request_T</a> req)</td></tr>
<tr class="memdesc:ae1d672627973547345ad91e2e83f30b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">SocketDNS_cancel - Cancel a pending DNS resolution @dns: DNS resolver instance @req: Request handle to cancel Thread-safe: Yes - protected by internal mutex Cancels a pending request.  <br /></td></tr>
<tr class="separator:ae1d672627973547345ad91e2e83f30b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68f007d40e50ed2894c962ee91509fcc" id="r_a68f007d40e50ed2894c962ee91509fcc"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SocketDNS_8h.html#a68f007d40e50ed2894c962ee91509fcc">SocketDNS_getmaxpending</a> (<a class="el" href="SocketDNS_8h.html#ac9190fe07142a017f86dae46145cb2fd">SocketDNS_T</a> dns)</td></tr>
<tr class="memdesc:a68f007d40e50ed2894c962ee91509fcc"><td class="mdescLeft">&#160;</td><td class="mdescRight">SocketDNS_getmaxpending - Get maximum pending request capacity @dns: DNS resolver instance Returns: Current pending request limit Thread-safe: Yes.  <br /></td></tr>
<tr class="separator:a68f007d40e50ed2894c962ee91509fcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55b33b7c9a44dc087be0f74b259d54f7" id="r_a55b33b7c9a44dc087be0f74b259d54f7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SocketDNS_8h.html#a55b33b7c9a44dc087be0f74b259d54f7">SocketDNS_setmaxpending</a> (<a class="el" href="SocketDNS_8h.html#ac9190fe07142a017f86dae46145cb2fd">SocketDNS_T</a> dns, size_t max_pending)</td></tr>
<tr class="memdesc:a55b33b7c9a44dc087be0f74b259d54f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">SocketDNS_setmaxpending - Set maximum pending request capacity @dns: DNS resolver instance @max_pending: New pending request limit (0 allows no pending requests) Raises: SocketDNS_Failed if max_pending &lt; current queue depth Thread-safe: Yes.  <br /></td></tr>
<tr class="separator:a55b33b7c9a44dc087be0f74b259d54f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f4c54acbc79bbb31a4ce3ec75928ee8" id="r_a2f4c54acbc79bbb31a4ce3ec75928ee8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SocketDNS_8h.html#a2f4c54acbc79bbb31a4ce3ec75928ee8">SocketDNS_gettimeout</a> (<a class="el" href="SocketDNS_8h.html#ac9190fe07142a017f86dae46145cb2fd">SocketDNS_T</a> dns)</td></tr>
<tr class="memdesc:a2f4c54acbc79bbb31a4ce3ec75928ee8"><td class="mdescLeft">&#160;</td><td class="mdescRight">SocketDNS_gettimeout - Get resolver request timeout in milliseconds @dns: DNS resolver instance Returns: Timeout in milliseconds (0 disables timeout) Thread-safe: Yes.  <br /></td></tr>
<tr class="separator:a2f4c54acbc79bbb31a4ce3ec75928ee8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a390b733f1a522dcaccede3adf56fece0" id="r_a390b733f1a522dcaccede3adf56fece0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SocketDNS_8h.html#a390b733f1a522dcaccede3adf56fece0">SocketDNS_settimeout</a> (<a class="el" href="SocketDNS_8h.html#ac9190fe07142a017f86dae46145cb2fd">SocketDNS_T</a> dns, int timeout_ms)</td></tr>
<tr class="memdesc:a390b733f1a522dcaccede3adf56fece0"><td class="mdescLeft">&#160;</td><td class="mdescRight">SocketDNS_settimeout - Set resolver request timeout in milliseconds @dns: DNS resolver instance @timeout_ms: Timeout in milliseconds (0 disables timeout) Thread-safe: Yes.  <br /></td></tr>
<tr class="separator:a390b733f1a522dcaccede3adf56fece0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9228880ada42145db04298282b5f0c80" id="r_a9228880ada42145db04298282b5f0c80"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SocketDNS_8h.html#a9228880ada42145db04298282b5f0c80">SocketDNS_pollfd</a> (<a class="el" href="SocketDNS_8h.html#ac9190fe07142a017f86dae46145cb2fd">SocketDNS_T</a> dns)</td></tr>
<tr class="memdesc:a9228880ada42145db04298282b5f0c80"><td class="mdescLeft">&#160;</td><td class="mdescRight">SocketDNS_pollfd - Get pollable file descriptor for SocketPoll integration @dns: DNS resolver instance Returns: File descriptor ready for reading when requests complete Thread-safe: Yes - returns stable file descriptor Returns a file descriptor (pipe or eventfd) that becomes readable when DNS resolution requests complete.  <br /></td></tr>
<tr class="separator:a9228880ada42145db04298282b5f0c80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8f2fa5ee464e84f44b4b6059b4813e5" id="r_ad8f2fa5ee464e84f44b4b6059b4813e5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SocketDNS_8h.html#ad8f2fa5ee464e84f44b4b6059b4813e5">SocketDNS_check</a> (<a class="el" href="SocketDNS_8h.html#ac9190fe07142a017f86dae46145cb2fd">SocketDNS_T</a> dns)</td></tr>
<tr class="memdesc:ad8f2fa5ee464e84f44b4b6059b4813e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">SocketDNS_check - Check for completed requests (non-blocking) @dns: DNS resolver instance Returns: Number of completion signals drained (1 byte per completed/cancelled/timeout request) Thread-safe: Yes - safe to call from any thread Drains the signal pipe for completed DNS events.  <br /></td></tr>
<tr class="separator:ad8f2fa5ee464e84f44b4b6059b4813e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af116c65d3617976fd55b1e3cf68d01ff" id="r_af116c65d3617976fd55b1e3cf68d01ff"><td class="memItemLeft" align="right" valign="top">struct addrinfo *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SocketDNS_8h.html#af116c65d3617976fd55b1e3cf68d01ff">SocketDNS_getresult</a> (<a class="el" href="SocketDNS_8h.html#ac9190fe07142a017f86dae46145cb2fd">SocketDNS_T</a> dns, <a class="el" href="SocketDNS_8h.html#a2d39e79bb7d4fa2271b6158750267c13">SocketDNS_Request_T</a> req)</td></tr>
<tr class="memdesc:af116c65d3617976fd55b1e3cf68d01ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">SocketDNS_getresult - Get result of completed request @dns: DNS resolver instance @req: Request handle Returns: Completed addrinfo result or NULL if pending/error/cancelled Thread-safe: Yes - protected by internal mutex Retrieves the result of a completed DNS resolution.  <br /></td></tr>
<tr class="separator:af116c65d3617976fd55b1e3cf68d01ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69d8d4c9f020bf781d541df7ecaf5acf" id="r_a69d8d4c9f020bf781d541df7ecaf5acf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SocketDNS_8h.html#a69d8d4c9f020bf781d541df7ecaf5acf">SocketDNS_geterror</a> (<a class="el" href="SocketDNS_8h.html#ac9190fe07142a017f86dae46145cb2fd">SocketDNS_T</a> dns, const struct <a class="el" href="SocketDNS_8h.html#a2d39e79bb7d4fa2271b6158750267c13">SocketDNS_Request_T</a> *req)</td></tr>
<tr class="memdesc:a69d8d4c9f020bf781d541df7ecaf5acf"><td class="mdescLeft">&#160;</td><td class="mdescRight">SocketDNS_geterror - Get error code for completed request @dns: DNS resolver instance @req: Request handle Returns: getaddrinfo() error code or 0 on success Thread-safe: Yes.  <br /></td></tr>
<tr class="separator:a69d8d4c9f020bf781d541df7ecaf5acf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a009b2ac023375f1416344ab445d15667" id="r_a009b2ac023375f1416344ab445d15667"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SocketDNS_8h.html#a009b2ac023375f1416344ab445d15667">SocketDNS_request_settimeout</a> (<a class="el" href="SocketDNS_8h.html#ac9190fe07142a017f86dae46145cb2fd">SocketDNS_T</a> dns, <a class="el" href="SocketDNS_8h.html#a2d39e79bb7d4fa2271b6158750267c13">SocketDNS_Request_T</a> req, int timeout_ms)</td></tr>
<tr class="memdesc:a009b2ac023375f1416344ab445d15667"><td class="mdescLeft">&#160;</td><td class="mdescRight">SocketDNS_request_settimeout - Override timeout for specific request @dns: DNS resolver instance @req: Request handle @timeout_ms: Timeout in milliseconds (0 disables timeout for this request) Thread-safe: Yes.  <br /></td></tr>
<tr class="separator:a009b2ac023375f1416344ab445d15667"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d42c9ab57cf57e394874bf801db4087" id="r_a1d42c9ab57cf57e394874bf801db4087"><td class="memItemLeft" align="right" valign="top"><a class="el" href="SocketDNS_8h.html#a2d39e79bb7d4fa2271b6158750267c13">SocketDNS_Request_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SocketDNS_8h.html#a1d42c9ab57cf57e394874bf801db4087">SocketDNS_create_completed_request</a> (<a class="el" href="SocketDNS_8h.html#ac9190fe07142a017f86dae46145cb2fd">SocketDNS_T</a> dns, struct addrinfo *result, int port)</td></tr>
<tr class="memdesc:a1d42c9ab57cf57e394874bf801db4087"><td class="mdescLeft">&#160;</td><td class="mdescRight">SocketDNS_create_completed_request - Create a completed request from pre-resolved addrinfo @dns: DNS resolver instance.  <br /></td></tr>
<tr class="separator:a1d42c9ab57cf57e394874bf801db4087"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab988727825887d34e87d144d30c30c2f" id="r_ab988727825887d34e87d144d30c30c2f"><td class="memItemLeft" align="right" valign="top">struct addrinfo *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SocketDNS_8h.html#ab988727825887d34e87d144d30c30c2f">SocketDNS_resolve_sync</a> (<a class="el" href="SocketDNS_8h.html#ac9190fe07142a017f86dae46145cb2fd">SocketDNS_T</a> dns, const char *host, int port, const struct addrinfo *hints, int timeout_ms)</td></tr>
<tr class="memdesc:ab988727825887d34e87d144d30c30c2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">SocketDNS_resolve_sync - Synchronous DNS resolution with timeout guarantee @dns: DNS resolver instance (NULL uses global default - not yet implemented) @host: Hostname to resolve (NULL for wildcard bind) @port: Port number @hints: Address hints (may be NULL for defaults) @timeout_ms: Timeout in milliseconds (0 = use resolver default)  <br /></td></tr>
<tr class="separator:ab988727825887d34e87d144d30c30c2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a329324a0e4a1450a6b968b375bb9b333" id="r_a329324a0e4a1450a6b968b375bb9b333"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="Except_8h.html#structExcept__T">Except_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SocketDNS_8h.html#a329324a0e4a1450a6b968b375bb9b333">SocketDNS_Failed</a></td></tr>
<tr class="memdesc:a329324a0e4a1450a6b968b375bb9b333"><td class="mdescLeft">&#160;</td><td class="mdescRight">DNS resolution operation failure.  <br /></td></tr>
<tr class="separator:a329324a0e4a1450a6b968b375bb9b333"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="aa9ba864e1a3353563283aa17b57abd88" name="aa9ba864e1a3353563283aa17b57abd88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9ba864e1a3353563283aa17b57abd88">&#9670;&#160;</a></span>Request_T</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Request_T&#160;&#160;&#160;<a class="el" href="SocketDNS_8h.html#a2d39e79bb7d4fa2271b6158750267c13">SocketDNS_Request_T</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SocketDNS_8h_source.html#l00049">49</a> of file <a class="el" href="SocketDNS_8h_source.html">SocketDNS.h</a>.</p>

</div>
</div>
<a id="a0acb682b8260ab1c60b918599864e2e5" name="a0acb682b8260ab1c60b918599864e2e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0acb682b8260ab1c60b918599864e2e5">&#9670;&#160;</a></span>T</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define T&#160;&#160;&#160;<a class="el" href="SocketDNS_8h.html#ac9190fe07142a017f86dae46145cb2fd">SocketDNS_T</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Async DNS Resolution. </p>
<p>Provides asynchronous DNS resolution using a thread pool to eliminate blocking getaddrinfo() calls that can take 30+ seconds during DNS failures. This addresses DoS vulnerabilities and enables truly non-blocking socket operations.</p>
<p>PLATFORM REQUIREMENTS:</p><ul>
<li>POSIX-compliant system (Linux, BSD, macOS, etc.)</li>
<li>POSIX threads (pthread) for thread pool</li>
<li>getaddrinfo() for DNS resolution (POSIX.1-2001)</li>
<li>NOT portable to Windows without Winsock adaptation</li>
</ul>
<p>Features:</p><ul>
<li>Thread pool-based async DNS resolution</li>
<li>Callback-based completion notification</li>
<li>SocketPoll integration for event-driven completion</li>
<li>Request cancellation support with explicit error reporting</li>
<li>Configurable per-resolver and per-request timeouts</li>
<li>Thread-safe implementation</li>
<li>Automatic request lifecycle management Usage Pattern (Callback-based): SocketDNS_T dns = <a class="el" href="SocketDNS_8h.html#a799f4d96c77eef54ecb9be5523b591fd" title="SocketDNS_new - Create a new async DNS resolver Returns: New DNS resolver instance Raises: SocketDNS_...">SocketDNS_new()</a>; SocketDNS_resolve(dns, "example.com", 80, callback, user_data); // callback invoked when resolution completes Usage Pattern (SocketPoll integration): SocketDNS_T dns = <a class="el" href="SocketDNS_8h.html#a799f4d96c77eef54ecb9be5523b591fd" title="SocketDNS_new - Create a new async DNS resolver Returns: New DNS resolver instance Raises: SocketDNS_...">SocketDNS_new()</a>; SocketPoll_T poll = SocketPoll_new(100); int dns_fd = SocketDNS_pollfd(dns); SocketPoll_add(poll, dns_fd, POLL_READ, dns); // In event loop: SocketDNS_check(dns) processes completed requests Error Handling:</li>
<li>SocketDNS_Failed: DNS resolution errors</li>
<li>Request handles remain valid until result retrieved or cancelled </li>
</ul>

<p class="definition">Definition at line <a class="el" href="SocketDNS_8h_source.html#l00046">46</a> of file <a class="el" href="SocketDNS_8h_source.html">SocketDNS.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a09004bbc0b6c4d606530226f9fff912a" name="a09004bbc0b6c4d606530226f9fff912a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09004bbc0b6c4d606530226f9fff912a">&#9670;&#160;</a></span>SocketDNS_Callback</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* SocketDNS_Callback) (<a class="el" href="SocketDNS_8h.html#a2d39e79bb7d4fa2271b6158750267c13">SocketDNS_Request_T</a> req, struct addrinfo *result, int error, void *data)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SocketDNS_Callback - Callback function for async DNS resolution @req: Request handle for this resolution. </p>
<dl class="section return"><dt>Returns</dt><dd>: Completed addrinfo result (NULL on error) @error: Error code from getaddrinfo() (0 on success) @data: User data passed to <a class="el" href="SocketDNS_8h.html#ac4df82b60dff42e9104a19062074a2f5" title="SocketDNS_resolve - Start async DNS resolution @dns: DNS resolver instance @host: Hostname or IP addr...">SocketDNS_resolve()</a> Called when DNS resolution completes. If result is NULL, error contains the getaddrinfo() error code. The caller owns the result addrinfo structure and must call freeaddrinfo() when done. Thread-safe: Called from DNS worker thread, not application thread </dd></dl>

<p class="definition">Definition at line <a class="el" href="SocketDNS_8h_source.html#l00066">66</a> of file <a class="el" href="SocketDNS_8h_source.html">SocketDNS.h</a>.</p>

</div>
</div>
<a id="a2d39e79bb7d4fa2271b6158750267c13" name="a2d39e79bb7d4fa2271b6158750267c13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d39e79bb7d4fa2271b6158750267c13">&#9670;&#160;</a></span>SocketDNS_Request_T</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="SocketDNS_8h.html#a2d39e79bb7d4fa2271b6158750267c13">SocketDNS_Request_T</a>* <a class="el" href="SocketDNS_8h.html#a2d39e79bb7d4fa2271b6158750267c13">SocketDNS_Request_T</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SocketDNS_8h_source.html#l00050">50</a> of file <a class="el" href="SocketDNS_8h_source.html">SocketDNS.h</a>.</p>

</div>
</div>
<a id="ac9190fe07142a017f86dae46145cb2fd" name="ac9190fe07142a017f86dae46145cb2fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9190fe07142a017f86dae46145cb2fd">&#9670;&#160;</a></span>SocketDNS_T</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="SocketDNS_8h.html#ac9190fe07142a017f86dae46145cb2fd">SocketDNS_T</a>* <a class="el" href="SocketDNS_8h.html#ac9190fe07142a017f86dae46145cb2fd">SocketDNS_T</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SocketDNS_8h_source.html#l00047">47</a> of file <a class="el" href="SocketDNS_8h_source.html">SocketDNS.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ae1d672627973547345ad91e2e83f30b6" name="ae1d672627973547345ad91e2e83f30b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1d672627973547345ad91e2e83f30b6">&#9670;&#160;</a></span>SocketDNS_cancel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SocketDNS_cancel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="SocketDNS_8h.html#ac9190fe07142a017f86dae46145cb2fd">SocketDNS_T</a>&#160;</td>
          <td class="paramname"><em>dns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="SocketDNS_8h.html#a2d39e79bb7d4fa2271b6158750267c13">SocketDNS_Request_T</a>&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SocketDNS_cancel - Cancel a pending DNS resolution @dns: DNS resolver instance @req: Request handle to cancel Thread-safe: Yes - protected by internal mutex Cancels a pending request. </p>
<p>If resolution has already completed, this has no effect. The request handle becomes invalid after cancellation. Callbacks will not be invoked for cancelled requests. </p>

</div>
</div>
<a id="ad8f2fa5ee464e84f44b4b6059b4813e5" name="ad8f2fa5ee464e84f44b4b6059b4813e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8f2fa5ee464e84f44b4b6059b4813e5">&#9670;&#160;</a></span>SocketDNS_check()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int SocketDNS_check </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="SocketDNS_8h.html#ac9190fe07142a017f86dae46145cb2fd">SocketDNS_T</a>&#160;</td>
          <td class="paramname"><em>dns</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SocketDNS_check - Check for completed requests (non-blocking) @dns: DNS resolver instance Returns: Number of completion signals drained (1 byte per completed/cancelled/timeout request) Thread-safe: Yes - safe to call from any thread Drains the signal pipe for completed DNS events. </p>
<p>Does not automatically retrieve results. For poll-mode requests (no callback), track your Request_T handles and call <a class="el" href="SocketDNS_8h.html#af116c65d3617976fd55b1e3cf68d01ff" title="SocketDNS_getresult - Get result of completed request @dns: DNS resolver instance @req: Request handl...">SocketDNS_getresult()</a> after draining to fetch completed results. Call when <a class="el" href="SocketDNS_8h.html#a9228880ada42145db04298282b5f0c80" title="SocketDNS_pollfd - Get pollable file descriptor for SocketPoll integration @dns: DNS resolver instanc...">SocketDNS_pollfd()</a> is readable. </p>

</div>
</div>
<a id="a1d42c9ab57cf57e394874bf801db4087" name="a1d42c9ab57cf57e394874bf801db4087"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d42c9ab57cf57e394874bf801db4087">&#9670;&#160;</a></span>SocketDNS_create_completed_request()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="SocketDNS_8h.html#a2d39e79bb7d4fa2271b6158750267c13">SocketDNS_Request_T</a> SocketDNS_create_completed_request </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="SocketDNS_8h.html#ac9190fe07142a017f86dae46145cb2fd">SocketDNS_T</a>&#160;</td>
          <td class="paramname"><em>dns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct addrinfo *&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SocketDNS_create_completed_request - Create a completed request from pre-resolved addrinfo @dns: DNS resolver instance. </p>
<dl class="section return"><dt>Returns</dt><dd>: Pre-resolved addrinfo result (caller transfers ownership) @port: Port number Returns: Request handle for completed request Raises: SocketDNS_Failed on allocation failure Thread-safe: Yes - protected by internal mutex Creates a request that is already marked as complete with the provided result. Useful for synchronous resolution (e.g., wildcard bind) that doesn't need async DNS. The caller transfers ownership of the addrinfo result to the request. </dd></dl>

</div>
</div>
<a id="abdc83f21f67b5b8557f35d7ffa4c839c" name="abdc83f21f67b5b8557f35d7ffa4c839c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdc83f21f67b5b8557f35d7ffa4c839c">&#9670;&#160;</a></span>SocketDNS_free()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SocketDNS_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="SocketDNS_8h.html#ac9190fe07142a017f86dae46145cb2fd">SocketDNS_T</a> *&#160;</td>
          <td class="paramname"><em>dns</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SocketDNS_free - Free a DNS resolver @dns: Pointer to resolver (will be set to NULL) Drains pending requests, signals worker threads to stop, and joins threads. </p>
<p>Any pending requests that have not been retrieved are cancelled. Thread-safe: Yes - safely shuts down thread pool </p>

</div>
</div>
<a id="a69d8d4c9f020bf781d541df7ecaf5acf" name="a69d8d4c9f020bf781d541df7ecaf5acf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69d8d4c9f020bf781d541df7ecaf5acf">&#9670;&#160;</a></span>SocketDNS_geterror()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int SocketDNS_geterror </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="SocketDNS_8h.html#ac9190fe07142a017f86dae46145cb2fd">SocketDNS_T</a>&#160;</td>
          <td class="paramname"><em>dns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="SocketDNS_8h.html#a2d39e79bb7d4fa2271b6158750267c13">SocketDNS_Request_T</a> *&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SocketDNS_geterror - Get error code for completed request @dns: DNS resolver instance @req: Request handle Returns: getaddrinfo() error code or 0 on success Thread-safe: Yes. </p>

</div>
</div>
<a id="a68f007d40e50ed2894c962ee91509fcc" name="a68f007d40e50ed2894c962ee91509fcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68f007d40e50ed2894c962ee91509fcc">&#9670;&#160;</a></span>SocketDNS_getmaxpending()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t SocketDNS_getmaxpending </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="SocketDNS_8h.html#ac9190fe07142a017f86dae46145cb2fd">SocketDNS_T</a>&#160;</td>
          <td class="paramname"><em>dns</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SocketDNS_getmaxpending - Get maximum pending request capacity @dns: DNS resolver instance Returns: Current pending request limit Thread-safe: Yes. </p>

</div>
</div>
<a id="af116c65d3617976fd55b1e3cf68d01ff" name="af116c65d3617976fd55b1e3cf68d01ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af116c65d3617976fd55b1e3cf68d01ff">&#9670;&#160;</a></span>SocketDNS_getresult()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct addrinfo * SocketDNS_getresult </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="SocketDNS_8h.html#ac9190fe07142a017f86dae46145cb2fd">SocketDNS_T</a>&#160;</td>
          <td class="paramname"><em>dns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="SocketDNS_8h.html#a2d39e79bb7d4fa2271b6158750267c13">SocketDNS_Request_T</a>&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SocketDNS_getresult - Get result of completed request @dns: DNS resolver instance @req: Request handle Returns: Completed addrinfo result or NULL if pending/error/cancelled Thread-safe: Yes - protected by internal mutex Retrieves the result of a completed DNS resolution. </p>
<p>Returns NULL if:</p><ul>
<li>Request is still pending</li>
<li>Request was cancelled</li>
<li>Resolution failed (check error via <a class="el" href="SocketDNS_8h.html#a69d8d4c9f020bf781d541df7ecaf5acf" title="SocketDNS_geterror - Get error code for completed request @dns: DNS resolver instance @req: Request h...">SocketDNS_geterror()</a>) The caller owns the returned addrinfo structure and must call freeaddrinfo() when done. The request handle becomes invalid after the result is retrieved. Performance: O(1) hash table lookup </li>
</ul>

</div>
</div>
<a id="a2f4c54acbc79bbb31a4ce3ec75928ee8" name="a2f4c54acbc79bbb31a4ce3ec75928ee8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f4c54acbc79bbb31a4ce3ec75928ee8">&#9670;&#160;</a></span>SocketDNS_gettimeout()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int SocketDNS_gettimeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="SocketDNS_8h.html#ac9190fe07142a017f86dae46145cb2fd">SocketDNS_T</a>&#160;</td>
          <td class="paramname"><em>dns</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SocketDNS_gettimeout - Get resolver request timeout in milliseconds @dns: DNS resolver instance Returns: Timeout in milliseconds (0 disables timeout) Thread-safe: Yes. </p>

</div>
</div>
<a id="a799f4d96c77eef54ecb9be5523b591fd" name="a799f4d96c77eef54ecb9be5523b591fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a799f4d96c77eef54ecb9be5523b591fd">&#9670;&#160;</a></span>SocketDNS_new()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="SocketDNS_8h.html#ac9190fe07142a017f86dae46145cb2fd">SocketDNS_T</a> SocketDNS_new </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SocketDNS_new - Create a new async DNS resolver Returns: New DNS resolver instance Raises: SocketDNS_Failed on initialization failure Thread-safe: Yes - returns new instance Creates a thread pool for DNS resolution. </p>
<p>Default thread count is SOCKET_DNS_THREAD_COUNT (configurable via <a class="el" href="SocketConfig_8h.html">SocketConfig.h</a>). </p>

</div>
</div>
<a id="a9228880ada42145db04298282b5f0c80" name="a9228880ada42145db04298282b5f0c80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9228880ada42145db04298282b5f0c80">&#9670;&#160;</a></span>SocketDNS_pollfd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int SocketDNS_pollfd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="SocketDNS_8h.html#ac9190fe07142a017f86dae46145cb2fd">SocketDNS_T</a>&#160;</td>
          <td class="paramname"><em>dns</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SocketDNS_pollfd - Get pollable file descriptor for SocketPoll integration @dns: DNS resolver instance Returns: File descriptor ready for reading when requests complete Thread-safe: Yes - returns stable file descriptor Returns a file descriptor (pipe or eventfd) that becomes readable when DNS resolution requests complete. </p>
<p>Add this to SocketPoll with POLL_READ and call <a class="el" href="SocketDNS_8h.html#ad8f2fa5ee464e84f44b4b6059b4813e5" title="SocketDNS_check - Check for completed requests (non-blocking) @dns: DNS resolver instance Returns: Nu...">SocketDNS_check()</a> when events occur. The file descriptor remains valid for the lifetime of the resolver. </p>

</div>
</div>
<a id="a009b2ac023375f1416344ab445d15667" name="a009b2ac023375f1416344ab445d15667"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a009b2ac023375f1416344ab445d15667">&#9670;&#160;</a></span>SocketDNS_request_settimeout()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SocketDNS_request_settimeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="SocketDNS_8h.html#ac9190fe07142a017f86dae46145cb2fd">SocketDNS_T</a>&#160;</td>
          <td class="paramname"><em>dns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="SocketDNS_8h.html#a2d39e79bb7d4fa2271b6158750267c13">SocketDNS_Request_T</a>&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SocketDNS_request_settimeout - Override timeout for specific request @dns: DNS resolver instance @req: Request handle @timeout_ms: Timeout in milliseconds (0 disables timeout for this request) Thread-safe: Yes. </p>

</div>
</div>
<a id="ac4df82b60dff42e9104a19062074a2f5" name="ac4df82b60dff42e9104a19062074a2f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4df82b60dff42e9104a19062074a2f5">&#9670;&#160;</a></span>SocketDNS_resolve()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="SocketDNS_8h.html#a2d39e79bb7d4fa2271b6158750267c13">SocketDNS_Request_T</a> SocketDNS_resolve </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="SocketDNS_8h.html#ac9190fe07142a017f86dae46145cb2fd">SocketDNS_T</a>&#160;</td>
          <td class="paramname"><em>dns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="SocketDNS_8h.html#a09004bbc0b6c4d606530226f9fff912a">SocketDNS_Callback</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SocketDNS_resolve - Start async DNS resolution @dns: DNS resolver instance @host: Hostname or IP address to resolve (NULL for wildcard bind with AI_PASSIVE) @port: Port number (0 if not needed) @callback: Completion callback (NULL for SocketPoll integration) @data: User data passed to callback Returns: Request handle (never NULL) Raises: SocketDNS_Failed on queue full or invalid parameters Thread-safe: Yes - protected by internal mutex Starts asynchronous DNS resolution. </p>
<p>If callback is NULL, use SocketPoll integration: add <a class="el" href="SocketDNS_8h.html#a9228880ada42145db04298282b5f0c80" title="SocketDNS_pollfd - Get pollable file descriptor for SocketPoll integration @dns: DNS resolver instanc...">SocketDNS_pollfd()</a> to SocketPoll and call <a class="el" href="SocketDNS_8h.html#ad8f2fa5ee464e84f44b4b6059b4813e5" title="SocketDNS_check - Check for completed requests (non-blocking) @dns: DNS resolver instance Returns: Nu...">SocketDNS_check()</a> on events. If callback is provided, it will be called from a worker thread when resolution completes. When host is NULL, AI_PASSIVE flag is automatically set for wildcard bind operations. The request handle remains valid until:</p><ul>
<li>Result retrieved via <a class="el" href="SocketDNS_8h.html#af116c65d3617976fd55b1e3cf68d01ff" title="SocketDNS_getresult - Get result of completed request @dns: DNS resolver instance @req: Request handl...">SocketDNS_getresult()</a> (callback mode)</li>
<li>Request cancelled via <a class="el" href="SocketDNS_8h.html#ae1d672627973547345ad91e2e83f30b6" title="SocketDNS_cancel - Cancel a pending DNS resolution @dns: DNS resolver instance @req: Request handle t...">SocketDNS_cancel()</a></li>
<li>Resolver freed via <a class="el" href="SocketDNS_8h.html#abdc83f21f67b5b8557f35d7ffa4c839c" title="SocketDNS_free - Free a DNS resolver @dns: Pointer to resolver (will be set to NULL) Drains pending r...">SocketDNS_free()</a> Performance: O(1) queue insertion </li>
</ul>

</div>
</div>
<a id="ab988727825887d34e87d144d30c30c2f" name="ab988727825887d34e87d144d30c30c2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab988727825887d34e87d144d30c30c2f">&#9670;&#160;</a></span>SocketDNS_resolve_sync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct addrinfo * SocketDNS_resolve_sync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="SocketDNS_8h.html#ac9190fe07142a017f86dae46145cb2fd">SocketDNS_T</a>&#160;</td>
          <td class="paramname"><em>dns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct addrinfo *&#160;</td>
          <td class="paramname"><em>hints</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SocketDNS_resolve_sync - Synchronous DNS resolution with timeout guarantee @dns: DNS resolver instance (NULL uses global default - not yet implemented) @host: Hostname to resolve (NULL for wildcard bind) @port: Port number @hints: Address hints (may be NULL for defaults) @timeout_ms: Timeout in milliseconds (0 = use resolver default) </p>
<p>Returns: addrinfo result (caller must call freeaddrinfo()) Raises: SocketDNS_Failed on error or timeout</p>
<p>Thread-safe: Yes - uses internal synchronization</p>
<p>This function provides synchronous DNS resolution with GUARANTEED timeout. Unlike raw getaddrinfo() which can block for 30+ seconds, this function uses the async DNS worker thread pool internally and enforces the specified timeout using condition variable wait.</p>
<p>Use this function when you need blocking DNS resolution but cannot afford unbounded blocking time (e.g., in network servers handling untrusted input).</p>
<p>For IP addresses, resolution is instant (no DNS lookup needed).</p>
<p>Usage: struct addrinfo *res = SocketDNS_resolve_sync(dns, "example.com", 80, NULL, 5000); // Use res... freeaddrinfo(res); </p>

</div>
</div>
<a id="a55b33b7c9a44dc087be0f74b259d54f7" name="a55b33b7c9a44dc087be0f74b259d54f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55b33b7c9a44dc087be0f74b259d54f7">&#9670;&#160;</a></span>SocketDNS_setmaxpending()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SocketDNS_setmaxpending </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="SocketDNS_8h.html#ac9190fe07142a017f86dae46145cb2fd">SocketDNS_T</a>&#160;</td>
          <td class="paramname"><em>dns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_pending</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SocketDNS_setmaxpending - Set maximum pending request capacity @dns: DNS resolver instance @max_pending: New pending request limit (0 allows no pending requests) Raises: SocketDNS_Failed if max_pending &lt; current queue depth Thread-safe: Yes. </p>

</div>
</div>
<a id="a390b733f1a522dcaccede3adf56fece0" name="a390b733f1a522dcaccede3adf56fece0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a390b733f1a522dcaccede3adf56fece0">&#9670;&#160;</a></span>SocketDNS_settimeout()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SocketDNS_settimeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="SocketDNS_8h.html#ac9190fe07142a017f86dae46145cb2fd">SocketDNS_T</a>&#160;</td>
          <td class="paramname"><em>dns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SocketDNS_settimeout - Set resolver request timeout in milliseconds @dns: DNS resolver instance @timeout_ms: Timeout in milliseconds (0 disables timeout) Thread-safe: Yes. </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a329324a0e4a1450a6b968b375bb9b333" name="a329324a0e4a1450a6b968b375bb9b333"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a329324a0e4a1450a6b968b375bb9b333">&#9670;&#160;</a></span>SocketDNS_Failed</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="Except_8h.html#structExcept__T">Except_T</a> SocketDNS_Failed</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>DNS resolution operation failure. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<hr class="footer"/>
<footer class="footer">
  <div style="max-width: 960px; margin: 0 auto; padding: 40px 24px;">
    <div style="display: flex; justify-content: space-between; align-items: flex-start; flex-wrap: wrap; gap: 40px;">
      <!-- Brand -->
      <div style="flex: 1; min-width: 200px;">
        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 12px;">
          <div style="width: 24px; height: 24px; background: linear-gradient(135deg, #3b82f6, #8b5cf6); border-radius: 6px;"></div>
          <span style="font-size: 1rem; font-weight: 600; color: #f7f9fa;">Socket Library</span>
        </div>
        <p style="color: #8b98a5; font-size: 0.8125rem; line-height: 1.6; margin: 0;">
          High-performance socket toolkit for POSIX systems with exception-based error handling and TLS 1.3 support.
        </p>
      </div>
      <!-- Links -->
      <div style="display: flex; gap: 48px; flex-wrap: wrap;">
        <div>
          <h4 style="font-size: 0.75rem; font-weight: 600; color: #f7f9fa; text-transform: uppercase; letter-spacing: 0.05em; margin: 0 0 12px 0;">Documentation</h4>
          <ul style="list-style: none; padding: 0; margin: 0;">
            <li style="margin: 6px 0;"><a href="index.html" style="color: #8b98a5; text-decoration: none; font-size: 0.8125rem;">Getting Started</a></li>
            <li style="margin: 6px 0;"><a href="annotated.html" style="color: #8b98a5; text-decoration: none; font-size: 0.8125rem;">Data Structures</a></li>
            <li style="margin: 6px 0;"><a href="globals.html" style="color: #8b98a5; text-decoration: none; font-size: 0.8125rem;">API Reference</a></li>
          </ul>
        </div>
        <div>
          <h4 style="font-size: 0.75rem; font-weight: 600; color: #f7f9fa; text-transform: uppercase; letter-spacing: 0.05em; margin: 0 0 12px 0;">Resources</h4>
          <ul style="list-style: none; padding: 0; margin: 0;">
            <li style="margin: 6px 0;"><a href="files.html" style="color: #8b98a5; text-decoration: none; font-size: 0.8125rem;">Header Files</a></li>
            <li style="margin: 6px 0;"><a href="https://x.com/tetsuocorp" target="_blank" style="color: #8b98a5; text-decoration: none; font-size: 0.8125rem;">Twitter/X</a></li>
          </ul>
        </div>
      </div>
    </div>
    <!-- Bottom -->
    <div style="margin-top: 32px; padding-top: 24px; border-top: 1px solid #30363d; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 16px;">
      <div style="display: flex; align-items: center; gap: 12px;">
        <span style="font-size: 0.75rem; font-weight: 500; color: #10b981; background: rgba(16, 185, 129, 0.1); padding: 4px 8px; border-radius: 4px;">C11</span>
        <span style="font-size: 0.75rem; font-weight: 500; color: #3b82f6; background: rgba(59, 130, 246, 0.1); padding: 4px 8px; border-radius: 4px;">POSIX</span>
        <span style="font-size: 0.75rem; font-weight: 500; color: #8b5cf6; background: rgba(139, 92, 246, 0.1); padding: 4px 8px; border-radius: 4px;">TLS 1.3</span>
      </div>
      <div style="color: #6e7681; font-size: 0.75rem; display: flex; align-items: center; gap: 8px;">
        <span> 2025 Tetsuo Corporation</span>
        <span style="color: #30363d;"></span>
        <a href="https://opensource.org/licenses/MIT" target="_blank" style="color: #8b98a5; text-decoration: none;">MIT License</a>
      </div>
    </div>
  </div>
</footer>
</body>
</html>
