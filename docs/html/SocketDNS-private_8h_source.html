<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tetsuo Pulse: SocketDNS-private.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="socket-brand.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Tetsuo Pulse<span id="projectnumber">&#160;1.0.0</span>
   </div>
   <div id="projectbrief">High-performance networking from Tetsuo</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function() { init_codefold(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('SocketDNS-private_8h_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">SocketDNS-private.h</div></div>
</div><!--header-->
<div class="contents">
<a href="SocketDNS-private_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="preprocessor">#ifndef SOCKETDNS_PRIVATE_INCLUDED</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="preprocessor">#define SOCKETDNS_PRIVATE_INCLUDED</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span> </div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span><span class="comment">/* System headers */</span></div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span><span class="preprocessor">#include &lt;netdb.h&gt;</span></div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span><span class="preprocessor">#include &lt;pthread.h&gt;</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span><span class="preprocessor">#include &lt;stdbool.h&gt;</span></div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span><span class="preprocessor">#include &lt;stdint.h&gt;</span></div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span><span class="preprocessor">#include &lt;sys/socket.h&gt;</span></div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span><span class="preprocessor">#include &lt;sys/time.h&gt;</span></div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span><span class="preprocessor">#include &lt;time.h&gt;</span></div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span><span class="preprocessor">#include &lt;unistd.h&gt;</span></div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span> </div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span><span class="comment">/* Project headers - Arena.h NOT included to avoid T macro conflicts.</span></div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span><span class="comment"> * Each .c file must include Arena.h before defining T. */</span></div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span><span class="preprocessor">#include &quot;<a class="code" href="Except_8h.html">core/Except.h</a>&quot;</span></div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span><span class="preprocessor">#include &quot;<a class="code" href="SocketConfig_8h.html">core/SocketConfig.h</a>&quot;</span></div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span><span class="preprocessor">#include &quot;<a class="code" href="SocketUtil_8h.html">core/SocketUtil.h</a>&quot;</span></div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span><span class="preprocessor">#include &quot;<a class="code" href="SocketCommon_8h.html">socket/SocketCommon.h</a>&quot;</span></div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span> </div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="group__dns.html#structSocketDNS__Request__T">SocketDNS_Request_T</a> <a class="code hl_struct" href="group__dns.html#structSocketDNS__Request__T">SocketDNS_Request_T</a>;</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span> </div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno"><a class="line" href="group__foundation.html#gac1ed22b9df4eff7a3398cac608c090cc">   87</a></span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_typedef" href="group__foundation.html#gac1ed22b9df4eff7a3398cac608c090cc">Arena_T</a> *<a class="code hl_typedef" href="group__foundation.html#gac1ed22b9df4eff7a3398cac608c090cc">Arena_T</a>;</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span> </div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno"><a class="line" href="group__dns.html#ga47df31a4c5b1861e6bc33bf91effa388">  108</a></span><span class="keyword">typedef</span> void (*<a class="code hl_typedef" href="group__dns.html#ga47df31a4c5b1861e6bc33bf91effa388">SocketDNS_Callback</a>) (<a class="code hl_struct" href="group__dns.html#structSocketDNS__Request__T">SocketDNS_Request_T</a> *, <span class="keyword">struct </span>addrinfo *,</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>                                    int, <span class="keywordtype">void</span> *);</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span> </div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span><span class="comment">/*</span></div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span><span class="comment"> * =============================================================================</span></div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span><span class="comment"> * Internal Enumerations and Constants</span></div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span><span class="comment"> * =============================================================================</span></div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span><span class="comment"> */</span></div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span> </div>
<div class="foldopen" id="foldopen00151" data-start="{" data-end="};">
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno"><a class="line" href="group__dns.html#gabbf149223655194c14baa78907cb2dab">  151</a></span><span class="keyword">typedef</span> <span class="keyword">enum</span></div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>{</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno"><a class="line" href="group__dns.html#ggabbf149223655194c14baa78907cb2daba7ead5ef092f0da5dc3697bef6e471634">  153</a></span>  <a class="code hl_enumvalue" href="group__dns.html#ggabbf149223655194c14baa78907cb2daba7ead5ef092f0da5dc3697bef6e471634">REQ_PENDING</a>, </div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>  <a class="code hl_enumvalue" href="group__dns.html#ggabbf149223655194c14baa78907cb2dabaee8f2ea0bc2ac29aebf50d119493c1ec">REQ_PROCESSING</a>, </div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>  <a class="code hl_enumvalue" href="group__dns.html#ggabbf149223655194c14baa78907cb2daba5018b6008cd3f54493a3eab0c3e29016">REQ_COMPLETE</a>,   </div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>  <a class="code hl_enumvalue" href="group__dns.html#ggabbf149223655194c14baa78907cb2daba8ee12f04250be78e34a7bdf0f08f2111">REQ_CANCELLED</a> </div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno"><a class="line" href="group__dns.html#ggabbf149223655194c14baa78907cb2daba8ee12f04250be78e34a7bdf0f08f2111">  159</a></span>} <a class="code hl_enumeration" href="group__dns.html#gabbf149223655194c14baa78907cb2dab">RequestState</a>;</div>
</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span> </div>
<div class="foldopen" id="foldopen00188" data-start="{" data-end="};">
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno"><a class="line" href="group__dns.html#gaba752f803497a475aa1b96ed2351dd99">  188</a></span><span class="keyword">enum</span> <a class="code hl_enumeration" href="group__dns.html#gaba752f803497a475aa1b96ed2351dd99">DnsCleanupLevel</a></div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>{</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno"><a class="line" href="group__dns.html#ggaba752f803497a475aa1b96ed2351dd99aae3ddf1daeda71dca3b2cb763696b941">  190</a></span>  <a class="code hl_enumvalue" href="group__dns.html#ggaba752f803497a475aa1b96ed2351dd99aae3ddf1daeda71dca3b2cb763696b941">DNS_CLEAN_NONE</a> = 0, </div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno"><a class="line" href="group__dns.html#ggaba752f803497a475aa1b96ed2351dd99a615acce89a6c289fce7fd44bd35b0d25">  191</a></span>  <a class="code hl_enumvalue" href="group__dns.html#ggaba752f803497a475aa1b96ed2351dd99a615acce89a6c289fce7fd44bd35b0d25">DNS_CLEAN_MUTEX</a>,    </div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno"><a class="line" href="group__dns.html#ggaba752f803497a475aa1b96ed2351dd99a2e24c3dd9e7450a52d40c9480eaccffc">  192</a></span>  <a class="code hl_enumvalue" href="group__dns.html#ggaba752f803497a475aa1b96ed2351dd99a2e24c3dd9e7450a52d40c9480eaccffc">DNS_CLEAN_CONDS</a>,    </div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno"><a class="line" href="group__dns.html#ggaba752f803497a475aa1b96ed2351dd99a080e8c4f0bc500d949f6210704a156ca">  193</a></span>  <a class="code hl_enumvalue" href="group__dns.html#ggaba752f803497a475aa1b96ed2351dd99a080e8c4f0bc500d949f6210704a156ca">DNS_CLEAN_PIPE</a>,     </div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>  <a class="code hl_enumvalue" href="group__dns.html#ggaba752f803497a475aa1b96ed2351dd99afbae8735e6a307a7f4eea386f3d5afbb">DNS_CLEAN_ARENA</a>     </div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno"><a class="line" href="group__dns.html#ggaba752f803497a475aa1b96ed2351dd99afbae8735e6a307a7f4eea386f3d5afbb">  195</a></span>};</div>
</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span> </div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span><span class="comment">/*</span></div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span><span class="comment"> * =============================================================================</span></div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span><span class="comment"> * Internal Structures</span></div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span><span class="comment"> * =============================================================================</span></div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span><span class="comment"> */</span></div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span> </div>
<div class="foldopen" id="foldopen00211" data-start="{" data-end="};">
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno"><a class="line" href="group__dns.html">  211</a></span><span class="keyword">struct </span><a class="code hl_struct" href="group__dns.html#structSocketDNS__Request__T">SocketDNS_Request_T</a></div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>{</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno"><a class="line" href="group__dns.html#ac9f3fa1aca3eb39a39d6e3777fc49273">  213</a></span>  <span class="keywordtype">char</span> *<a class="code hl_variable" href="group__dns.html#ac9f3fa1aca3eb39a39d6e3777fc49273">host</a>;                  </div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno"><a class="line" href="group__dns.html#a7868d9891ef8b5565dfa9ed0c26d6444">  214</a></span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="group__dns.html#a7868d9891ef8b5565dfa9ed0c26d6444">port</a>;                    </div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno"><a class="line" href="group__dns.html#ac737e6e0a2823df1c6a562ed9094ef68">  215</a></span>  <a class="code hl_typedef" href="group__dns.html#ga47df31a4c5b1861e6bc33bf91effa388">SocketDNS_Callback</a> <a class="code hl_variable" href="group__dns.html#ac737e6e0a2823df1c6a562ed9094ef68">callback</a>; </div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno"><a class="line" href="group__dns.html#abb8217588f38c05ae1ef9c52ec58975f">  216</a></span>  <span class="keywordtype">void</span> *<a class="code hl_variable" href="group__dns.html#abb8217588f38c05ae1ef9c52ec58975f">callback_data</a>;         </div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno"><a class="line" href="group__dns.html#a98bce03b9f775ac1d728d1f26b0b547b">  217</a></span>  <a class="code hl_enumeration" href="group__dns.html#gabbf149223655194c14baa78907cb2dab">RequestState</a> <a class="code hl_variable" href="group__dns.html#a98bce03b9f775ac1d728d1f26b0b547b">state</a>;          </div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno"><a class="line" href="group__dns.html#a66c651eeca12f843f19f01518b8ae931">  218</a></span>  <span class="keyword">struct </span><a class="code hl_variable" href="group__dns.html#a7868d9891ef8b5565dfa9ed0c26d6444">addrinfo</a> *<a class="code hl_variable" href="group__dns.html#a66c651eeca12f843f19f01518b8ae931">result</a>; </div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno"><a class="line" href="group__dns.html#a3d233326169857dc18531189fe9c6b73">  219</a></span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="group__dns.html#a3d233326169857dc18531189fe9c6b73">error</a>;               </div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno"><a class="line" href="group__dns.html#aeddfbe59d08f55af648954a09ce13e1c">  220</a></span>  <span class="keyword">struct </span><a class="code hl_struct" href="group__dns.html#structSocketDNS__Request__T">SocketDNS_Request_T</a> *<a class="code hl_variable" href="group__dns.html#aeddfbe59d08f55af648954a09ce13e1c">queue_next</a>; </div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno"><a class="line" href="group__dns.html#ac8e64bed401754d3f9edde727173d215">  221</a></span>  <span class="keyword">struct </span><a class="code hl_struct" href="group__dns.html#structSocketDNS__Request__T">SocketDNS_Request_T</a> *<a class="code hl_variable" href="group__dns.html#ac8e64bed401754d3f9edde727173d215">hash_next</a>;  </div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno"><a class="line" href="group__dns.html#a4cd29363bd5fa627cf69f0b049396aa5">  222</a></span>  <span class="keywordtype">unsigned</span> <a class="code hl_variable" href="group__dns.html#a4cd29363bd5fa627cf69f0b049396aa5">hash_value</a>;                    </div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno"><a class="line" href="group__dns.html#aaac0c7c61c58409bc34fb10f8f1319b9">  223</a></span>  <span class="keyword">struct </span><a class="code hl_variable" href="group__dns.html#a7868d9891ef8b5565dfa9ed0c26d6444">timespec</a> <a class="code hl_variable" href="group__dns.html#aaac0c7c61c58409bc34fb10f8f1319b9">submit_time</a>; </div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno"><a class="line" href="group__dns.html#a62225dfe2f1c26e94b46ceb012d52517">  224</a></span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="group__dns.html#a62225dfe2f1c26e94b46ceb012d52517">timeout_override_ms</a>;     </div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno"><a class="line" href="group__dns.html#afb60ae86fa4e34c68f4b19248c0a6224">  225</a></span>  <span class="keyword">struct </span><a class="code hl_struct" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a> *<a class="code hl_variable" href="group__dns.html#afb60ae86fa4e34c68f4b19248c0a6224">dns_resolver</a>; </div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>};</div>
</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span> </div>
<div class="foldopen" id="foldopen00234" data-start="{" data-end="};">
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno"><a class="line" href="group__dns.html">  234</a></span><span class="keyword">struct </span><a class="code hl_struct" href="group__dns.html#structSocketDNS__CacheEntry">SocketDNS_CacheEntry</a></div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>{</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno"><a class="line" href="group__dns.html#a255928a9675d7cf10546db358803aff9">  236</a></span>  <span class="keywordtype">char</span> *<a class="code hl_variable" href="group__dns.html#a255928a9675d7cf10546db358803aff9">hostname</a>;          </div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno"><a class="line" href="group__dns.html#a6a48c1dab59a852e8ff31dd5706171ad">  237</a></span>  <span class="keyword">struct </span>addrinfo *<a class="code hl_variable" href="group__dns.html#a6a48c1dab59a852e8ff31dd5706171ad">result</a>; </div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno"><a class="line" href="group__dns.html#acdc4f7c7982f99ed429b960d0136ef03">  238</a></span>  int64_t <a class="code hl_variable" href="group__dns.html#acdc4f7c7982f99ed429b960d0136ef03">insert_time_ms</a>;  </div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno"><a class="line" href="group__dns.html#a532f8a6cec51029299694060cc3e601f">  239</a></span>  int64_t <a class="code hl_variable" href="group__dns.html#a532f8a6cec51029299694060cc3e601f">last_access_ms</a>;  </div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno"><a class="line" href="group__dns.html#a70aac2d4922733ec0d8695da28b3b576">  240</a></span>  <span class="keyword">struct </span><a class="code hl_struct" href="group__dns.html#structSocketDNS__CacheEntry">SocketDNS_CacheEntry</a> *<a class="code hl_variable" href="group__dns.html#a70aac2d4922733ec0d8695da28b3b576">hash_next</a>; </div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno"><a class="line" href="group__dns.html#a3fa811806204bac45715df62674e5058">  241</a></span>  <span class="keyword">struct </span><a class="code hl_struct" href="group__dns.html#structSocketDNS__CacheEntry">SocketDNS_CacheEntry</a> *<a class="code hl_variable" href="group__dns.html#a3fa811806204bac45715df62674e5058">lru_prev</a>;  </div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno"><a class="line" href="group__dns.html#afd50b3f49a48cb75f1701e077dbb6ba5">  242</a></span>  <span class="keyword">struct </span><a class="code hl_struct" href="group__dns.html#structSocketDNS__CacheEntry">SocketDNS_CacheEntry</a> *<a class="code hl_variable" href="group__dns.html#afd50b3f49a48cb75f1701e077dbb6ba5">lru_next</a>;  </div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>};</div>
</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span> </div>
<div class="foldopen" id="foldopen00260" data-start="{" data-end="};">
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno"><a class="line" href="group__dns.html">  260</a></span><span class="keyword">struct </span><a class="code hl_struct" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a></div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>{</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno"><a class="line" href="group__dns.html#adb82c384f91b26001b159b838dc2d153">  262</a></span>  <a class="code hl_typedef" href="group__foundation.html#gac1ed22b9df4eff7a3398cac608c090cc">Arena_T</a> <a class="code hl_variable" href="group__dns.html#adb82c384f91b26001b159b838dc2d153">arena</a>;      </div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno"><a class="line" href="group__dns.html#a9ac775dac4641b59cab189333cbcb63d">  263</a></span>  pthread_t *<a class="code hl_variable" href="group__dns.html#a9ac775dac4641b59cab189333cbcb63d">workers</a>; </div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno"><a class="line" href="group__dns.html#ae5aa58d8c9a029fff13619993cdb8c3e">  264</a></span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="group__dns.html#ae5aa58d8c9a029fff13619993cdb8c3e">num_workers</a>;    </div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno"><a class="line" href="group__dns.html#aa4656138af397c9d59c119fdeb97a9a8">  265</a></span>  <span class="keyword">struct </span><a class="code hl_struct" href="group__dns.html#structSocketDNS__Request__T">SocketDNS_Request_T</a> *<a class="code hl_variable" href="group__dns.html#aa4656138af397c9d59c119fdeb97a9a8">queue_head</a>; </div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno"><a class="line" href="group__dns.html#a1cb2f8d034a886ec86036844183004a1">  266</a></span>  <span class="keyword">struct </span><a class="code hl_struct" href="group__dns.html#structSocketDNS__Request__T">SocketDNS_Request_T</a> *<a class="code hl_variable" href="group__dns.html#a1cb2f8d034a886ec86036844183004a1">queue_tail</a>; </div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno"><a class="line" href="group__dns.html#a250c9a8eb40649ce94b504b229a8051c">  267</a></span>  <span class="keywordtype">size_t</span> <a class="code hl_variable" href="group__dns.html#a250c9a8eb40649ce94b504b229a8051c">queue_size</a>;                      </div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno"><a class="line" href="group__dns.html#a1bc6ad584684b38b8e086a9f41aa9f66">  268</a></span>  <span class="keywordtype">size_t</span> <a class="code hl_variable" href="group__dns.html#a1bc6ad584684b38b8e086a9f41aa9f66">max_pending</a>;                     </div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno"><a class="line" href="group__dns.html#a4c961cf7ec05d782ed03f09cf3a0b699">  269</a></span>  <span class="keyword">struct </span><a class="code hl_struct" href="group__dns.html#structSocketDNS__Request__T">SocketDNS_Request_T</a> *<a class="code hl_variable" href="group__dns.html#a4c961cf7ec05d782ed03f09cf3a0b699">request_hash</a>[<a class="code hl_define" href="group__core__io.html#gad93bb14bccd4fd5d8f37a22b30a4c944">SOCKET_DNS_REQUEST_HASH_SIZE</a>];</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno"><a class="line" href="group__dns.html#a2aaaddbe895c6d917cfbbd0aa0a61951">  271</a></span>  pthread_mutex_t <a class="code hl_variable" href="group__dns.html#a2aaaddbe895c6d917cfbbd0aa0a61951">mutex</a>;      </div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno"><a class="line" href="group__dns.html#ad13012e13d0e2f6a9a2a18917249f45c">  272</a></span>  pthread_cond_t <a class="code hl_variable" href="group__dns.html#ad13012e13d0e2f6a9a2a18917249f45c">queue_cond</a>;  </div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno"><a class="line" href="group__dns.html#a6b84353355d27005721631d66237fb89">  273</a></span>  pthread_cond_t <a class="code hl_variable" href="group__dns.html#a6b84353355d27005721631d66237fb89">result_cond</a>; </div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno"><a class="line" href="group__dns.html#a026541a405efc2f27fff1a59e8d29add">  274</a></span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="group__dns.html#a026541a405efc2f27fff1a59e8d29add">shutdown</a>;               </div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno"><a class="line" href="group__dns.html#a04a850256d01d59de5d86b389b5afdc8">  275</a></span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="group__dns.html#a04a850256d01d59de5d86b389b5afdc8">pipefd</a>[2];              </div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno"><a class="line" href="group__dns.html#a529eb3ddf6ec19b9eb13c9ee3d50267c">  276</a></span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="group__dns.html#a529eb3ddf6ec19b9eb13c9ee3d50267c">request_timeout_ms</a>;     </div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>  <span class="comment">/* DNS Cache */</span></div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno"><a class="line" href="group__dns.html#a16f569bb317093051b79b32c1849e986">  279</a></span>  <span class="keyword">struct </span><a class="code hl_struct" href="group__dns.html#structSocketDNS__CacheEntry">SocketDNS_CacheEntry</a> *<a class="code hl_variable" href="group__dns.html#a16f569bb317093051b79b32c1849e986">cache_hash</a>[<a class="code hl_define" href="group__core__io.html#gaa40398fc3798e6302da2f39fcc3b9c64">SOCKET_DNS_CACHE_HASH_SIZE</a>];</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno"><a class="line" href="group__dns.html#ab293feab42fe174da5f435f83b674df5">  281</a></span>  <span class="keyword">struct </span><a class="code hl_struct" href="group__dns.html#structSocketDNS__CacheEntry">SocketDNS_CacheEntry</a> *<a class="code hl_variable" href="group__dns.html#ab293feab42fe174da5f435f83b674df5">cache_lru_head</a>; </div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno"><a class="line" href="group__dns.html#a07d905f3bad8fcf64ca67c8403df16e0">  283</a></span>  <span class="keyword">struct </span><a class="code hl_struct" href="group__dns.html#structSocketDNS__CacheEntry">SocketDNS_CacheEntry</a> *<a class="code hl_variable" href="group__dns.html#a07d905f3bad8fcf64ca67c8403df16e0">cache_lru_tail</a>; </div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno"><a class="line" href="group__dns.html#a48de60e4f89fdf4028b311c74af29dc5">  284</a></span>  <span class="keywordtype">size_t</span> <a class="code hl_variable" href="group__dns.html#a48de60e4f89fdf4028b311c74af29dc5">cache_size</a>;       </div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno"><a class="line" href="group__dns.html#a145218b12162a09a737407e6aacc63f5">  285</a></span>  <span class="keywordtype">size_t</span> <a class="code hl_variable" href="group__dns.html#a145218b12162a09a737407e6aacc63f5">cache_max_entries</a>; </div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno"><a class="line" href="group__dns.html#ac7e264776c53a4d8d430e8904586540e">  286</a></span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="group__dns.html#ac7e264776c53a4d8d430e8904586540e">cache_ttl_seconds</a>;   </div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno"><a class="line" href="group__dns.html#a95afde895cf101a50cb4a7d117272409">  287</a></span>  uint64_t <a class="code hl_variable" href="group__dns.html#a95afde895cf101a50cb4a7d117272409">cache_hits</a>;     </div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno"><a class="line" href="group__dns.html#ae0a2004f91a93f8b0dc545f9218f1442">  288</a></span>  uint64_t <a class="code hl_variable" href="group__dns.html#ae0a2004f91a93f8b0dc545f9218f1442">cache_misses</a>;   </div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno"><a class="line" href="group__dns.html#ac0fa7dd0cc498c23a31a6f098b5722c3">  289</a></span>  uint64_t <a class="code hl_variable" href="group__dns.html#ac0fa7dd0cc498c23a31a6f098b5722c3">cache_evictions</a>; </div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno"><a class="line" href="group__dns.html#a93e8ba3f5a4605e1011252a7bd6fda05">  290</a></span>  uint64_t <a class="code hl_variable" href="group__dns.html#a93e8ba3f5a4605e1011252a7bd6fda05">cache_insertions</a>; </div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>  <span class="comment">/* DNS Configuration */</span></div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno"><a class="line" href="group__dns.html#a0b2b173de8cf17b724c383f24193ce1e">  293</a></span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="group__dns.html#a0b2b173de8cf17b724c383f24193ce1e">prefer_ipv6</a>;         </div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno"><a class="line" href="group__dns.html#affc9bb7fb07c068e65155ad2107ee947">  294</a></span>  <span class="keywordtype">char</span> **<a class="code hl_variable" href="group__dns.html#affc9bb7fb07c068e65155ad2107ee947">custom_nameservers</a>; </div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno"><a class="line" href="group__dns.html#a8c87e44fe98cb210e51d659ff95d1155">  295</a></span>  <span class="keywordtype">size_t</span> <a class="code hl_variable" href="group__dns.html#a8c87e44fe98cb210e51d659ff95d1155">nameserver_count</a>;  </div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno"><a class="line" href="group__dns.html#a6797750b5414b4ff70ae740e07d6dd1a">  296</a></span>  <span class="keywordtype">char</span> **<a class="code hl_variable" href="group__dns.html#a6797750b5414b4ff70ae740e07d6dd1a">search_domains</a>;   </div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno"><a class="line" href="group__dns.html#a3ee59a2c0215806ac3af7cabeb61e7c3">  297</a></span>  <span class="keywordtype">size_t</span> <a class="code hl_variable" href="group__dns.html#a3ee59a2c0215806ac3af7cabeb61e7c3">search_domain_count</a>; </div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>};</div>
</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span> </div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span><span class="comment">/* Internal macros - use centralized constant */</span></div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno"><a class="line" href="SocketDNS-private_8h.html#aa184c930ac1ceb9e24f30608555d8530">  301</a></span><span class="preprocessor">#define COMPLETION_SIGNAL_BYTE SOCKET_DNS_COMPLETION_SIGNAL_BYTE</span></div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span> </div>
<div class="foldopen" id="foldopen00310" data-start="" data-end="">
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno"><a class="line" href="group__dns.html#ga6aa3910745c244fe5ce4c66b7e31ce58">  310</a></span><span class="preprocessor">#define SIGNAL_DNS_COMPLETION(dns)                                            \</span></div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span><span class="preprocessor">  do                                                                          \</span></div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span><span class="preprocessor">    {                                                                         \</span></div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span><span class="preprocessor">      signal_completion (dns);                                                \</span></div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span><span class="preprocessor">      pthread_cond_broadcast (&amp;(dns)-&gt;result_cond);                           \</span></div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span><span class="preprocessor">    }                                                                         \</span></div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span><span class="preprocessor">  while (0)</span></div>
</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span> </div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno"><a class="line" href="group__dns.html#gafa42bc1aa6036f871ffed2e5274c8b4d">  324</a></span><span class="preprocessor">#define SANITIZE_TIMEOUT_MS(timeout_ms) ((timeout_ms) &lt; 0 ? 0 : (timeout_ms))</span></div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span> </div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span><span class="comment">/* Thread-local exception - extern declaration (defined in SocketDNS.c) */</span></div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span><span class="keyword">extern</span> <span class="keyword">const</span> <a class="code hl_struct" href="group__foundation.html#structExcept__T">Except_T</a> <a class="code hl_variable" href="SocketDNS-private_8h.html#a329324a0e4a1450a6b968b375bb9b333">SocketDNS_Failed</a>;</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span> </div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span><span class="comment">/* NOTE: Error raising uses SOCKET_RAISE_MSG/FMT directly (combined</span></div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span><span class="comment"> * format+raise). Each .c file that raises exceptions must include</span></div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span><span class="comment"> * SOCKET_DECLARE_MODULE_EXCEPTION. See SocketDNS.c and SocketDNS-internal.c</span></div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span><span class="comment"> * for the pattern. */</span></div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span> </div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span><span class="comment">/*</span></div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span><span class="comment"> * =============================================================================</span></div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span><span class="comment"> * Forward Declarations - SocketDNS-internal.c</span></div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span><span class="comment"> *</span></div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span><span class="comment"> * Internal implementation functions for initialization, synchronization,</span></div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span><span class="comment"> * cleanup, request management, timeout handling, and worker threads.</span></div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span><span class="comment"> * =============================================================================</span></div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span><span class="comment"> */</span></div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span> </div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span><span class="comment">/* Initialization and allocation */</span></div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span> </div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno"><a class="line" href="group__dns.html#ga94f5a6033fa425d4586553885a1dea47">  580</a></span><span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code hl_function" href="group__dns.html#ga94f5a6033fa425d4586553885a1dea47">create_single_worker_thread</a> (<span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a> *dns,</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>                                        <span class="keywordtype">int</span> thread_index);</div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span> </div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno"><a class="line" href="group__dns.html#gaa9424b326264ca67ebcd3b425836fd3e">  603</a></span><span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code hl_function" href="group__dns.html#gaa9424b326264ca67ebcd3b425836fd3e">create_worker_threads</a> (<span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a> *dns);</div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span> </div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno"><a class="line" href="group__dns.html#ga966920bebbea908c25400af44930fe59">  612</a></span><span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code hl_function" href="group__dns.html#ga966920bebbea908c25400af44930fe59">start_dns_workers</a> (<span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a> *dns);</div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span> </div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span><span class="comment">/* Synchronization primitives */</span></div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span> </div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno"><a class="line" href="group__dns.html#ga93a54f32c13c556fda9cb00e58078075">  623</a></span><span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code hl_function" href="group__dns.html#ga93a54f32c13c556fda9cb00e58078075">initialize_mutex</a> (<span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a> *dns);</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span> </div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno"><a class="line" href="group__dns.html#ga06edd21b5cb02e131393e908502c2563">  632</a></span><span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code hl_function" href="group__dns.html#ga06edd21b5cb02e131393e908502c2563">initialize_queue_condition</a> (<span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a> *dns);</div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span> </div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno"><a class="line" href="group__dns.html#ga08b07ff9ca818c6179416243aa5be0e3">  642</a></span><span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code hl_function" href="group__dns.html#ga08b07ff9ca818c6179416243aa5be0e3">initialize_result_condition</a> (<span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a> *dns);</div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span> </div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno"><a class="line" href="group__dns.html#gaf875bcba3b535a0981600de2c0aa5720">  652</a></span><span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code hl_function" href="group__dns.html#gaf875bcba3b535a0981600de2c0aa5720">initialize_synchronization</a> (<span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a> *dns);</div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span> </div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno"><a class="line" href="group__dns.html#gafd2db132989e70ce194d307157648be2">  665</a></span><span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code hl_function" href="group__dns.html#gafd2db132989e70ce194d307157648be2">create_completion_pipe</a> (<span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a> *dns);</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span> </div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno"><a class="line" href="group__dns.html#ga1a4a337f44614e431316266926e989ed">  674</a></span><span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code hl_function" href="group__dns.html#ga1a4a337f44614e431316266926e989ed">set_pipe_nonblocking</a> (<span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a> *dns);</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span> </div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno"><a class="line" href="group__dns.html#ga4e5821b121187c8fe5bdf8e5af7b76d7">  683</a></span><span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code hl_function" href="group__dns.html#ga4e5821b121187c8fe5bdf8e5af7b76d7">initialize_pipe</a> (<span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a> *dns);</div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span> </div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span><span class="comment">/* Cleanup and shutdown */</span></div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span> </div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno"><a class="line" href="group__dns.html#ga350ef25d04ab2c551f69473a94faaee5">  694</a></span><span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code hl_function" href="group__dns.html#ga350ef25d04ab2c551f69473a94faaee5">cleanup_mutex_cond</a> (<span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a> *dns);</div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span> </div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno"><a class="line" href="group__dns.html#gad26b2a24da54162a2a3aa842252aba6c">  703</a></span><span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code hl_function" href="group__dns.html#gad26b2a24da54162a2a3aa842252aba6c">cleanup_pipe</a> (<span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a> *dns);</div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span> </div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno"><a class="line" href="group__dns.html#ga7611dac05257caaebe03fad6b799a65e">  714</a></span><span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code hl_function" href="group__dns.html#ga7611dac05257caaebe03fad6b799a65e">cleanup_on_init_failure</a> (<span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a> *dns,</div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span>                                     <span class="keyword">enum</span> <a class="code hl_enumeration" href="group__dns.html#gaba752f803497a475aa1b96ed2351dd99">DnsCleanupLevel</a> cleanup_level);</div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span> </div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno"><a class="line" href="group__dns.html#ga6b30e5d8a0c4c61b78414c87fc2e6ad6">  724</a></span><span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code hl_function" href="group__dns.html#ga6b30e5d8a0c4c61b78414c87fc2e6ad6">shutdown_workers</a> (<span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a> *dns);</div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span> </div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno"><a class="line" href="group__dns.html#ga898228e143549696bc2d4e5d00f8965f">  733</a></span><span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code hl_function" href="group__dns.html#ga898228e143549696bc2d4e5d00f8965f">drain_completion_pipe</a> (<span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a> *dns);</div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span> </div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno"><a class="line" href="group__dns.html#ga1fab8535e6f7b9cd7213be1f35babf70">  742</a></span><span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code hl_function" href="group__dns.html#ga1fab8535e6f7b9cd7213be1f35babf70">reset_dns_state</a> (<span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a> *dns);</div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span> </div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno"><a class="line" href="group__dns.html#ga3a861e18294d856d7424ed8d7430d642">  752</a></span><span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code hl_function" href="group__dns.html#ga3a861e18294d856d7424ed8d7430d642">destroy_dns_resources</a> (<span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a> *dns);</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span> </div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno"><a class="line" href="group__dns.html#gaa5ee93c269a62b9aa6c34c965b5d116a">  763</a></span><span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code hl_function" href="group__dns.html#gaa5ee93c269a62b9aa6c34c965b5d116a">free_request_list</a> (<span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__Request__T">SocketDNS_Request_T</a> *head,</div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>                               <span class="keywordtype">int</span> use_hash_next);</div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span> </div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno"><a class="line" href="group__dns.html#gaa0d1b0f6a9b6fa146ef00d6ca9211684">  773</a></span><span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code hl_function" href="group__dns.html#gaa0d1b0f6a9b6fa146ef00d6ca9211684">free_queued_requests</a> (<span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a> *dns);</div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span> </div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno"><a class="line" href="group__dns.html#ga4d2b657e4e48e6748189193c13195348">  782</a></span><span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code hl_function" href="group__dns.html#ga4d2b657e4e48e6748189193c13195348">free_hash_table_requests</a> (<span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a> *dns);</div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span> </div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno"><a class="line" href="group__dns.html#gaf6a2fbf12055d3bcc4abb72a9f8cdea8">  791</a></span><span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code hl_function" href="group__dns.html#gaf6a2fbf12055d3bcc4abb72a9f8cdea8">free_all_requests</a> (<span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a> *dns);</div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span> </div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span><span class="comment">/* Request allocation and queue management */</span></div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span> </div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno"><a class="line" href="group__dns.html#gae79ec1f8c6638d30d082e8af45420837">  805</a></span><span class="keyword">extern</span> <span class="keywordtype">unsigned</span> <a class="code hl_function" href="group__dns.html#gae79ec1f8c6638d30d082e8af45420837">request_hash_function</a> (<span class="keyword">const</span> <span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__Request__T">SocketDNS_Request_T</a> *req);</div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span> </div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span><span class="keyword">extern</span> <span class="keyword">struct </span><a class="code hl_struct" href="group__dns.html#structSocketDNS__Request__T">SocketDNS_Request_T</a> *</div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno"><a class="line" href="group__dns.html#ga5021646b59321cc2b5ab7ca06895f7ed">  817</a></span><a class="code hl_function" href="group__dns.html#ga5021646b59321cc2b5ab7ca06895f7ed">allocate_request_structure</a> (<span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a> *dns);</div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span> </div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno"><a class="line" href="group__dns.html#gacae541ca39283e052d84495e5201a6fd">  829</a></span><span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code hl_function" href="group__dns.html#gacae541ca39283e052d84495e5201a6fd">allocate_request_hostname</a> (<span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a> *dns,</div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>                                       <span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__Request__T">SocketDNS_Request_T</a> *req,</div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>                                       <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="group__dns.html#ac9f3fa1aca3eb39a39d6e3777fc49273">host</a>, <span class="keywordtype">size_t</span> host_len);</div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span> </div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno"><a class="line" href="group__dns.html#gad1dda38ff120421fec3f5f32adf367bc">  843</a></span><span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code hl_function" href="group__dns.html#gad1dda38ff120421fec3f5f32adf367bc">initialize_request_fields</a> (<span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__Request__T">SocketDNS_Request_T</a> *req,</div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>                                       <span class="keywordtype">int</span> <a class="code hl_variable" href="group__dns.html#a7868d9891ef8b5565dfa9ed0c26d6444">port</a>, <a class="code hl_typedef" href="group__dns.html#ga47df31a4c5b1861e6bc33bf91effa388">SocketDNS_Callback</a> <a class="code hl_variable" href="group__dns.html#ac737e6e0a2823df1c6a562ed9094ef68">callback</a>,</div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>                                       <span class="keywordtype">void</span> *data);</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span> </div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span><span class="keyword">extern</span> <span class="keyword">struct </span><a class="code hl_struct" href="group__dns.html#structSocketDNS__Request__T">SocketDNS_Request_T</a> *</div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno"><a class="line" href="group__dns.html#ga5bac854631773fa0c56cd5e965cef525">  861</a></span><a class="code hl_function" href="group__dns.html#ga5bac854631773fa0c56cd5e965cef525">allocate_request</a> (<span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a> *dns, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="group__dns.html#ac9f3fa1aca3eb39a39d6e3777fc49273">host</a>, <span class="keywordtype">size_t</span> host_len,</div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span>                  <span class="keywordtype">int</span> <a class="code hl_variable" href="group__dns.html#a7868d9891ef8b5565dfa9ed0c26d6444">port</a>, <a class="code hl_typedef" href="group__dns.html#ga47df31a4c5b1861e6bc33bf91effa388">SocketDNS_Callback</a> cb, <span class="keywordtype">void</span> *data);</div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span> </div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno"><a class="line" href="group__dns.html#gac17573e4e80145c4c8dcd3e4dbef28b1">  872</a></span><span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code hl_function" href="group__dns.html#gac17573e4e80145c4c8dcd3e4dbef28b1">hash_table_insert</a> (<span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a> *dns,</div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span>                               <span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__Request__T">SocketDNS_Request_T</a> *req);</div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span> </div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno"><a class="line" href="group__dns.html#gadbfe83ac3fd8daf74a5189130d35eb54">  883</a></span><span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code hl_function" href="group__dns.html#gadbfe83ac3fd8daf74a5189130d35eb54">hash_table_remove</a> (<span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a> *dns,</div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span>                               <span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__Request__T">SocketDNS_Request_T</a> *req);</div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span> </div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno"><a class="line" href="group__dns.html#gaf136ad6b2c162ef7251dc25b2e1a7200">  939</a></span><span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code hl_function" href="group__dns.html#gaf136ad6b2c162ef7251dc25b2e1a7200">remove_from_queue_head</a> (<span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a> *dns,</div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno">  940</span>                                    <span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__Request__T">SocketDNS_Request_T</a> *req);</div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span> </div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno"><a class="line" href="group__dns.html#gaa57962854d57cd4bad03222b31bf5036">  950</a></span><span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code hl_function" href="group__dns.html#gaa57962854d57cd4bad03222b31bf5036">remove_from_queue_middle</a> (<span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a> *dns,</div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno">  951</span>                                      <span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__Request__T">SocketDNS_Request_T</a> *req);</div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span> </div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno"><a class="line" href="group__dns.html#ga6c14a21d40420acc4820fa2ff503ca20">  961</a></span><span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code hl_function" href="group__dns.html#ga6c14a21d40420acc4820fa2ff503ca20">queue_remove</a> (<span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a> *dns,</div>
<div class="line"><a id="l00962" name="l00962"></a><span class="lineno">  962</span>                          <span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__Request__T">SocketDNS_Request_T</a> *req);</div>
<div class="line"><a id="l00963" name="l00963"></a><span class="lineno">  963</span> </div>
<div class="line"><a id="l00972" name="l00972"></a><span class="lineno"><a class="line" href="group__dns.html#ga39628720afa0f701ab8d3e9bcceeb21c">  972</a></span><span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code hl_function" href="group__dns.html#ga39628720afa0f701ab8d3e9bcceeb21c">check_queue_limit</a> (<span class="keyword">const</span> <span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a> *dns);</div>
<div class="line"><a id="l00973" name="l00973"></a><span class="lineno">  973</span> </div>
<div class="line"><a id="l00982" name="l00982"></a><span class="lineno"><a class="line" href="group__dns.html#gadfd7ab93512c5ab94d32415eac07e69e">  982</a></span><span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code hl_function" href="group__dns.html#gadfd7ab93512c5ab94d32415eac07e69e">submit_dns_request</a> (<span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a> *dns,</div>
<div class="line"><a id="l00983" name="l00983"></a><span class="lineno">  983</span>                                <span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__Request__T">SocketDNS_Request_T</a> *req);</div>
<div class="line"><a id="l00984" name="l00984"></a><span class="lineno">  984</span> </div>
<div class="line"><a id="l00993" name="l00993"></a><span class="lineno"><a class="line" href="group__dns.html#ga78e2afb20697e782942fa9ed48084a90">  993</a></span><span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code hl_function" href="group__dns.html#ga78e2afb20697e782942fa9ed48084a90">cancel_pending_request</a> (<span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a> *dns,</div>
<div class="line"><a id="l00994" name="l00994"></a><span class="lineno">  994</span>                                    <span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__Request__T">SocketDNS_Request_T</a> *req);</div>
<div class="line"><a id="l00995" name="l00995"></a><span class="lineno">  995</span> </div>
<div class="line"><a id="l00996" name="l00996"></a><span class="lineno">  996</span><span class="comment">/* Timeout handling */</span></div>
<div class="line"><a id="l00997" name="l00997"></a><span class="lineno">  997</span> </div>
<div class="line"><a id="l01007" name="l01007"></a><span class="lineno"> 1007</span><span class="keyword">extern</span> <span class="keywordtype">int</span></div>
<div class="line"><a id="l01008" name="l01008"></a><span class="lineno"><a class="line" href="group__dns.html#ga33fdc34348f496c17c968499f90ef36c"> 1008</a></span><a class="code hl_function" href="group__dns.html#ga33fdc34348f496c17c968499f90ef36c">request_effective_timeout_ms</a> (<span class="keyword">const</span> <span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a> *dns,</div>
<div class="line"><a id="l01009" name="l01009"></a><span class="lineno"> 1009</span>                              <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__Request__T">SocketDNS_Request_T</a> *req);</div>
<div class="line"><a id="l01010" name="l01010"></a><span class="lineno"> 1010</span> </div>
<div class="line"><a id="l01023" name="l01023"></a><span class="lineno"><a class="line" href="group__dns.html#ga535554eb81b22d80ff8e72060293345b"> 1023</a></span><span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code hl_function" href="group__dns.html#ga535554eb81b22d80ff8e72060293345b">request_timed_out</a> (<span class="keyword">const</span> <span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a> *dns,</div>
<div class="line"><a id="l01024" name="l01024"></a><span class="lineno"> 1024</span>                              <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__Request__T">SocketDNS_Request_T</a> *req);</div>
<div class="line"><a id="l01025" name="l01025"></a><span class="lineno"> 1025</span> </div>
<div class="line"><a id="l01034" name="l01034"></a><span class="lineno"><a class="line" href="group__dns.html#gad5067399f8c9930eb42f1e625899a3f7"> 1034</a></span><span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code hl_function" href="group__dns.html#gad5067399f8c9930eb42f1e625899a3f7">mark_request_timeout</a> (<span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a> *dns,</div>
<div class="line"><a id="l01035" name="l01035"></a><span class="lineno"> 1035</span>                                  <span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__Request__T">SocketDNS_Request_T</a> *req);</div>
<div class="line"><a id="l01036" name="l01036"></a><span class="lineno"> 1036</span> </div>
<div class="line"><a id="l01045" name="l01045"></a><span class="lineno"><a class="line" href="group__dns.html#ga0e26345eeede858bb5922a6109160037"> 1045</a></span><span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code hl_function" href="group__dns.html#ga0e26345eeede858bb5922a6109160037">handle_request_timeout</a> (<span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a> *dns,</div>
<div class="line"><a id="l01046" name="l01046"></a><span class="lineno"> 1046</span>                                    <span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__Request__T">SocketDNS_Request_T</a> *req);</div>
<div class="line"><a id="l01047" name="l01047"></a><span class="lineno"> 1047</span> </div>
<div class="line"><a id="l01048" name="l01048"></a><span class="lineno"> 1048</span><span class="comment">/* Worker thread and resolution */</span></div>
<div class="line"><a id="l01049" name="l01049"></a><span class="lineno"> 1049</span> </div>
<div class="line"><a id="l01057" name="l01057"></a><span class="lineno"><a class="line" href="group__dns.html#ga1e9801b10626b586b24b9f9c76b89fbb"> 1057</a></span><span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code hl_function" href="group__dns.html#ga1e9801b10626b586b24b9f9c76b89fbb">initialize_addrinfo_hints</a> (<span class="keyword">struct</span> <a class="code hl_variable" href="group__dns.html#a7868d9891ef8b5565dfa9ed0c26d6444">addrinfo</a> *<a class="code hl_variable" href="group__dns.html#a7868d9891ef8b5565dfa9ed0c26d6444">hints</a>);</div>
<div class="line"><a id="l01058" name="l01058"></a><span class="lineno"> 1058</span> </div>
<div class="line"><a id="l01068" name="l01068"></a><span class="lineno"><a class="line" href="group__dns.html#ga7f292c19cdf04ce4fb9f9a890b656cf0"> 1068</a></span><span class="keyword">extern</span> <span class="keywordtype">void</span> *<a class="code hl_function" href="group__dns.html#ga7f292c19cdf04ce4fb9f9a890b656cf0">worker_thread</a> (<span class="keywordtype">void</span> *<a class="code hl_variable" href="group__dns.html#a7868d9891ef8b5565dfa9ed0c26d6444">arg</a>);</div>
<div class="line"><a id="l01069" name="l01069"></a><span class="lineno"> 1069</span> </div>
<div class="line"><a id="l01079" name="l01079"></a><span class="lineno"><a class="line" href="group__dns.html#ga84b432e1a64990d148474aab42fec110"> 1079</a></span><span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code hl_function" href="group__dns.html#ga84b432e1a64990d148474aab42fec110">prepare_local_hints</a> (<span class="keyword">struct</span> <a class="code hl_variable" href="group__dns.html#a7868d9891ef8b5565dfa9ed0c26d6444">addrinfo</a> *<a class="code hl_variable" href="group__dns.html#a7868d9891ef8b5565dfa9ed0c26d6444">local_hints</a>,</div>
<div class="line"><a id="l01080" name="l01080"></a><span class="lineno"> 1080</span>                                 <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code hl_variable" href="group__dns.html#a7868d9891ef8b5565dfa9ed0c26d6444">addrinfo</a> *<a class="code hl_variable" href="group__dns.html#a7868d9891ef8b5565dfa9ed0c26d6444">base_hints</a>,</div>
<div class="line"><a id="l01081" name="l01081"></a><span class="lineno"> 1081</span>                                 <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__Request__T">SocketDNS_Request_T</a> *req);</div>
<div class="line"><a id="l01082" name="l01082"></a><span class="lineno"> 1082</span> </div>
<div class="line"><a id="l01093" name="l01093"></a><span class="lineno"><a class="line" href="group__dns.html#ga7570715dd7fcb113790e60bedd3139fb"> 1093</a></span><span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code hl_function" href="group__dns.html#ga7570715dd7fcb113790e60bedd3139fb">handle_resolution_result</a> (<span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a> *dns,</div>
<div class="line"><a id="l01094" name="l01094"></a><span class="lineno"> 1094</span>                                      <span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__Request__T">SocketDNS_Request_T</a> *req,</div>
<div class="line"><a id="l01095" name="l01095"></a><span class="lineno"> 1095</span>                                      <span class="keyword">struct</span> <a class="code hl_variable" href="group__dns.html#a7868d9891ef8b5565dfa9ed0c26d6444">addrinfo</a> *<a class="code hl_variable" href="group__dns.html#a66c651eeca12f843f19f01518b8ae931">result</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="group__dns.html#a7868d9891ef8b5565dfa9ed0c26d6444">res</a>);</div>
<div class="line"><a id="l01096" name="l01096"></a><span class="lineno"> 1096</span> </div>
<div class="line"><a id="l01107" name="l01107"></a><span class="lineno"><a class="line" href="group__dns.html#gaf1cf4dd4591c2d36325e9478b8f81901"> 1107</a></span><span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code hl_function" href="group__dns.html#gaf1cf4dd4591c2d36325e9478b8f81901">process_single_request</a> (<span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a> *dns,</div>
<div class="line"><a id="l01108" name="l01108"></a><span class="lineno"> 1108</span>                                    <span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__Request__T">SocketDNS_Request_T</a> *req,</div>
<div class="line"><a id="l01109" name="l01109"></a><span class="lineno"> 1109</span>                                    <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code hl_variable" href="group__dns.html#a7868d9891ef8b5565dfa9ed0c26d6444">addrinfo</a> *<a class="code hl_variable" href="group__dns.html#a7868d9891ef8b5565dfa9ed0c26d6444">base_hints</a>);</div>
<div class="line"><a id="l01110" name="l01110"></a><span class="lineno"> 1110</span> </div>
<div class="line"><a id="l01119" name="l01119"></a><span class="lineno"><a class="line" href="group__dns.html#gaf2ecd94190827e14a98bab9b52b3cd7d"> 1119</a></span><span class="keyword">extern</span> <span class="keyword">struct </span><a class="code hl_struct" href="group__dns.html#structSocketDNS__Request__T">SocketDNS_Request_T</a> *<a class="code hl_function" href="group__dns.html#gaf2ecd94190827e14a98bab9b52b3cd7d">dequeue_request</a> (<span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a> *dns);</div>
<div class="line"><a id="l01120" name="l01120"></a><span class="lineno"> 1120</span> </div>
<div class="line"><a id="l01129" name="l01129"></a><span class="lineno"><a class="line" href="group__dns.html#ga516cbcd949e90804306ac10ec02af7cd"> 1129</a></span><span class="keyword">extern</span> <span class="keyword">struct </span><a class="code hl_struct" href="group__dns.html#structSocketDNS__Request__T">SocketDNS_Request_T</a> *<a class="code hl_function" href="group__dns.html#ga516cbcd949e90804306ac10ec02af7cd">wait_for_request</a> (<span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a> *dns);</div>
<div class="line"><a id="l01130" name="l01130"></a><span class="lineno"> 1130</span> </div>
<div class="line"><a id="l01138" name="l01138"></a><span class="lineno"><a class="line" href="group__dns.html#ga01e5cc089ceff56a8558e455b94c8254"> 1138</a></span><span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code hl_function" href="group__dns.html#ga01e5cc089ceff56a8558e455b94c8254">signal_completion</a> (<span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a> *dns);</div>
<div class="line"><a id="l01139" name="l01139"></a><span class="lineno"> 1139</span> </div>
<div class="line"><a id="l01150" name="l01150"></a><span class="lineno"><a class="line" href="group__dns.html#gadbc14c60ccd56fe1f73c7d52b04d0664"> 1150</a></span><span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code hl_function" href="group__dns.html#gadbc14c60ccd56fe1f73c7d52b04d0664">store_resolution_result</a> (<span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a> *dns,</div>
<div class="line"><a id="l01151" name="l01151"></a><span class="lineno"> 1151</span>                                     <span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__Request__T">SocketDNS_Request_T</a> *req,</div>
<div class="line"><a id="l01152" name="l01152"></a><span class="lineno"> 1152</span>                                     <span class="keyword">struct</span> <a class="code hl_variable" href="group__dns.html#a7868d9891ef8b5565dfa9ed0c26d6444">addrinfo</a> *<a class="code hl_variable" href="group__dns.html#a66c651eeca12f843f19f01518b8ae931">result</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="group__dns.html#a3d233326169857dc18531189fe9c6b73">error</a>);</div>
<div class="line"><a id="l01153" name="l01153"></a><span class="lineno"> 1153</span> </div>
<div class="line"><a id="l01161" name="l01161"></a><span class="lineno"><a class="line" href="group__dns.html#ga08d853b1c769338c43c424a51f071876"> 1161</a></span><span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code hl_function" href="group__dns.html#ga08d853b1c769338c43c424a51f071876">dns_cancellation_error</a> (<span class="keywordtype">void</span>);</div>
<div class="line"><a id="l01162" name="l01162"></a><span class="lineno"> 1162</span> </div>
<div class="line"><a id="l01173" name="l01173"></a><span class="lineno"><a class="line" href="group__dns.html#gac4cb4a632aba382e70ef8fcf90e942c3"> 1173</a></span><span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code hl_function" href="group__dns.html#gac4cb4a632aba382e70ef8fcf90e942c3">perform_dns_resolution</a> (<span class="keyword">const</span> <span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__Request__T">SocketDNS_Request_T</a> *req,</div>
<div class="line"><a id="l01174" name="l01174"></a><span class="lineno"> 1174</span>                                   <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code hl_variable" href="group__dns.html#a7868d9891ef8b5565dfa9ed0c26d6444">addrinfo</a> *<a class="code hl_variable" href="group__dns.html#a7868d9891ef8b5565dfa9ed0c26d6444">hints</a>,</div>
<div class="line"><a id="l01175" name="l01175"></a><span class="lineno"> 1175</span>                                   <span class="keyword">struct</span> <a class="code hl_variable" href="group__dns.html#a7868d9891ef8b5565dfa9ed0c26d6444">addrinfo</a> **<a class="code hl_variable" href="group__dns.html#a66c651eeca12f843f19f01518b8ae931">result</a>);</div>
<div class="line"><a id="l01176" name="l01176"></a><span class="lineno"> 1176</span> </div>
<div class="line"><a id="l01186" name="l01186"></a><span class="lineno"><a class="line" href="group__dns.html#ga5049b49f719f1be126b489957a62c7d8"> 1186</a></span><span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code hl_function" href="group__dns.html#ga5049b49f719f1be126b489957a62c7d8">invoke_callback</a> (<span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a> *dns,</div>
<div class="line"><a id="l01187" name="l01187"></a><span class="lineno"> 1187</span>                             <span class="keyword">struct</span> <a class="code hl_struct" href="group__dns.html#structSocketDNS__Request__T">SocketDNS_Request_T</a> *req);</div>
<div class="line"><a id="l01188" name="l01188"></a><span class="lineno"> 1188</span> </div>
<div class="line"><a id="l01189" name="l01189"></a><span class="lineno"> 1189</span><span class="comment">/*</span></div>
<div class="line"><a id="l01190" name="l01190"></a><span class="lineno"> 1190</span><span class="comment"> * =============================================================================</span></div>
<div class="line"><a id="l01191" name="l01191"></a><span class="lineno"> 1191</span><span class="comment"> * Forward Declarations - SocketDNS.c</span></div>
<div class="line"><a id="l01192" name="l01192"></a><span class="lineno"> 1192</span><span class="comment"> *</span></div>
<div class="line"><a id="l01193" name="l01193"></a><span class="lineno"> 1193</span><span class="comment"> * Validation functions used by both public API and internal implementation.</span></div>
<div class="line"><a id="l01194" name="l01194"></a><span class="lineno"> 1194</span><span class="comment"> * =============================================================================</span></div>
<div class="line"><a id="l01195" name="l01195"></a><span class="lineno"> 1195</span><span class="comment"> */</span></div>
<div class="line"><a id="l01196" name="l01196"></a><span class="lineno"> 1196</span> </div>
<div class="line"><a id="l01197" name="l01197"></a><span class="lineno"> 1197</span><span class="comment">/* Validation */</span></div>
<div class="line"><a id="l01198" name="l01198"></a><span class="lineno"> 1198</span> </div>
<div class="line"><a id="l01208" name="l01208"></a><span class="lineno"><a class="line" href="group__dns.html#gabac4f41fc92ef0aec184eb3c8e6e10cb"> 1208</a></span><span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code hl_function" href="group__dns.html#gabac4f41fc92ef0aec184eb3c8e6e10cb">validate_resolve_params</a> (<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="group__dns.html#ac9f3fa1aca3eb39a39d6e3777fc49273">host</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="group__dns.html#a7868d9891ef8b5565dfa9ed0c26d6444">port</a>);</div>
<div class="line"><a id="l01209" name="l01209"></a><span class="lineno"> 1209</span> </div>
<div class="line"><a id="l01210" name="l01210"></a><span class="lineno"><a class="line" href="SocketDNS-private_8h.html#a0c5a84436f8b4c2c2159a9ae95ec6e6f"> 1210</a></span><span class="keyword">extern</span> <span class="keyword">struct </span><a class="code hl_struct" href="group__dns.html#structSocketDNS__T">SocketDNS_T</a> *<a class="code hl_function" href="SocketDNS-private_8h.html#a0c5a84436f8b4c2c2159a9ae95ec6e6f">allocate_dns_resolver</a> (<span class="keywordtype">void</span>);</div>
<div class="line"><a id="l01211" name="l01211"></a><span class="lineno"> 1211</span> </div>
<div class="line"><a id="l01212" name="l01212"></a><span class="lineno"> 1212</span><span class="preprocessor">#endif </span><span class="comment">/* SOCKETDNS_PRIVATE_INCLUDED */</span><span class="preprocessor"></span></div>
<div class="ttc" id="aExcept_8h_html"><div class="ttname"><a href="Except_8h.html">Except.h</a></div><div class="ttdoc">Structured exception handling for C with TRY/EXCEPT/FINALLY blocks.</div></div>
<div class="ttc" id="aSocketCommon_8h_html"><div class="ttname"><a href="SocketCommon_8h.html">SocketCommon.h</a></div><div class="ttdoc">Common utilities shared between Socket and SocketDgram modules.</div></div>
<div class="ttc" id="aSocketConfig_8h_html"><div class="ttname"><a href="SocketConfig_8h.html">SocketConfig.h</a></div><div class="ttdoc">Compile-time and runtime configuration constants, limits, and platform adaptations.</div></div>
<div class="ttc" id="aSocketDNS-private_8h_html_a0c5a84436f8b4c2c2159a9ae95ec6e6f"><div class="ttname"><a href="SocketDNS-private_8h.html#a0c5a84436f8b4c2c2159a9ae95ec6e6f">allocate_dns_resolver</a></div><div class="ttdeci">struct SocketDNS_T * allocate_dns_resolver(void)</div></div>
<div class="ttc" id="aSocketDNS-private_8h_html_a329324a0e4a1450a6b968b375bb9b333"><div class="ttname"><a href="SocketDNS-private_8h.html#a329324a0e4a1450a6b968b375bb9b333">SocketDNS_Failed</a></div><div class="ttdeci">const Except_T SocketDNS_Failed</div></div>
<div class="ttc" id="aSocketUtil_8h_html"><div class="ttname"><a href="SocketUtil_8h.html">SocketUtil.h</a></div><div class="ttdoc">Consolidated utility header for logging, metrics, events, and error handling.</div></div>
<div class="ttc" id="agroup__core__io_html_gaa40398fc3798e6302da2f39fcc3b9c64"><div class="ttname"><a href="group__core__io.html#gaa40398fc3798e6302da2f39fcc3b9c64">SOCKET_DNS_CACHE_HASH_SIZE</a></div><div class="ttdeci">#define SOCKET_DNS_CACHE_HASH_SIZE</div><div class="ttdoc">DNS cache hash table size.</div><div class="ttdef"><b>Definition</b> <a href="SocketConfig_8h_source.html#l00630">SocketConfig.h:630</a></div></div>
<div class="ttc" id="agroup__core__io_html_gad93bb14bccd4fd5d8f37a22b30a4c944"><div class="ttname"><a href="group__core__io.html#gad93bb14bccd4fd5d8f37a22b30a4c944">SOCKET_DNS_REQUEST_HASH_SIZE</a></div><div class="ttdeci">#define SOCKET_DNS_REQUEST_HASH_SIZE</div><div class="ttdoc">DNS request hash table size.</div><div class="ttdef"><b>Definition</b> <a href="SocketConfig_8h_source.html#l00555">SocketConfig.h:555</a></div></div>
<div class="ttc" id="agroup__dns_html_a026541a405efc2f27fff1a59e8d29add"><div class="ttname"><a href="group__dns.html#a026541a405efc2f27fff1a59e8d29add">SocketDNS_T::shutdown</a></div><div class="ttdeci">int shutdown</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00274">SocketDNS-private.h:274</a></div></div>
<div class="ttc" id="agroup__dns_html_a04a850256d01d59de5d86b389b5afdc8"><div class="ttname"><a href="group__dns.html#a04a850256d01d59de5d86b389b5afdc8">SocketDNS_T::pipefd</a></div><div class="ttdeci">int pipefd[2]</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00275">SocketDNS-private.h:275</a></div></div>
<div class="ttc" id="agroup__dns_html_a07d905f3bad8fcf64ca67c8403df16e0"><div class="ttname"><a href="group__dns.html#a07d905f3bad8fcf64ca67c8403df16e0">SocketDNS_T::cache_lru_tail</a></div><div class="ttdeci">struct SocketDNS_CacheEntry * cache_lru_tail</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00283">SocketDNS-private.h:283</a></div></div>
<div class="ttc" id="agroup__dns_html_a0b2b173de8cf17b724c383f24193ce1e"><div class="ttname"><a href="group__dns.html#a0b2b173de8cf17b724c383f24193ce1e">SocketDNS_T::prefer_ipv6</a></div><div class="ttdeci">int prefer_ipv6</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00293">SocketDNS-private.h:293</a></div></div>
<div class="ttc" id="agroup__dns_html_a145218b12162a09a737407e6aacc63f5"><div class="ttname"><a href="group__dns.html#a145218b12162a09a737407e6aacc63f5">SocketDNS_T::cache_max_entries</a></div><div class="ttdeci">size_t cache_max_entries</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00285">SocketDNS-private.h:285</a></div></div>
<div class="ttc" id="agroup__dns_html_a16f569bb317093051b79b32c1849e986"><div class="ttname"><a href="group__dns.html#a16f569bb317093051b79b32c1849e986">SocketDNS_T::cache_hash</a></div><div class="ttdeci">struct SocketDNS_CacheEntry * cache_hash[1021]</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00279">SocketDNS-private.h:279</a></div></div>
<div class="ttc" id="agroup__dns_html_a1bc6ad584684b38b8e086a9f41aa9f66"><div class="ttname"><a href="group__dns.html#a1bc6ad584684b38b8e086a9f41aa9f66">SocketDNS_T::max_pending</a></div><div class="ttdeci">size_t max_pending</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00268">SocketDNS-private.h:268</a></div></div>
<div class="ttc" id="agroup__dns_html_a1cb2f8d034a886ec86036844183004a1"><div class="ttname"><a href="group__dns.html#a1cb2f8d034a886ec86036844183004a1">SocketDNS_T::queue_tail</a></div><div class="ttdeci">struct SocketDNS_Request_T * queue_tail</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00266">SocketDNS-private.h:266</a></div></div>
<div class="ttc" id="agroup__dns_html_a250c9a8eb40649ce94b504b229a8051c"><div class="ttname"><a href="group__dns.html#a250c9a8eb40649ce94b504b229a8051c">SocketDNS_T::queue_size</a></div><div class="ttdeci">size_t queue_size</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00267">SocketDNS-private.h:267</a></div></div>
<div class="ttc" id="agroup__dns_html_a255928a9675d7cf10546db358803aff9"><div class="ttname"><a href="group__dns.html#a255928a9675d7cf10546db358803aff9">SocketDNS_CacheEntry::hostname</a></div><div class="ttdeci">char * hostname</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00236">SocketDNS-private.h:236</a></div></div>
<div class="ttc" id="agroup__dns_html_a2aaaddbe895c6d917cfbbd0aa0a61951"><div class="ttname"><a href="group__dns.html#a2aaaddbe895c6d917cfbbd0aa0a61951">SocketDNS_T::mutex</a></div><div class="ttdeci">pthread_mutex_t mutex</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00271">SocketDNS-private.h:271</a></div></div>
<div class="ttc" id="agroup__dns_html_a3d233326169857dc18531189fe9c6b73"><div class="ttname"><a href="group__dns.html#a3d233326169857dc18531189fe9c6b73">SocketDNS_Request_T::error</a></div><div class="ttdeci">int error</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00219">SocketDNS-private.h:219</a></div></div>
<div class="ttc" id="agroup__dns_html_a3ee59a2c0215806ac3af7cabeb61e7c3"><div class="ttname"><a href="group__dns.html#a3ee59a2c0215806ac3af7cabeb61e7c3">SocketDNS_T::search_domain_count</a></div><div class="ttdeci">size_t search_domain_count</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00297">SocketDNS-private.h:297</a></div></div>
<div class="ttc" id="agroup__dns_html_a3fa811806204bac45715df62674e5058"><div class="ttname"><a href="group__dns.html#a3fa811806204bac45715df62674e5058">SocketDNS_CacheEntry::lru_prev</a></div><div class="ttdeci">struct SocketDNS_CacheEntry * lru_prev</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00241">SocketDNS-private.h:241</a></div></div>
<div class="ttc" id="agroup__dns_html_a48de60e4f89fdf4028b311c74af29dc5"><div class="ttname"><a href="group__dns.html#a48de60e4f89fdf4028b311c74af29dc5">SocketDNS_T::cache_size</a></div><div class="ttdeci">size_t cache_size</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00284">SocketDNS-private.h:284</a></div></div>
<div class="ttc" id="agroup__dns_html_a4c961cf7ec05d782ed03f09cf3a0b699"><div class="ttname"><a href="group__dns.html#a4c961cf7ec05d782ed03f09cf3a0b699">SocketDNS_T::request_hash</a></div><div class="ttdeci">struct SocketDNS_Request_T * request_hash[1021]</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00269">SocketDNS-private.h:269</a></div></div>
<div class="ttc" id="agroup__dns_html_a4cd29363bd5fa627cf69f0b049396aa5"><div class="ttname"><a href="group__dns.html#a4cd29363bd5fa627cf69f0b049396aa5">SocketDNS_Request_T::hash_value</a></div><div class="ttdeci">unsigned hash_value</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00222">SocketDNS-private.h:222</a></div></div>
<div class="ttc" id="agroup__dns_html_a529eb3ddf6ec19b9eb13c9ee3d50267c"><div class="ttname"><a href="group__dns.html#a529eb3ddf6ec19b9eb13c9ee3d50267c">SocketDNS_T::request_timeout_ms</a></div><div class="ttdeci">int request_timeout_ms</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00276">SocketDNS-private.h:276</a></div></div>
<div class="ttc" id="agroup__dns_html_a532f8a6cec51029299694060cc3e601f"><div class="ttname"><a href="group__dns.html#a532f8a6cec51029299694060cc3e601f">SocketDNS_CacheEntry::last_access_ms</a></div><div class="ttdeci">int64_t last_access_ms</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00239">SocketDNS-private.h:239</a></div></div>
<div class="ttc" id="agroup__dns_html_a62225dfe2f1c26e94b46ceb012d52517"><div class="ttname"><a href="group__dns.html#a62225dfe2f1c26e94b46ceb012d52517">SocketDNS_Request_T::timeout_override_ms</a></div><div class="ttdeci">int timeout_override_ms</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00224">SocketDNS-private.h:224</a></div></div>
<div class="ttc" id="agroup__dns_html_a66c651eeca12f843f19f01518b8ae931"><div class="ttname"><a href="group__dns.html#a66c651eeca12f843f19f01518b8ae931">SocketDNS_Request_T::result</a></div><div class="ttdeci">struct addrinfo * result</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00218">SocketDNS-private.h:218</a></div></div>
<div class="ttc" id="agroup__dns_html_a6797750b5414b4ff70ae740e07d6dd1a"><div class="ttname"><a href="group__dns.html#a6797750b5414b4ff70ae740e07d6dd1a">SocketDNS_T::search_domains</a></div><div class="ttdeci">char ** search_domains</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00296">SocketDNS-private.h:296</a></div></div>
<div class="ttc" id="agroup__dns_html_a6a48c1dab59a852e8ff31dd5706171ad"><div class="ttname"><a href="group__dns.html#a6a48c1dab59a852e8ff31dd5706171ad">SocketDNS_CacheEntry::result</a></div><div class="ttdeci">struct addrinfo * result</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00237">SocketDNS-private.h:237</a></div></div>
<div class="ttc" id="agroup__dns_html_a6b84353355d27005721631d66237fb89"><div class="ttname"><a href="group__dns.html#a6b84353355d27005721631d66237fb89">SocketDNS_T::result_cond</a></div><div class="ttdeci">pthread_cond_t result_cond</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00273">SocketDNS-private.h:273</a></div></div>
<div class="ttc" id="agroup__dns_html_a70aac2d4922733ec0d8695da28b3b576"><div class="ttname"><a href="group__dns.html#a70aac2d4922733ec0d8695da28b3b576">SocketDNS_CacheEntry::hash_next</a></div><div class="ttdeci">struct SocketDNS_CacheEntry * hash_next</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00240">SocketDNS-private.h:240</a></div></div>
<div class="ttc" id="agroup__dns_html_a7868d9891ef8b5565dfa9ed0c26d6444"><div class="ttname"><a href="group__dns.html#a7868d9891ef8b5565dfa9ed0c26d6444">SocketDNS_Request_T::port</a></div><div class="ttdeci">int port</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00214">SocketDNS-private.h:214</a></div></div>
<div class="ttc" id="agroup__dns_html_a8c87e44fe98cb210e51d659ff95d1155"><div class="ttname"><a href="group__dns.html#a8c87e44fe98cb210e51d659ff95d1155">SocketDNS_T::nameserver_count</a></div><div class="ttdeci">size_t nameserver_count</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00295">SocketDNS-private.h:295</a></div></div>
<div class="ttc" id="agroup__dns_html_a93e8ba3f5a4605e1011252a7bd6fda05"><div class="ttname"><a href="group__dns.html#a93e8ba3f5a4605e1011252a7bd6fda05">SocketDNS_T::cache_insertions</a></div><div class="ttdeci">uint64_t cache_insertions</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00290">SocketDNS-private.h:290</a></div></div>
<div class="ttc" id="agroup__dns_html_a95afde895cf101a50cb4a7d117272409"><div class="ttname"><a href="group__dns.html#a95afde895cf101a50cb4a7d117272409">SocketDNS_T::cache_hits</a></div><div class="ttdeci">uint64_t cache_hits</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00287">SocketDNS-private.h:287</a></div></div>
<div class="ttc" id="agroup__dns_html_a98bce03b9f775ac1d728d1f26b0b547b"><div class="ttname"><a href="group__dns.html#a98bce03b9f775ac1d728d1f26b0b547b">SocketDNS_Request_T::state</a></div><div class="ttdeci">RequestState state</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00217">SocketDNS-private.h:217</a></div></div>
<div class="ttc" id="agroup__dns_html_a9ac775dac4641b59cab189333cbcb63d"><div class="ttname"><a href="group__dns.html#a9ac775dac4641b59cab189333cbcb63d">SocketDNS_T::workers</a></div><div class="ttdeci">pthread_t * workers</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00263">SocketDNS-private.h:263</a></div></div>
<div class="ttc" id="agroup__dns_html_aa4656138af397c9d59c119fdeb97a9a8"><div class="ttname"><a href="group__dns.html#aa4656138af397c9d59c119fdeb97a9a8">SocketDNS_T::queue_head</a></div><div class="ttdeci">struct SocketDNS_Request_T * queue_head</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00265">SocketDNS-private.h:265</a></div></div>
<div class="ttc" id="agroup__dns_html_aaac0c7c61c58409bc34fb10f8f1319b9"><div class="ttname"><a href="group__dns.html#aaac0c7c61c58409bc34fb10f8f1319b9">SocketDNS_Request_T::submit_time</a></div><div class="ttdeci">struct timespec submit_time</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00223">SocketDNS-private.h:223</a></div></div>
<div class="ttc" id="agroup__dns_html_ab293feab42fe174da5f435f83b674df5"><div class="ttname"><a href="group__dns.html#ab293feab42fe174da5f435f83b674df5">SocketDNS_T::cache_lru_head</a></div><div class="ttdeci">struct SocketDNS_CacheEntry * cache_lru_head</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00281">SocketDNS-private.h:281</a></div></div>
<div class="ttc" id="agroup__dns_html_abb8217588f38c05ae1ef9c52ec58975f"><div class="ttname"><a href="group__dns.html#abb8217588f38c05ae1ef9c52ec58975f">SocketDNS_Request_T::callback_data</a></div><div class="ttdeci">void * callback_data</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00216">SocketDNS-private.h:216</a></div></div>
<div class="ttc" id="agroup__dns_html_ac0fa7dd0cc498c23a31a6f098b5722c3"><div class="ttname"><a href="group__dns.html#ac0fa7dd0cc498c23a31a6f098b5722c3">SocketDNS_T::cache_evictions</a></div><div class="ttdeci">uint64_t cache_evictions</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00289">SocketDNS-private.h:289</a></div></div>
<div class="ttc" id="agroup__dns_html_ac737e6e0a2823df1c6a562ed9094ef68"><div class="ttname"><a href="group__dns.html#ac737e6e0a2823df1c6a562ed9094ef68">SocketDNS_Request_T::callback</a></div><div class="ttdeci">SocketDNS_Callback callback</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00215">SocketDNS-private.h:215</a></div></div>
<div class="ttc" id="agroup__dns_html_ac7e264776c53a4d8d430e8904586540e"><div class="ttname"><a href="group__dns.html#ac7e264776c53a4d8d430e8904586540e">SocketDNS_T::cache_ttl_seconds</a></div><div class="ttdeci">int cache_ttl_seconds</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00286">SocketDNS-private.h:286</a></div></div>
<div class="ttc" id="agroup__dns_html_ac8e64bed401754d3f9edde727173d215"><div class="ttname"><a href="group__dns.html#ac8e64bed401754d3f9edde727173d215">SocketDNS_Request_T::hash_next</a></div><div class="ttdeci">struct SocketDNS_Request_T * hash_next</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00221">SocketDNS-private.h:221</a></div></div>
<div class="ttc" id="agroup__dns_html_ac9f3fa1aca3eb39a39d6e3777fc49273"><div class="ttname"><a href="group__dns.html#ac9f3fa1aca3eb39a39d6e3777fc49273">SocketDNS_Request_T::host</a></div><div class="ttdeci">char * host</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00213">SocketDNS-private.h:213</a></div></div>
<div class="ttc" id="agroup__dns_html_acdc4f7c7982f99ed429b960d0136ef03"><div class="ttname"><a href="group__dns.html#acdc4f7c7982f99ed429b960d0136ef03">SocketDNS_CacheEntry::insert_time_ms</a></div><div class="ttdeci">int64_t insert_time_ms</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00238">SocketDNS-private.h:238</a></div></div>
<div class="ttc" id="agroup__dns_html_ad13012e13d0e2f6a9a2a18917249f45c"><div class="ttname"><a href="group__dns.html#ad13012e13d0e2f6a9a2a18917249f45c">SocketDNS_T::queue_cond</a></div><div class="ttdeci">pthread_cond_t queue_cond</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00272">SocketDNS-private.h:272</a></div></div>
<div class="ttc" id="agroup__dns_html_adb82c384f91b26001b159b838dc2d153"><div class="ttname"><a href="group__dns.html#adb82c384f91b26001b159b838dc2d153">SocketDNS_T::arena</a></div><div class="ttdeci">Arena_T arena</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00262">SocketDNS-private.h:262</a></div></div>
<div class="ttc" id="agroup__dns_html_ae0a2004f91a93f8b0dc545f9218f1442"><div class="ttname"><a href="group__dns.html#ae0a2004f91a93f8b0dc545f9218f1442">SocketDNS_T::cache_misses</a></div><div class="ttdeci">uint64_t cache_misses</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00288">SocketDNS-private.h:288</a></div></div>
<div class="ttc" id="agroup__dns_html_ae5aa58d8c9a029fff13619993cdb8c3e"><div class="ttname"><a href="group__dns.html#ae5aa58d8c9a029fff13619993cdb8c3e">SocketDNS_T::num_workers</a></div><div class="ttdeci">int num_workers</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00264">SocketDNS-private.h:264</a></div></div>
<div class="ttc" id="agroup__dns_html_aeddfbe59d08f55af648954a09ce13e1c"><div class="ttname"><a href="group__dns.html#aeddfbe59d08f55af648954a09ce13e1c">SocketDNS_Request_T::queue_next</a></div><div class="ttdeci">struct SocketDNS_Request_T * queue_next</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00220">SocketDNS-private.h:220</a></div></div>
<div class="ttc" id="agroup__dns_html_afb60ae86fa4e34c68f4b19248c0a6224"><div class="ttname"><a href="group__dns.html#afb60ae86fa4e34c68f4b19248c0a6224">SocketDNS_Request_T::dns_resolver</a></div><div class="ttdeci">struct SocketDNS_T * dns_resolver</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00225">SocketDNS-private.h:225</a></div></div>
<div class="ttc" id="agroup__dns_html_afd50b3f49a48cb75f1701e077dbb6ba5"><div class="ttname"><a href="group__dns.html#afd50b3f49a48cb75f1701e077dbb6ba5">SocketDNS_CacheEntry::lru_next</a></div><div class="ttdeci">struct SocketDNS_CacheEntry * lru_next</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00242">SocketDNS-private.h:242</a></div></div>
<div class="ttc" id="agroup__dns_html_affc9bb7fb07c068e65155ad2107ee947"><div class="ttname"><a href="group__dns.html#affc9bb7fb07c068e65155ad2107ee947">SocketDNS_T::custom_nameservers</a></div><div class="ttdeci">char ** custom_nameservers</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00294">SocketDNS-private.h:294</a></div></div>
<div class="ttc" id="agroup__dns_html_ga01e5cc089ceff56a8558e455b94c8254"><div class="ttname"><a href="group__dns.html#ga01e5cc089ceff56a8558e455b94c8254">signal_completion</a></div><div class="ttdeci">void signal_completion(struct SocketDNS_T *dns)</div><div class="ttdoc">Signal completion of DNS request to waiting threads/polls.</div></div>
<div class="ttc" id="agroup__dns_html_ga06edd21b5cb02e131393e908502c2563"><div class="ttname"><a href="group__dns.html#ga06edd21b5cb02e131393e908502c2563">initialize_queue_condition</a></div><div class="ttdeci">void initialize_queue_condition(struct SocketDNS_T *dns)</div><div class="ttdoc">Initialize condition variable for queue empty/full signaling.</div></div>
<div class="ttc" id="agroup__dns_html_ga08b07ff9ca818c6179416243aa5be0e3"><div class="ttname"><a href="group__dns.html#ga08b07ff9ca818c6179416243aa5be0e3">initialize_result_condition</a></div><div class="ttdeci">void initialize_result_condition(struct SocketDNS_T *dns)</div><div class="ttdoc">Initialize condition variable for result availability signaling.</div></div>
<div class="ttc" id="agroup__dns_html_ga08d853b1c769338c43c424a51f071876"><div class="ttname"><a href="group__dns.html#ga08d853b1c769338c43c424a51f071876">dns_cancellation_error</a></div><div class="ttdeci">int dns_cancellation_error(void)</div><div class="ttdoc">Get error code indicating request was cancelled.</div></div>
<div class="ttc" id="agroup__dns_html_ga0e26345eeede858bb5922a6109160037"><div class="ttname"><a href="group__dns.html#ga0e26345eeede858bb5922a6109160037">handle_request_timeout</a></div><div class="ttdeci">void handle_request_timeout(struct SocketDNS_T *dns, struct SocketDNS_Request_T *req)</div><div class="ttdoc">Handle timeout for a specific request.</div></div>
<div class="ttc" id="agroup__dns_html_ga1a4a337f44614e431316266926e989ed"><div class="ttname"><a href="group__dns.html#ga1a4a337f44614e431316266926e989ed">set_pipe_nonblocking</a></div><div class="ttdeci">void set_pipe_nonblocking(struct SocketDNS_T *dns)</div><div class="ttdoc">Set completion pipe to non-blocking mode.</div></div>
<div class="ttc" id="agroup__dns_html_ga1e9801b10626b586b24b9f9c76b89fbb"><div class="ttname"><a href="group__dns.html#ga1e9801b10626b586b24b9f9c76b89fbb">initialize_addrinfo_hints</a></div><div class="ttdeci">void initialize_addrinfo_hints(struct addrinfo *hints)</div><div class="ttdoc">Initialize addrinfo hints structure with defaults.</div></div>
<div class="ttc" id="agroup__dns_html_ga1fab8535e6f7b9cd7213be1f35babf70"><div class="ttname"><a href="group__dns.html#ga1fab8535e6f7b9cd7213be1f35babf70">reset_dns_state</a></div><div class="ttdeci">void reset_dns_state(struct SocketDNS_T *dns)</div><div class="ttdoc">Reset DNS resolver state to uninitialized values.</div></div>
<div class="ttc" id="agroup__dns_html_ga33fdc34348f496c17c968499f90ef36c"><div class="ttname"><a href="group__dns.html#ga33fdc34348f496c17c968499f90ef36c">request_effective_timeout_ms</a></div><div class="ttdeci">int request_effective_timeout_ms(const struct SocketDNS_T *dns, const struct SocketDNS_Request_T *req)</div><div class="ttdoc">Get effective timeout for request (with fallback to default).</div></div>
<div class="ttc" id="agroup__dns_html_ga350ef25d04ab2c551f69473a94faaee5"><div class="ttname"><a href="group__dns.html#ga350ef25d04ab2c551f69473a94faaee5">cleanup_mutex_cond</a></div><div class="ttdeci">void cleanup_mutex_cond(struct SocketDNS_T *dns)</div><div class="ttdoc">Clean up mutex and condition variables.</div></div>
<div class="ttc" id="agroup__dns_html_ga39628720afa0f701ab8d3e9bcceeb21c"><div class="ttname"><a href="group__dns.html#ga39628720afa0f701ab8d3e9bcceeb21c">check_queue_limit</a></div><div class="ttdeci">int check_queue_limit(const struct SocketDNS_T *dns)</div><div class="ttdoc">Check if queue has reached capacity limit.</div></div>
<div class="ttc" id="agroup__dns_html_ga3a861e18294d856d7424ed8d7430d642"><div class="ttname"><a href="group__dns.html#ga3a861e18294d856d7424ed8d7430d642">destroy_dns_resources</a></div><div class="ttdeci">void destroy_dns_resources(struct SocketDNS_T *dns)</div><div class="ttdoc">Destroy all DNS resolver resources.</div></div>
<div class="ttc" id="agroup__dns_html_ga47df31a4c5b1861e6bc33bf91effa388"><div class="ttname"><a href="group__dns.html#ga47df31a4c5b1861e6bc33bf91effa388">SocketDNS_Callback</a></div><div class="ttdeci">void(* SocketDNS_Callback)(SocketDNS_Request_T *, struct addrinfo *, int, void *)</div><div class="ttdoc">Completion callback type invoked when DNS resolution finishes.</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00108">SocketDNS-private.h:108</a></div></div>
<div class="ttc" id="agroup__dns_html_ga4d2b657e4e48e6748189193c13195348"><div class="ttname"><a href="group__dns.html#ga4d2b657e4e48e6748189193c13195348">free_hash_table_requests</a></div><div class="ttdeci">void free_hash_table_requests(struct SocketDNS_T *dns)</div><div class="ttdoc">Free all requests currently in the hash table.</div></div>
<div class="ttc" id="agroup__dns_html_ga4e5821b121187c8fe5bdf8e5af7b76d7"><div class="ttname"><a href="group__dns.html#ga4e5821b121187c8fe5bdf8e5af7b76d7">initialize_pipe</a></div><div class="ttdeci">void initialize_pipe(struct SocketDNS_T *dns)</div><div class="ttdoc">Initialize completion pipe (create + configure).</div></div>
<div class="ttc" id="agroup__dns_html_ga5021646b59321cc2b5ab7ca06895f7ed"><div class="ttname"><a href="group__dns.html#ga5021646b59321cc2b5ab7ca06895f7ed">allocate_request_structure</a></div><div class="ttdeci">struct SocketDNS_Request_T * allocate_request_structure(struct SocketDNS_T *dns)</div><div class="ttdoc">Allocate uninitialized request structure from resolver arena.</div></div>
<div class="ttc" id="agroup__dns_html_ga5049b49f719f1be126b489957a62c7d8"><div class="ttname"><a href="group__dns.html#ga5049b49f719f1be126b489957a62c7d8">invoke_callback</a></div><div class="ttdeci">void invoke_callback(struct SocketDNS_T *dns, struct SocketDNS_Request_T *req)</div><div class="ttdoc">Invoke user callback for completed request.</div></div>
<div class="ttc" id="agroup__dns_html_ga516cbcd949e90804306ac10ec02af7cd"><div class="ttname"><a href="group__dns.html#ga516cbcd949e90804306ac10ec02af7cd">wait_for_request</a></div><div class="ttdeci">struct SocketDNS_Request_T * wait_for_request(struct SocketDNS_T *dns)</div><div class="ttdoc">Wait for a request to become available in the queue.</div></div>
<div class="ttc" id="agroup__dns_html_ga535554eb81b22d80ff8e72060293345b"><div class="ttname"><a href="group__dns.html#ga535554eb81b22d80ff8e72060293345b">request_timed_out</a></div><div class="ttdeci">int request_timed_out(const struct SocketDNS_T *dns, const struct SocketDNS_Request_T *req)</div><div class="ttdoc">Check if request has exceeded its timeout.</div></div>
<div class="ttc" id="agroup__dns_html_ga5bac854631773fa0c56cd5e965cef525"><div class="ttname"><a href="group__dns.html#ga5bac854631773fa0c56cd5e965cef525">allocate_request</a></div><div class="ttdeci">struct SocketDNS_Request_T * allocate_request(struct SocketDNS_T *dns, const char *host, size_t host_len, int port, SocketDNS_Callback cb, void *data)</div><div class="ttdoc">Allocate and initialize complete DNS request.</div></div>
<div class="ttc" id="agroup__dns_html_ga6b30e5d8a0c4c61b78414c87fc2e6ad6"><div class="ttname"><a href="group__dns.html#ga6b30e5d8a0c4c61b78414c87fc2e6ad6">shutdown_workers</a></div><div class="ttdeci">void shutdown_workers(struct SocketDNS_T *dns)</div><div class="ttdoc">Signal worker threads to shut down.</div></div>
<div class="ttc" id="agroup__dns_html_ga6c14a21d40420acc4820fa2ff503ca20"><div class="ttname"><a href="group__dns.html#ga6c14a21d40420acc4820fa2ff503ca20">queue_remove</a></div><div class="ttdeci">void queue_remove(struct SocketDNS_T *dns, struct SocketDNS_Request_T *req)</div><div class="ttdoc">Remove request from processing queue.</div></div>
<div class="ttc" id="agroup__dns_html_ga7570715dd7fcb113790e60bedd3139fb"><div class="ttname"><a href="group__dns.html#ga7570715dd7fcb113790e60bedd3139fb">handle_resolution_result</a></div><div class="ttdeci">void handle_resolution_result(struct SocketDNS_T *dns, struct SocketDNS_Request_T *req, struct addrinfo *result, int res)</div><div class="ttdoc">Handle result of DNS resolution attempt.</div></div>
<div class="ttc" id="agroup__dns_html_ga7611dac05257caaebe03fad6b799a65e"><div class="ttname"><a href="group__dns.html#ga7611dac05257caaebe03fad6b799a65e">cleanup_on_init_failure</a></div><div class="ttdeci">void cleanup_on_init_failure(struct SocketDNS_T *dns, enum DnsCleanupLevel cleanup_level)</div><div class="ttdoc">Clean up resources based on initialization failure level.</div></div>
<div class="ttc" id="agroup__dns_html_ga78e2afb20697e782942fa9ed48084a90"><div class="ttname"><a href="group__dns.html#ga78e2afb20697e782942fa9ed48084a90">cancel_pending_request</a></div><div class="ttdeci">void cancel_pending_request(struct SocketDNS_T *dns, struct SocketDNS_Request_T *req)</div><div class="ttdoc">Cancel a pending request before it starts processing.</div></div>
<div class="ttc" id="agroup__dns_html_ga7f292c19cdf04ce4fb9f9a890b656cf0"><div class="ttname"><a href="group__dns.html#ga7f292c19cdf04ce4fb9f9a890b656cf0">worker_thread</a></div><div class="ttdeci">void * worker_thread(void *arg)</div><div class="ttdoc">Main worker thread function for DNS resolution.</div></div>
<div class="ttc" id="agroup__dns_html_ga84b432e1a64990d148474aab42fec110"><div class="ttname"><a href="group__dns.html#ga84b432e1a64990d148474aab42fec110">prepare_local_hints</a></div><div class="ttdeci">void prepare_local_hints(struct addrinfo *local_hints, const struct addrinfo *base_hints, const struct SocketDNS_Request_T *req)</div><div class="ttdoc">Prepare addrinfo hints for specific request.</div></div>
<div class="ttc" id="agroup__dns_html_ga898228e143549696bc2d4e5d00f8965f"><div class="ttname"><a href="group__dns.html#ga898228e143549696bc2d4e5d00f8965f">drain_completion_pipe</a></div><div class="ttdeci">void drain_completion_pipe(struct SocketDNS_T *dns)</div><div class="ttdoc">Drain all pending completion signals from pipe.</div></div>
<div class="ttc" id="agroup__dns_html_ga93a54f32c13c556fda9cb00e58078075"><div class="ttname"><a href="group__dns.html#ga93a54f32c13c556fda9cb00e58078075">initialize_mutex</a></div><div class="ttdeci">void initialize_mutex(struct SocketDNS_T *dns)</div><div class="ttdoc">Initialize the main mutex protecting DNS resolver state.</div></div>
<div class="ttc" id="agroup__dns_html_ga94f5a6033fa425d4586553885a1dea47"><div class="ttname"><a href="group__dns.html#ga94f5a6033fa425d4586553885a1dea47">create_single_worker_thread</a></div><div class="ttdeci">int create_single_worker_thread(struct SocketDNS_T *dns, int thread_index)</div><div class="ttdoc">Allocate and zero-initialize DNS resolver structure from heap memory.</div></div>
<div class="ttc" id="agroup__dns_html_ga966920bebbea908c25400af44930fe59"><div class="ttname"><a href="group__dns.html#ga966920bebbea908c25400af44930fe59">start_dns_workers</a></div><div class="ttdeci">void start_dns_workers(struct SocketDNS_T *dns)</div><div class="ttdoc">Start DNS worker threads (transition from initialization to running).</div></div>
<div class="ttc" id="agroup__dns_html_gaa0d1b0f6a9b6fa146ef00d6ca9211684"><div class="ttname"><a href="group__dns.html#gaa0d1b0f6a9b6fa146ef00d6ca9211684">free_queued_requests</a></div><div class="ttdeci">void free_queued_requests(struct SocketDNS_T *dns)</div><div class="ttdoc">Free all requests currently in the processing queue.</div></div>
<div class="ttc" id="agroup__dns_html_gaa57962854d57cd4bad03222b31bf5036"><div class="ttname"><a href="group__dns.html#gaa57962854d57cd4bad03222b31bf5036">remove_from_queue_middle</a></div><div class="ttdeci">void remove_from_queue_middle(struct SocketDNS_T *dns, struct SocketDNS_Request_T *req)</div><div class="ttdoc">Remove request from middle of queue.</div></div>
<div class="ttc" id="agroup__dns_html_gaa5ee93c269a62b9aa6c34c965b5d116a"><div class="ttname"><a href="group__dns.html#gaa5ee93c269a62b9aa6c34c965b5d116a">free_request_list</a></div><div class="ttdeci">void free_request_list(struct SocketDNS_Request_T *head, int use_hash_next)</div><div class="ttdoc">Free a linked list of DNS requests.</div></div>
<div class="ttc" id="agroup__dns_html_gaa9424b326264ca67ebcd3b425836fd3e"><div class="ttname"><a href="group__dns.html#gaa9424b326264ca67ebcd3b425836fd3e">create_worker_threads</a></div><div class="ttdeci">void create_worker_threads(struct SocketDNS_T *dns)</div><div class="ttdoc">Spawn the configured number of DNS worker threads.</div></div>
<div class="ttc" id="agroup__dns_html_gaba752f803497a475aa1b96ed2351dd99"><div class="ttname"><a href="group__dns.html#gaba752f803497a475aa1b96ed2351dd99">DnsCleanupLevel</a></div><div class="ttdeci">DnsCleanupLevel</div><div class="ttdoc">Levels for partial cleanup during initialization failures.</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00188">SocketDNS-private.h:189</a></div></div>
<div class="ttc" id="agroup__dns_html_gabac4f41fc92ef0aec184eb3c8e6e10cb"><div class="ttname"><a href="group__dns.html#gabac4f41fc92ef0aec184eb3c8e6e10cb">validate_resolve_params</a></div><div class="ttdeci">void validate_resolve_params(const char *host, int port)</div><div class="ttdoc">Validate hostname and port parameters for DNS resolution.</div></div>
<div class="ttc" id="agroup__dns_html_gabbf149223655194c14baa78907cb2dab"><div class="ttname"><a href="group__dns.html#gabbf149223655194c14baa78907cb2dab">RequestState</a></div><div class="ttdeci">RequestState</div><div class="ttdoc">Enumeration of DNS request lifecycle states.</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00151">SocketDNS-private.h:152</a></div></div>
<div class="ttc" id="agroup__dns_html_gac17573e4e80145c4c8dcd3e4dbef28b1"><div class="ttname"><a href="group__dns.html#gac17573e4e80145c4c8dcd3e4dbef28b1">hash_table_insert</a></div><div class="ttdeci">void hash_table_insert(struct SocketDNS_T *dns, struct SocketDNS_Request_T *req)</div><div class="ttdoc">Insert request into hash table for O(1) lookup.</div></div>
<div class="ttc" id="agroup__dns_html_gac4cb4a632aba382e70ef8fcf90e942c3"><div class="ttname"><a href="group__dns.html#gac4cb4a632aba382e70ef8fcf90e942c3">perform_dns_resolution</a></div><div class="ttdeci">int perform_dns_resolution(const struct SocketDNS_Request_T *req, const struct addrinfo *hints, struct addrinfo **result)</div><div class="ttdoc">Perform actual DNS resolution using getaddrinfo().</div></div>
<div class="ttc" id="agroup__dns_html_gacae541ca39283e052d84495e5201a6fd"><div class="ttname"><a href="group__dns.html#gacae541ca39283e052d84495e5201a6fd">allocate_request_hostname</a></div><div class="ttdeci">void allocate_request_hostname(struct SocketDNS_T *dns, struct SocketDNS_Request_T *req, const char *host, size_t host_len)</div><div class="ttdoc">Allocate and copy hostname string for request.</div></div>
<div class="ttc" id="agroup__dns_html_gad1dda38ff120421fec3f5f32adf367bc"><div class="ttname"><a href="group__dns.html#gad1dda38ff120421fec3f5f32adf367bc">initialize_request_fields</a></div><div class="ttdeci">void initialize_request_fields(struct SocketDNS_Request_T *req, int port, SocketDNS_Callback callback, void *data)</div><div class="ttdoc">Initialize request fields after allocation.</div></div>
<div class="ttc" id="agroup__dns_html_gad26b2a24da54162a2a3aa842252aba6c"><div class="ttname"><a href="group__dns.html#gad26b2a24da54162a2a3aa842252aba6c">cleanup_pipe</a></div><div class="ttdeci">void cleanup_pipe(struct SocketDNS_T *dns)</div><div class="ttdoc">Clean up completion pipe.</div></div>
<div class="ttc" id="agroup__dns_html_gad5067399f8c9930eb42f1e625899a3f7"><div class="ttname"><a href="group__dns.html#gad5067399f8c9930eb42f1e625899a3f7">mark_request_timeout</a></div><div class="ttdeci">void mark_request_timeout(struct SocketDNS_T *dns, struct SocketDNS_Request_T *req)</div><div class="ttdoc">Mark request as timed out with appropriate error code.</div></div>
<div class="ttc" id="agroup__dns_html_gadbc14c60ccd56fe1f73c7d52b04d0664"><div class="ttname"><a href="group__dns.html#gadbc14c60ccd56fe1f73c7d52b04d0664">store_resolution_result</a></div><div class="ttdeci">void store_resolution_result(struct SocketDNS_T *dns, struct SocketDNS_Request_T *req, struct addrinfo *result, int error)</div><div class="ttdoc">Store DNS resolution result in request structure.</div></div>
<div class="ttc" id="agroup__dns_html_gadbfe83ac3fd8daf74a5189130d35eb54"><div class="ttname"><a href="group__dns.html#gadbfe83ac3fd8daf74a5189130d35eb54">hash_table_remove</a></div><div class="ttdeci">void hash_table_remove(struct SocketDNS_T *dns, struct SocketDNS_Request_T *req)</div><div class="ttdoc">Remove request from hash table.</div></div>
<div class="ttc" id="agroup__dns_html_gadfd7ab93512c5ab94d32415eac07e69e"><div class="ttname"><a href="group__dns.html#gadfd7ab93512c5ab94d32415eac07e69e">submit_dns_request</a></div><div class="ttdeci">void submit_dns_request(struct SocketDNS_T *dns, struct SocketDNS_Request_T *req)</div><div class="ttdoc">Submit request for processing by worker threads.</div></div>
<div class="ttc" id="agroup__dns_html_gae79ec1f8c6638d30d082e8af45420837"><div class="ttname"><a href="group__dns.html#gae79ec1f8c6638d30d082e8af45420837">request_hash_function</a></div><div class="ttdeci">unsigned request_hash_function(const struct SocketDNS_Request_T *req)</div><div class="ttdoc">Compute hash value for request pointer.</div></div>
<div class="ttc" id="agroup__dns_html_gaf136ad6b2c162ef7251dc25b2e1a7200"><div class="ttname"><a href="group__dns.html#gaf136ad6b2c162ef7251dc25b2e1a7200">remove_from_queue_head</a></div><div class="ttdeci">void remove_from_queue_head(struct SocketDNS_T *dns, struct SocketDNS_Request_T *req)</div><div class="ttdoc">Append a DNS request to the end of the FIFO processing queue.</div></div>
<div class="ttc" id="agroup__dns_html_gaf1cf4dd4591c2d36325e9478b8f81901"><div class="ttname"><a href="group__dns.html#gaf1cf4dd4591c2d36325e9478b8f81901">process_single_request</a></div><div class="ttdeci">void process_single_request(struct SocketDNS_T *dns, struct SocketDNS_Request_T *req, const struct addrinfo *base_hints)</div><div class="ttdoc">Process a single DNS request from the queue.</div></div>
<div class="ttc" id="agroup__dns_html_gaf2ecd94190827e14a98bab9b52b3cd7d"><div class="ttname"><a href="group__dns.html#gaf2ecd94190827e14a98bab9b52b3cd7d">dequeue_request</a></div><div class="ttdeci">struct SocketDNS_Request_T * dequeue_request(struct SocketDNS_T *dns)</div><div class="ttdoc">Remove and return next request from processing queue.</div></div>
<div class="ttc" id="agroup__dns_html_gaf6a2fbf12055d3bcc4abb72a9f8cdea8"><div class="ttname"><a href="group__dns.html#gaf6a2fbf12055d3bcc4abb72a9f8cdea8">free_all_requests</a></div><div class="ttdeci">void free_all_requests(struct SocketDNS_T *dns)</div><div class="ttdoc">Free all pending and completed DNS requests.</div></div>
<div class="ttc" id="agroup__dns_html_gaf875bcba3b535a0981600de2c0aa5720"><div class="ttname"><a href="group__dns.html#gaf875bcba3b535a0981600de2c0aa5720">initialize_synchronization</a></div><div class="ttdeci">void initialize_synchronization(struct SocketDNS_T *dns)</div><div class="ttdoc">Initialize all synchronization primitives (mutex + conditions).</div></div>
<div class="ttc" id="agroup__dns_html_gafd2db132989e70ce194d307157648be2"><div class="ttname"><a href="group__dns.html#gafd2db132989e70ce194d307157648be2">create_completion_pipe</a></div><div class="ttdeci">void create_completion_pipe(struct SocketDNS_T *dns)</div><div class="ttdoc">Create pipe for completion signaling to event loops.</div></div>
<div class="ttc" id="agroup__dns_html_ggaba752f803497a475aa1b96ed2351dd99a080e8c4f0bc500d949f6210704a156ca"><div class="ttname"><a href="group__dns.html#ggaba752f803497a475aa1b96ed2351dd99a080e8c4f0bc500d949f6210704a156ca">DNS_CLEAN_PIPE</a></div><div class="ttdeci">@ DNS_CLEAN_PIPE</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00193">SocketDNS-private.h:193</a></div></div>
<div class="ttc" id="agroup__dns_html_ggaba752f803497a475aa1b96ed2351dd99a2e24c3dd9e7450a52d40c9480eaccffc"><div class="ttname"><a href="group__dns.html#ggaba752f803497a475aa1b96ed2351dd99a2e24c3dd9e7450a52d40c9480eaccffc">DNS_CLEAN_CONDS</a></div><div class="ttdeci">@ DNS_CLEAN_CONDS</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00192">SocketDNS-private.h:192</a></div></div>
<div class="ttc" id="agroup__dns_html_ggaba752f803497a475aa1b96ed2351dd99a615acce89a6c289fce7fd44bd35b0d25"><div class="ttname"><a href="group__dns.html#ggaba752f803497a475aa1b96ed2351dd99a615acce89a6c289fce7fd44bd35b0d25">DNS_CLEAN_MUTEX</a></div><div class="ttdeci">@ DNS_CLEAN_MUTEX</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00191">SocketDNS-private.h:191</a></div></div>
<div class="ttc" id="agroup__dns_html_ggaba752f803497a475aa1b96ed2351dd99aae3ddf1daeda71dca3b2cb763696b941"><div class="ttname"><a href="group__dns.html#ggaba752f803497a475aa1b96ed2351dd99aae3ddf1daeda71dca3b2cb763696b941">DNS_CLEAN_NONE</a></div><div class="ttdeci">@ DNS_CLEAN_NONE</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00190">SocketDNS-private.h:190</a></div></div>
<div class="ttc" id="agroup__dns_html_ggaba752f803497a475aa1b96ed2351dd99afbae8735e6a307a7f4eea386f3d5afbb"><div class="ttname"><a href="group__dns.html#ggaba752f803497a475aa1b96ed2351dd99afbae8735e6a307a7f4eea386f3d5afbb">DNS_CLEAN_ARENA</a></div><div class="ttdeci">@ DNS_CLEAN_ARENA</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00195">SocketDNS-private.h:194</a></div></div>
<div class="ttc" id="agroup__dns_html_ggabbf149223655194c14baa78907cb2daba5018b6008cd3f54493a3eab0c3e29016"><div class="ttname"><a href="group__dns.html#ggabbf149223655194c14baa78907cb2daba5018b6008cd3f54493a3eab0c3e29016">REQ_COMPLETE</a></div><div class="ttdeci">@ REQ_COMPLETE</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00157">SocketDNS-private.h:156</a></div></div>
<div class="ttc" id="agroup__dns_html_ggabbf149223655194c14baa78907cb2daba7ead5ef092f0da5dc3697bef6e471634"><div class="ttname"><a href="group__dns.html#ggabbf149223655194c14baa78907cb2daba7ead5ef092f0da5dc3697bef6e471634">REQ_PENDING</a></div><div class="ttdeci">@ REQ_PENDING</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00153">SocketDNS-private.h:153</a></div></div>
<div class="ttc" id="agroup__dns_html_ggabbf149223655194c14baa78907cb2daba8ee12f04250be78e34a7bdf0f08f2111"><div class="ttname"><a href="group__dns.html#ggabbf149223655194c14baa78907cb2daba8ee12f04250be78e34a7bdf0f08f2111">REQ_CANCELLED</a></div><div class="ttdeci">@ REQ_CANCELLED</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00159">SocketDNS-private.h:158</a></div></div>
<div class="ttc" id="agroup__dns_html_ggabbf149223655194c14baa78907cb2dabaee8f2ea0bc2ac29aebf50d119493c1ec"><div class="ttname"><a href="group__dns.html#ggabbf149223655194c14baa78907cb2dabaee8f2ea0bc2ac29aebf50d119493c1ec">REQ_PROCESSING</a></div><div class="ttdeci">@ REQ_PROCESSING</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00155">SocketDNS-private.h:154</a></div></div>
<div class="ttc" id="agroup__dns_html_structSocketDNS__CacheEntry"><div class="ttname"><a href="group__dns.html#structSocketDNS__CacheEntry">SocketDNS_CacheEntry</a></div><div class="ttdoc">DNS cache entry structure.</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00234">SocketDNS-private.h:235</a></div></div>
<div class="ttc" id="agroup__dns_html_structSocketDNS__Request__T"><div class="ttname"><a href="group__dns.html#structSocketDNS__Request__T">SocketDNS_Request_T</a></div><div class="ttdoc">DNS resolution request structure.</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00211">SocketDNS-private.h:212</a></div></div>
<div class="ttc" id="agroup__dns_html_structSocketDNS__T"><div class="ttname"><a href="group__dns.html#structSocketDNS__T">SocketDNS_T</a></div><div class="ttdoc">Async DNS resolver structure.</div><div class="ttdef"><b>Definition</b> <a href="SocketDNS-private_8h_source.html#l00260">SocketDNS-private.h:261</a></div></div>
<div class="ttc" id="agroup__foundation_html_gac1ed22b9df4eff7a3398cac608c090cc"><div class="ttname"><a href="group__foundation.html#gac1ed22b9df4eff7a3398cac608c090cc">Arena_T</a></div><div class="ttdeci">struct Arena_T * Arena_T</div><div class="ttdef"><b>Definition</b> <a href="Arena_8h_source.html#l00080">Arena.h:80</a></div></div>
<div class="ttc" id="agroup__foundation_html_structExcept__T"><div class="ttname"><a href="group__foundation.html#structExcept__T">Except_T</a></div><div class="ttdoc">Exception structure for structured error handling.</div><div class="ttdef"><b>Definition</b> <a href="Except_8h_source.html#l00216">Except.h:217</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- GitHub Corner - Waving Octocat -->
<a href="https://github.com/7etsuo/tetsuo-socket" class="github-corner" aria-label="View source on GitHub">
  <svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true">
    <path d="m0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
    <path d="m128.3,109.0 C113.8,99.7 119.0,89.4 119.0,89.4 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
    <path d="m115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path>
  </svg>
</a>
<style>
.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}
</style>
<!-- Custom footer for Tetsuo Pulse -->
<div id="nav-path" class="navpath">
  <ul>
    <li class="footer" style="text-align: center; width: 100%;">
       <a href="https://tetsuocorp.com" target="_blank" rel="noopener">Tetsuo Corp</a>
    </li>
  </ul>
</div>
</body>
</html>
